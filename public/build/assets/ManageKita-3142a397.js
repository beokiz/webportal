import{d as Re}from"./index-d53b0d5c.js";import{K as Ge,j as v,l as Z,k as R,T as G,A as ne,r as y,o as U,f as Ee,a as e,u as s,w as l,F as Ue,Z as Le,b as i,t as D,c as A,m as g,h as C,d as V,i as Se,q as He,O as Je}from"./app-7b50ecaf.js";import{_ as We}from"./AuthenticatedLayout-ad2ce492.js";import"./ApplicationLogo-7e74eadd.js";const Qe={class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},Xe={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},Ye=i("span",null,"Zertifikat versenden",-1),el=i("h3",null,"Eigenschaften",-1),ll=i("h4",null,"Adresse",-1),al=i("h4",null,"Eigenschaften",-1),tl=i("h3",null,"Zugeordnete Benutzer",-1),ol={class:"tw-flex tw-items-center tw-justify-end"},rl=i("span",{class:"tw-text-h5"},"Verbinden Benutzer",-1),sl=i("p",null,"Wählen Sie die Benutzer aus, die Sie diesem Einrichtung hinzufügen möchten",-1),nl=i("span",{class:"tw-text-h5"},"Neuen Benutzer hinzufügen",-1),ul={class:"tw-bg-white tw-flex tw-justify-between tw-px-6 tw-py-6"},dl={class:"tw-w-full"},il=i("span",null,"Schreibe E-Mail an Auswahl",-1),ml=["data-id","data-order"],cl={align:"center"},fl={align:"right"},_l=["href"],pl=i("span",null,"Schreibe E-Mail",-1),vl=i("span",null,"Benutzer bearbeiten",-1),gl=i("span",null,"Benutzer löschen",-1),bl=i("div",{class:"tw-py-6"},[i("h3",{class:"tw-mb-4"},"Die Tabelle ist leer.")],-1),hl=i("span",{class:"tw-text-h5"},"Schreibe E-Mail an Auswahl",-1),El={__name:"ManageKita",props:{kita:Object,kitaUsers:Array,errors:Object,roles:Array,types:Array,operators:Array,users:Array,canBeEdited:Boolean,from:String,currentPage:Number,perPage:Number,lastPage:Number,total:Number,paging:Boolean,orderBy:String,sort:String,filters:Object,usersEmails:Array},setup(m){var ce,fe,_e,pe,ve,ge,be,he,ye,Ve,ke,we;const b=m;Re.Inertia.on("success",r=>{let t=r.detail.page.props;r.detail.page.component==="Kitas/Partials/ManageKita"&&t&&(k.value=t.kita)});const ue=Ge().props.auth.user??{},k=v(b.kita),c=v(b.errors||{}),F=v(!1),de=v(null),L=v(!1),ae=v(!1),H=v(!1);Z(L,r=>{r||S()});const ze=R(()=>{if(b.from){const r=b.from.split(";");if(r.length===3){const t=r[0],p={};return p[r[1]]=r[2],route(t,p)}}return route("kitas.index")}),S=()=>{L.value=!1,ae.value=!1,H.value=!1,W.value=!1,_.reset(),_.clearErrors(),z.reset(),z.clearErrors(),c.value={}},te=()=>{_.reset(),_.clearErrors(),z.reset(),z.clearErrors(),n.reset(),n.clearErrors(),n.zip_code=null,n.name=null,n.number=null,n.provider_of_the_kita=null,n.street=null,n.house_number=null,n.additional_info=null,n.city=null},Be=r=>{de.value=r.full_name,J.user=r.id,H.value=!0},J=G({user:null}),Ce=async()=>{J.processing=!0;let r={onSuccess:t=>{S()},onError:t=>{c.value=t},onFinish:()=>{J.processing=!1}};J.post(route("kitas.disconnect_user",{id:b.kita.id}),r)},n=G({id:k.value.id,name:(ce=k.value)==null?void 0:ce.name,number:(fe=k.value)==null?void 0:fe.number,street:(_e=k.value)==null?void 0:_e.street,house_number:(pe=k.value)==null?void 0:pe.house_number,additional_info:(ve=k.value)==null?void 0:ve.additional_info,zip_code:(ge=k.value)==null?void 0:ge.zip_code,operator_id:(be=k.value)==null?void 0:be.operator_id,other_operator:(he=k.value)==null?void 0:he.other_operator,city:(ye=k.value)==null?void 0:ye.city,num_pedagogical_staff:(Ve=k.value)==null?void 0:Ve.num_pedagogical_staff,approved:(ke=k.value)==null?void 0:ke.approved,type:(we=k.value)==null?void 0:we.type}),Fe=async()=>{n.processing=!0;let r={preserveState:!1,onSuccess:t=>{S()},onError:t=>{c.value=t},onFinish:()=>{n.processing=!1}};n.put(route("kitas.update",{kita:n.id}),r)},_=G({first_name:null,last_name:null,email:null,role:null,two_factor_auth_enabled:!1,phone_number:null,kitas:[k.value.id],send_invite_email:!1}),Ne=async()=>{_.processing=!0,_.post(route("users.store_from_kita"),{onSuccess:r=>{S()},onError:r=>{c.value=r},onFinish:()=>{_.processing=!1}})},z=G({users:null,kitas:[k.value.id]}),$e=async()=>{z.processing=!0,z.post(route("kitas.connect_users",{kita:_.kitas}),{onSuccess:r=>{S()},onError:r=>{c.value=r},onFinish:()=>{z.processing=!1}})},O=G({id:k.value.id}),Ke=async()=>{O.processing=!0;let r={onSuccess:t=>{S()},onError:t=>{c.value=t},onFinish:()=>{O.processing=!1}};O.post(route("kitas.send_kita_certificate_notification",{kita:O.id}),r)},xe=R(()=>ue.is_admin||ue.is_super_admin),qe=[{title:"Status",key:"is_online",width:"5%",sortable:!1,align:"center"},{title:"Vorname",key:"first_name",width:"17.5%",sortable:!0},{title:"Nachname",key:"last_name",width:"17.5%",sortable:!0},{title:"E-Mail",key:"email",width:"25%",sortable:!0},{title:"Rolle",key:"primary_role_name",width:"20%",sortable:!0},{title:"Aktion",key:"actions",width:"15%",sortable:!1,align:"center"}],Ae=[{title:"Ja",value:"true"},{title:"Nein",value:"false"}],ie=v(b.currentPage),Pe=v(b.perPage);v(b.orderBy),v(b.sort),v(b.total),v(b.lastPage);const N=v(b.filters.status??null),$=v(b.filters.first_name??null),K=v(b.filters.last_name??null),x=v(b.filters.email??null),q=v(b.filters.roles??null),me=v(""),j=v([]),W=v(!1),Te=R(()=>b.kitaUsers.map(r=>{const t={...r};for(const p in t)(t[p]===null||t[p]===void 0)&&(t[p]="-");return t})),Ze=R(()=>N.value===null&&$.value===null&&K.value===null&&x.value===null&&q.value===null),De=R(()=>N.value!==null||$.value!==null||K.value!==null||x.value!==null||q.value!==null);Z(N,r=>{M()}),Z($,ne.debounce(r=>{M()},500)),Z(K,ne.debounce(r=>{M()},500)),Z(x,ne.debounce(r=>{M()},500)),Z(q,r=>{M()});const M=()=>{F.value=!0,me.value=String(Date.now())},Oe=()=>{W.value=!0,j.value=b.usersEmails.map(r=>r.value)},je=async({page:r,itemsPerPage:t,sortBy:p,clearFilters:h})=>{if(h&&(N.value=null,$.value=null,K.value=null,x.value=null,q.value=null),r===ie.value&&h||Ze||De){F.value=!0;let o={page:r,per_page:t};p&&p.length>0?(o.order_by=p[0].key,o.sort=p[0].order):(o.order_by=null,o.sort=null),b.from&&(o.from=b.from),N.value&&(o.status=N.value),$.value&&(o.first_name=$.value),K.value&&(o.last_name=K.value),x.value&&(o.email=x.value),q.value&&(o.with_roles=q.value),await Je.get(route(route().current(),{kita:n.id}),o,{preserveScroll:!0,preserveState:!0,onCancelToken:d=>{},onCancel:()=>{},onBefore:d=>{F.value=!0},onStart:d=>{},onProgress:d=>{},onSuccess:d=>{ie.value=o.page,Pe.value=o.per_page},onError:d=>{console.log(d)},onFinish:d=>{F.value=!1}})}};return(r,t)=>{const p=y("v-btn"),h=y("v-hover"),o=y("v-col"),d=y("v-row"),B=y("v-container"),w=y("v-text-field"),T=y("v-select"),oe=y("v-checkbox"),P=y("v-btn-primary"),re=y("v-card-title"),Me=y("v-autocomplete"),Q=y("v-card-text"),X=y("v-spacer"),Y=y("v-card-actions"),ee=y("v-card"),le=y("v-dialog"),I=y("v-icon"),se=y("v-tooltip"),Ie=y("v-data-table-server");return U(),Ee(Ue,null,[e(s(Le),{title:`Verwalte Einrichtung ${m.kita.name}`},null,8,["title"]),e(We,{errors:c.value},{header:l(()=>[i("h2",Qe,"Verwalte Einrichtung "+D(m.kita.name),1)]),default:l(()=>[i("div",Xe,[e(B,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12",class:"text-right"},{default:l(()=>[r.$page.props.auth.user.is_super_admin||r.$page.props.auth.user.is_admin?(U(),A(h,{key:0},{default:l(({isHovering:a,props:f})=>[e(p,g({class:"tw-ml-4 tw-mb-4"},f,{color:a?"accent":"primary",dark:"",onClick:Ke,disabled:s(n).processing||s(O).processing}),{default:l(()=>[Ye]),_:2},1040,["color","disabled"])]),_:1})):C("",!0)]),_:1})]),_:1})]),_:1}),e(B,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[el]),_:1})]),_:1})]),_:1}),e(B,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[ll]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(w,{modelValue:s(n).name,"onUpdate:modelValue":t[0]||(t[0]=a=>s(n).name=a),"error-messages":c.value.name,label:"Name der Einrichtung / Einrichtung*",required:"",readonly:!m.canBeEdited},null,8,["modelValue","error-messages","readonly"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(w,{modelValue:s(n).number,"onUpdate:modelValue":t[1]||(t[1]=a=>s(n).number=a),"error-messages":c.value.number,label:"KiTa Nummer*",required:"",readonly:!m.canBeEdited},null,8,["modelValue","error-messages","readonly"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(w,{modelValue:s(n).street,"onUpdate:modelValue":t[2]||(t[2]=a=>s(n).street=a),"error-messages":c.value.street,label:"Straße*",required:"",readonly:!m.canBeEdited},null,8,["modelValue","error-messages","readonly"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(w,{modelValue:s(n).house_number,"onUpdate:modelValue":t[3]||(t[3]=a=>s(n).house_number=a),"error-messages":c.value.house_number,label:"Hausnummer*",required:"",readonly:!m.canBeEdited},null,8,["modelValue","error-messages","readonly"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[e(w,{modelValue:s(n).additional_info,"onUpdate:modelValue":t[4]||(t[4]=a=>s(n).additional_info=a),"error-messages":c.value.additional_info,label:"Sonstiges",required:"",readonly:!m.canBeEdited},null,8,["modelValue","error-messages","readonly"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(w,{modelValue:s(n).zip_code,"onUpdate:modelValue":t[5]||(t[5]=a=>s(n).zip_code=a),"error-messages":c.value.zip_code,label:"Postleitzahl*",type:"number",required:"",readonly:!m.canBeEdited},null,8,["modelValue","error-messages","readonly"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(w,{modelValue:s(n).city,"onUpdate:modelValue":t[6]||(t[6]=a=>s(n).city=a),"error-messages":c.value.city,label:"Stadt*",required:"",readonly:!m.canBeEdited},null,8,["modelValue","error-messages","readonly"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[al]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"4"},{default:l(()=>[e(T,{modelValue:s(n).operator_id,"onUpdate:modelValue":t[7]||(t[7]=a=>s(n).operator_id=a),items:m.operators,"error-messages":c.value.operator_id,"item-title":"name","item-value":"id",label:"Träger der Einrichtung*",required:"",readonly:!m.canBeEdited},null,8,["modelValue","items","error-messages","readonly"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(w,{modelValue:s(n).other_operator,"onUpdate:modelValue":t[8]||(t[8]=a=>s(n).other_operator=a),"error-messages":c.value.other_operator,label:"Sonstiger Träger",disabled:r.$page.props.auth.user.is_user_multiplier||s(n).operator_id,readonly:!m.canBeEdited},null,8,["modelValue","error-messages","disabled","readonly"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(w,{modelValue:s(n).num_pedagogical_staff,"onUpdate:modelValue":t[9]||(t[9]=a=>s(n).num_pedagogical_staff=a),"error-messages":c.value.num_pedagogical_staff,label:"Größe pädagogisches Team",type:"number",readonly:!m.canBeEdited},null,8,["modelValue","error-messages","readonly"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[r.$page.props.auth.user.is_super_admin||r.$page.props.auth.user.is_admin?(U(),A(o,{key:0,cols:"12",sm:"6"},{default:l(()=>[e(oe,{modelValue:s(n).approved,"onUpdate:modelValue":t[10]||(t[10]=a=>s(n).approved=a),label:"KiTa zur Ampel zugelassen",value:!0,readonly:!m.canBeEdited},null,8,["modelValue","readonly"])]),_:1})):C("",!0),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(T,{modelValue:s(n).type,"onUpdate:modelValue":t[11]||(t[11]=a=>s(n).type=a),items:m.types,"error-messages":c.value.type,label:"Größe der Einrichtung (1-10: klein, 11+: groß)*",required:"",readonly:!m.canBeEdited},null,8,["modelValue","items","error-messages","readonly"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[m.canBeEdited?(U(),A(h,{key:0},{default:l(({isHovering:a,props:f})=>[e(p,g({onClick:te},f,{color:a?"primary":"accent"}),{default:l(()=>[V("Zurücksetzen")]),_:2},1040,["color"])]),_:1})):C("",!0)]),_:1}),e(o,{cols:"12",sm:"6",align:"right"},{default:l(()=>[e(h,null,{default:l(({isHovering:a,props:f})=>[e(s(Se),{href:ze.value},{default:l(()=>[e(p,g({class:"mr-2",variant:"text"},f,{color:a?"accent":"primary"}),{default:l(()=>[V("Zurück")]),_:2},1040,["color"])]),_:2},1032,["href"])]),_:1}),m.canBeEdited?(U(),A(h,{key:0},{default:l(({isHovering:a,props:f})=>[e(P,g({onClick:Fe},f,{color:a?"accent":"primary"}),{default:l(()=>[V(" Speichern ")]),_:2},1040,["color"])]),_:1})):C("",!0)]),_:1})]),_:1})]),_:1}),r.$page.props.auth.user.is_super_admin||r.$page.props.auth.user.is_admin||r.$page.props.auth.user.is_manager||r.$page.props.auth.user.is_user_multiplier?(U(),Ee(Ue,{key:0},[e(B,null,{default:l(()=>[e(d,{class:"tw-border-t-8 tw-mt-8 tw-pt-8"},{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[tl]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[i("div",ol,[r.$page.props.auth.user.is_super_admin||r.$page.props.auth.user.is_admin?(U(),A(h,{key:0},{default:l(({isHovering:a,props:f})=>[e(p,g(f,{color:a?"accent":"primary",dark:"",class:"mr-2"}),{default:l(()=>[V(" Benutzer verbinden "),e(le,{modelValue:ae.value,"onUpdate:modelValue":t[13]||(t[13]=u=>ae.value=u),activator:"parent",width:"80vw"},{default:l(()=>[e(ee,{height:"80vh"},{default:l(()=>[e(re,null,{default:l(()=>[rl]),_:1}),e(Q,null,{default:l(()=>[e(B,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[sl]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[e(Me,{modelValue:s(z).users,"onUpdate:modelValue":t[12]||(t[12]=u=>s(z).users=u),items:m.users,"error-messages":c.value.users,"item-title":"full_name","item-value":"id",label:"User",multiple:"",required:""},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(Y,null,{default:l(()=>[e(h,null,{default:l(({isHovering:u,props:E})=>[e(P,g({onClick:te},E,{color:u?"primary":"accent"}),{default:l(()=>[V("Zurücksetzen")]),_:2},1040,["color"])]),_:2},1024),e(X),e(h,null,{default:l(({isHovering:u,props:E})=>[e(p,g({onClick:S},E,{color:u?"accent":"primary"}),{default:l(()=>[V("Zurück")]),_:2},1040,["color"])]),_:2},1024),e(h,null,{default:l(({isHovering:u,props:E})=>[e(P,g({onClick:$e},E,{color:u?"accent":"primary"}),{default:l(()=>[V("Speichern")]),_:2},1040,["color"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1040,["color"])]),_:1})):C("",!0),e(h,null,{default:l(({isHovering:a,props:f})=>[e(p,g(f,{color:a?"accent":"primary",dark:""}),{default:l(()=>[V(" Benutzer hinzufügen "),e(le,{modelValue:L.value,"onUpdate:modelValue":t[21]||(t[21]=u=>L.value=u),activator:"parent",width:"80vw"},{default:l(()=>[e(ee,{height:"80vh"},{default:l(()=>[e(re,null,{default:l(()=>[nl]),_:1}),e(Q,null,{default:l(()=>[e(B,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(w,{modelValue:s(_).first_name,"onUpdate:modelValue":t[14]||(t[14]=u=>s(_).first_name=u),"error-messages":c.value.first_name,label:"Vorname",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(w,{modelValue:s(_).last_name,"onUpdate:modelValue":t[15]||(t[15]=u=>s(_).last_name=u),"error-messages":c.value.last_name,label:"Nachname",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(w,{modelValue:s(_).email,"onUpdate:modelValue":t[16]||(t[16]=u=>s(_).email=u),"error-messages":c.value.email,label:"Email",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(w,{modelValue:s(_).phone_number,"onUpdate:modelValue":t[17]||(t[17]=u=>s(_).phone_number=u),"error-messages":c.value.phone_number,label:"Telefonnummer"},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(T,{modelValue:s(_).role,"onUpdate:modelValue":t[18]||(t[18]=u=>s(_).role=u),items:m.roles,"error-messages":c.value.role,"item-title":"human_name","item-value":"id",label:"Rolle",required:""},null,8,["modelValue","items","error-messages"])]),_:1}),e(o,{cols:"12",md:"4",sm:"6"},{default:l(()=>[e(oe,{modelValue:s(_).two_factor_auth_enabled,"onUpdate:modelValue":t[19]||(t[19]=u=>s(_).two_factor_auth_enabled=u),label:"Zwei-Faktor-Authentifizierung",value:!0},null,8,["modelValue"])]),_:1})]),_:1}),xe.value?(U(),A(d,{key:0},{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(oe,{modelValue:s(_).send_invite_email,"onUpdate:modelValue":t[20]||(t[20]=u=>s(_).send_invite_email=u),label:"Einladungsmail senden",value:!0},null,8,["modelValue"])]),_:1})]),_:1})):C("",!0)]),_:1})]),_:1}),e(Y,null,{default:l(()=>[e(h,null,{default:l(({isHovering:u,props:E})=>[e(P,g({onClick:te},E,{color:u?"primary":"accent"}),{default:l(()=>[V("Zurücksetzen")]),_:2},1040,["color"])]),_:2},1024),e(X),e(h,null,{default:l(({isHovering:u,props:E})=>[e(p,g({onClick:S},E,{color:u?"accent":"primary"}),{default:l(()=>[V("Zurück")]),_:2},1040,["color"])]),_:2},1024),e(h,null,{default:l(({isHovering:u,props:E})=>[e(P,g({onClick:Ne},E,{color:u?"accent":"primary"}),{default:l(()=>[V("Speichern")]),_:2},1040,["color"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1040,["color"])]),_:1})])]),_:1})]),_:1})]),_:1}),e(B,null,{default:l(()=>[e(le,{modelValue:H.value,"onUpdate:modelValue":t[22]||(t[22]=a=>H.value=a),width:"20vw"},{default:l(()=>[e(ee,{height:"30vh"},{default:l(()=>[e(Q,null,{default:l(()=>[e(B,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[i("p",null,"Sind Sie sicher, dass Sie den Benutzer "+D(de.value)+" aus Einrichtung Liste löschen möchten? (Der Benutzer wird vom aktuellen Einrichtung getrennt)",1)]),_:1})]),_:1})]),_:1})]),_:1}),e(Y,null,{default:l(()=>[e(X),e(h,null,{default:l(({isHovering:a,props:f})=>[e(p,g({onClick:S},f,{color:a?"accent":"primary"}),{default:l(()=>[V("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(h,null,{default:l(({isHovering:a,props:f})=>[e(P,g({onClick:Ce},f,{color:a?"accent":"primary"}),{default:l(()=>[V("Löschen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[i("div",ul,[i("div",dl,[e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"4"},{default:l(()=>[e(T,{modelValue:N.value,"onUpdate:modelValue":t[23]||(t[23]=a=>N.value=a),items:Ae,"item-title":"title","item-value":"value",label:"Status",multiple:"",disabled:F.value,clearable:""},null,8,["modelValue","disabled"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(w,{modelValue:$.value,"onUpdate:modelValue":t[24]||(t[24]=a=>$.value=a),label:"Vorname",clearable:""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(w,{modelValue:K.value,"onUpdate:modelValue":t[25]||(t[25]=a=>K.value=a),label:"Nachname",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(w,{modelValue:x.value,"onUpdate:modelValue":t[26]||(t[26]=a=>x.value=a),label:"Email",clearable:""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(T,{modelValue:q.value,"onUpdate:modelValue":t[27]||(t[27]=a=>q.value=a),items:m.roles,"item-title":"human_name","item-value":"name",label:"Rolle",multiple:"",disabled:F.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})])])]),_:1}),e(o,{cols:"12",class:"text-right"},{default:l(()=>[m.usersEmails&&m.usersEmails.length>0?(U(),A(h,{key:0},{default:l(({isHovering:a,props:f})=>[e(p,g(f,{color:a?"accent":"primary",dark:"",onClick:Oe}),{default:l(()=>[e(I,g(f,{size:"small",class:"tw-me-2"}),{default:l(()=>[V("mdi-email")]),_:2},1040),il]),_:2},1040,["color"])]),_:1})):C("",!0)]),_:1}),e(o,{cols:"12"},{default:l(()=>[e(Ie,{"items-per-page":-1,headers:qe,items:Te.value,"sort-by":r.sortItem,search:me.value,loading:F.value,class:"data-table-container data-table-container-hide-footer elevation-1","item-value":"name","onUpdate:options":je},{item:l(({item:a})=>{var f;return[i("tr",{"data-id":a==null?void 0:a.id,"data-order":a==null?void 0:a.order},[i("td",cl,[e(I,{size:"medium",class:He({active:a.is_online})},{default:l(()=>[V("mdi-circle")]),_:2},1032,["class"])]),i("td",null,D(a==null?void 0:a.first_name),1),i("td",null,D(a==null?void 0:a.last_name),1),i("td",null,D(a==null?void 0:a.email),1),i("td",null,D(a==null?void 0:a.primary_role_human_name),1),i("td",fl,[(f=m.kita)!=null&&f.approved&&(a!=null&&a.is_manager)?(U(),A(se,{key:0,location:"top"},{activator:l(({props:u})=>[i("a",g({href:`mailto:?bcc=${a.email}`},u),[e(I,g(u,{size:"small",class:"tw-me-2"}),{default:l(()=>[V("mdi-email")]),_:2},1040)],16,_l)]),default:l(()=>[pl]),_:2},1024)):C("",!0),e(se,{location:"top"},{activator:l(({props:u})=>[e(s(Se),{href:`${r.route("users.edit",{id:a.id})}?from=kitas.show;kita;${m.kita.id}`},{default:l(()=>[e(I,g(u,{size:"small",class:"tw-me-2"}),{default:l(()=>[V("mdi-pencil")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[vl]),_:2},1024),e(se,{location:"top"},{activator:l(({props:u})=>[e(I,g(u,{size:"small",class:"tw-me-2",onClick:E=>Be(a)}),{default:l(()=>[V("mdi-delete ")]),_:2},1040,["onClick"])]),default:l(()=>[gl]),_:2},1024)])],8,ml)]}),"no-data":l(()=>[bl]),_:1},8,["items","sort-by","search","loading"])]),_:1})]),_:1})]),_:1}),e(le,{modelValue:W.value,"onUpdate:modelValue":t[29]||(t[29]=a=>W.value=a),width:"40vw"},{default:l(()=>[e(ee,{height:"80vh"},{default:l(()=>[e(re,null,{default:l(()=>[hl]),_:1}),e(Q,null,{default:l(()=>[e(B,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[e(T,{modelValue:j.value,"onUpdate:modelValue":t[28]||(t[28]=a=>j.value=a),items:m.usersEmails,label:"Benutzer",multiple:"",disabled:F.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),e(Y,null,{default:l(()=>[e(X),e(h,null,{default:l(({isHovering:a,props:f})=>[e(P,g({href:`mailto:?bcc=${j.value.join(",")}`},f,{color:a?"accent":"primary",disabled:!j.value.length}),{default:l(()=>[V(" Öffnen Sie den Mail-Client ")]),_:2},1040,["href","color","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)):C("",!0)])]),_:1},8,["errors"])],64)}}};export{El as default};
