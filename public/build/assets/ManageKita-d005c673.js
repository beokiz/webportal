import{d as je}from"./index-84150a89.js";import{K as Me,j as p,l as T,k as Y,T as ee,A as re,r as y,o as K,f as ke,a as e,u as s,w as l,F as we,Z as Oe,b as d,t as D,c as Z,h as $,m as h,d as V,i as Ee,q as Ie,O as Re}from"./app-24995cfe.js";import{_ as Ge}from"./AuthenticatedLayout-57d37e1c.js";import"./ApplicationLogo-3ff1ec4f.js";const Le={class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},He={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},Je=d("h3",null,"Eigenschaften",-1),We=d("h4",null,"Adresse",-1),Qe=d("h4",null,"Eigenschaften",-1),Xe=d("h3",null,"Zugeordnete Benutzer",-1),Ye={class:"tw-flex tw-items-center tw-justify-end"},el=d("span",{class:"tw-text-h5"},"Verbinden Benutzer",-1),ll=d("p",null,"Wählen Sie die Benutzer aus, die Sie diesem Einrichtung hinzufügen möchten",-1),al=d("span",{class:"tw-text-h5"},"Neue Benutzer",-1),tl={class:"tw-bg-white tw-flex tw-justify-between tw-px-6 tw-py-6"},ol={class:"tw-w-full"},rl=d("span",null,"Schreibe E-Mail an Auswahl",-1),sl=["data-id","data-order"],nl={align:"center"},ul={align:"right"},dl=["href"],il=d("span",null,"Schreibe E-Mail",-1),ml=d("span",null,"Benutzer bearbeiten",-1),cl=d("span",null,"Benutzer löschen",-1),fl=d("div",{class:"tw-py-6"},[d("h3",{class:"tw-mb-4"},"Die Tabelle ist leer.")],-1),_l=d("span",{class:"tw-text-h5"},"Schreibe E-Mail an Auswahl",-1),hl={__name:"ManageKita",props:{kita:Object,kitaUsers:Array,errors:Object,roles:Array,types:Array,operators:Array,users:Array,canBeEdited:Boolean,from:String,currentPage:Number,perPage:Number,lastPage:Number,total:Number,paging:Boolean,orderBy:String,sort:String,filters:Object,usersEmails:Array},setup(i){var de,ie,me,ce,fe,_e,ve,pe,ge,be,he,ye;const g=i;je.Inertia.on("success",r=>{let t=r.detail.page.props;r.detail.page.component==="Kitas/Partials/ManageKita"&&t&&(k.value=t.kita)}),Me().props.auth.user;const k=p(g.kita),f=p(g.errors||{}),S=p(!1),se=p(null),I=p(!1),le=p(!1),R=p(!1);T(I,r=>{r||z()});const Ue=Y(()=>{if(g.from){const r=g.from.split(";");if(r.length===3){const t=r[0],o={};return o[r[1]]=r[2],route(t,o)}}return route("kitas.index")}),z=()=>{I.value=!1,le.value=!1,R.value=!1,L.value=!1,b.reset(),b.clearErrors(),U.reset(),U.clearErrors(),f.value={}},ae=()=>{b.reset(),b.clearErrors(),U.reset(),U.clearErrors(),n.reset(),n.clearErrors(),n.zip_code=null,n.name=null,n.number=null,n.provider_of_the_kita=null,n.street=null,n.house_number=null,n.additional_info=null,n.city=null},Se=r=>{se.value=r.full_name,G.user=r.id,R.value=!0},G=ee({user:null}),ze=async()=>{G.processing=!0;let r={onSuccess:t=>{z()},onError:t=>{f.value=t},onFinish:()=>{G.processing=!1}};G.post(route("kitas.disconnect_user",{id:g.kita.id}),r)},n=ee({id:k.value.id,name:(de=k.value)==null?void 0:de.name,number:(ie=k.value)==null?void 0:ie.number,street:(me=k.value)==null?void 0:me.street,house_number:(ce=k.value)==null?void 0:ce.house_number,additional_info:(fe=k.value)==null?void 0:fe.additional_info,zip_code:(_e=k.value)==null?void 0:_e.zip_code,operator_id:(ve=k.value)==null?void 0:ve.operator_id,other_operator:(pe=k.value)==null?void 0:pe.other_operator,city:(ge=k.value)==null?void 0:ge.city,num_pedagogical_staff:(be=k.value)==null?void 0:be.num_pedagogical_staff,approved:(he=k.value)==null?void 0:he.approved,type:(ye=k.value)==null?void 0:ye.type}),Be=async()=>{n.processing=!0;let r={preserveState:!1,onSuccess:t=>{z()},onError:t=>{f.value=t},onFinish:()=>{n.processing=!1}};n.put(route("kitas.update",{kita:n.id}),r)},b=ee({first_name:null,last_name:null,email:null,role:null,two_factor_auth_enabled:!1,phone_number:null,kitas:[k.value.id]}),Ce=async()=>{b.processing=!0,b.post(route("users.store_from_kita"),{onSuccess:r=>{z()},onError:r=>{f.value=r},onFinish:()=>{b.processing=!1}})},U=ee({users:null,kitas:[k.value.id]}),Fe=async()=>{U.processing=!0,U.post(route("kitas.connect_users",{kita:b.kitas}),{onSuccess:r=>{z()},onError:r=>{f.value=r},onFinish:()=>{U.processing=!1}})},Ne=[{title:"Status",key:"is_online",width:"5%",sortable:!1,align:"center"},{title:"Vorname",key:"first_name",width:"17.5%",sortable:!0},{title:"Nachname",key:"last_name",width:"17.5%",sortable:!0},{title:"E-Mail",key:"email",width:"25%",sortable:!0},{title:"Rolle",key:"primary_role_name",width:"20%",sortable:!0},{title:"Aktion",key:"actions",width:"15%",sortable:!1,align:"center"}],xe=[{title:"Ja",value:"true"},{title:"Nein",value:"false"}],ne=p(g.currentPage),qe=p(g.perPage);p(g.orderBy),p(g.sort),p(g.total),p(g.lastPage);const B=p(g.filters.status??null),C=p(g.filters.first_name??null),F=p(g.filters.last_name??null),N=p(g.filters.email??null),x=p(g.filters.roles??null),ue=p(""),j=p([]),L=p(!1),Ke=Y(()=>g.kitaUsers.map(r=>{const t={...r};for(const o in t)(t[o]===null||t[o]===void 0)&&(t[o]="-");return t})),Pe=Y(()=>B.value===null&&C.value===null&&F.value===null&&N.value===null&&x.value===null),$e=Y(()=>B.value!==null||C.value!==null||F.value!==null||N.value!==null||x.value!==null);T(B,r=>{M()}),T(C,re.debounce(r=>{M()},500)),T(F,re.debounce(r=>{M()},500)),T(N,re.debounce(r=>{M()},500)),T(x,r=>{M()});const M=()=>{S.value=!0,ue.value=String(Date.now())},Ae=()=>{L.value=!0,j.value=g.usersEmails.map(r=>r.value)},Te=async({page:r,itemsPerPage:t,sortBy:o,clearFilters:m})=>{if(m&&(B.value=null,C.value=null,F.value=null,N.value=null,x.value=null),r===ne.value&&m||Pe||$e){S.value=!0;let _={page:r,per_page:t};o&&o.length>0?(_.order_by=o[0].key,_.sort=o[0].order):(_.order_by=null,_.sort=null),g.from&&(_.from=g.from),B.value&&(_.status=B.value),C.value&&(_.first_name=C.value),F.value&&(_.last_name=F.value),N.value&&(_.email=N.value),x.value&&(_.with_roles=x.value),await Re.get(route(route().current(),{kita:n.id}),_,{preserveScroll:!0,preserveState:!0,onCancelToken:c=>{},onCancel:()=>{},onBefore:c=>{S.value=!0},onStart:c=>{},onProgress:c=>{},onSuccess:c=>{ne.value=_.page,qe.value=_.per_page},onError:c=>{console.log(c)},onFinish:c=>{S.value=!1}})}};return(r,t)=>{const o=y("v-col"),m=y("v-row"),_=y("v-container"),c=y("v-text-field"),A=y("v-select"),Ve=y("v-checkbox"),q=y("v-btn"),w=y("v-hover"),P=y("v-btn-primary"),te=y("v-card-title"),De=y("v-autocomplete"),H=y("v-card-text"),J=y("v-spacer"),W=y("v-card-actions"),Q=y("v-card"),X=y("v-dialog"),O=y("v-icon"),oe=y("v-tooltip"),Ze=y("v-data-table-server");return K(),ke(we,null,[e(s(Oe),{title:`Verwalte Einrichtung ${i.kita.name}`},null,8,["title"]),e(Ge,{errors:f.value},{header:l(()=>[d("h2",Le,"Verwalte Einrichtung "+D(i.kita.name),1)]),default:l(()=>[d("div",He,[e(_,null,{default:l(()=>[e(m,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[Je]),_:1})]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(m,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[We]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(c,{modelValue:s(n).name,"onUpdate:modelValue":t[0]||(t[0]=a=>s(n).name=a),"error-messages":f.value.name,label:"Name der Einrichtung / Einrichtung*",required:"",readonly:!i.canBeEdited},null,8,["modelValue","error-messages","readonly"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(c,{modelValue:s(n).number,"onUpdate:modelValue":t[1]||(t[1]=a=>s(n).number=a),"error-messages":f.value.number,label:"KiTa Nummer*",required:"",readonly:!i.canBeEdited},null,8,["modelValue","error-messages","readonly"])]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(c,{modelValue:s(n).street,"onUpdate:modelValue":t[2]||(t[2]=a=>s(n).street=a),"error-messages":f.value.street,label:"Straße*",required:"",readonly:!i.canBeEdited},null,8,["modelValue","error-messages","readonly"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(c,{modelValue:s(n).house_number,"onUpdate:modelValue":t[3]||(t[3]=a=>s(n).house_number=a),"error-messages":f.value.house_number,label:"Hausnummer*",required:"",readonly:!i.canBeEdited},null,8,["modelValue","error-messages","readonly"])]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[e(c,{modelValue:s(n).additional_info,"onUpdate:modelValue":t[4]||(t[4]=a=>s(n).additional_info=a),"error-messages":f.value.additional_info,label:"Sonstiges",required:"",readonly:!i.canBeEdited},null,8,["modelValue","error-messages","readonly"])]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(c,{modelValue:s(n).zip_code,"onUpdate:modelValue":t[5]||(t[5]=a=>s(n).zip_code=a),"error-messages":f.value.zip_code,label:"Postleitzahl*",type:"number",required:"",readonly:!i.canBeEdited},null,8,["modelValue","error-messages","readonly"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(c,{modelValue:s(n).city,"onUpdate:modelValue":t[6]||(t[6]=a=>s(n).city=a),"error-messages":f.value.city,label:"Stadt*",required:"",readonly:!i.canBeEdited},null,8,["modelValue","error-messages","readonly"])]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[Qe]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(o,{cols:"12",sm:"4"},{default:l(()=>[e(A,{modelValue:s(n).operator_id,"onUpdate:modelValue":t[7]||(t[7]=a=>s(n).operator_id=a),items:i.operators,"error-messages":f.value.operator_id,"item-title":"name","item-value":"id",label:"Träger der Einrichtung*",required:"",readonly:!i.canBeEdited},null,8,["modelValue","items","error-messages","readonly"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(c,{modelValue:s(n).other_operator,"onUpdate:modelValue":t[8]||(t[8]=a=>s(n).other_operator=a),"error-messages":f.value.other_operator,label:"Sonstiger Träger",disabled:r.$page.props.auth.user.is_user_multiplier||s(n).operator_id,readonly:!i.canBeEdited},null,8,["modelValue","error-messages","disabled","readonly"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(c,{modelValue:s(n).num_pedagogical_staff,"onUpdate:modelValue":t[9]||(t[9]=a=>s(n).num_pedagogical_staff=a),"error-messages":f.value.num_pedagogical_staff,label:"Größe pädagogisches Team",type:"number",readonly:!i.canBeEdited},null,8,["modelValue","error-messages","readonly"])]),_:1})]),_:1}),e(m,null,{default:l(()=>[r.$page.props.auth.user.is_super_admin||r.$page.props.auth.user.is_admin?(K(),Z(o,{key:0,cols:"12",sm:"6"},{default:l(()=>[e(Ve,{modelValue:s(n).approved,"onUpdate:modelValue":t[10]||(t[10]=a=>s(n).approved=a),label:"KiTa zur Ampel zugelassen",value:!0,readonly:!i.canBeEdited},null,8,["modelValue","readonly"])]),_:1})):$("",!0),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(A,{modelValue:s(n).type,"onUpdate:modelValue":t[11]||(t[11]=a=>s(n).type=a),items:i.types,"error-messages":f.value.type,label:"Größe der Einrichtung (1-10: klein, 11+: groß)*",required:"",readonly:!i.canBeEdited},null,8,["modelValue","items","error-messages","readonly"])]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[i.canBeEdited?(K(),Z(w,{key:0},{default:l(({isHovering:a,props:v})=>[e(q,h({onClick:ae},v,{color:a?"primary":"accent"}),{default:l(()=>[V("Zurücksetzen")]),_:2},1040,["color"])]),_:1})):$("",!0)]),_:1}),e(o,{cols:"12",sm:"6",align:"right"},{default:l(()=>[e(w,null,{default:l(({isHovering:a,props:v})=>[e(s(Ee),{href:Ue.value},{default:l(()=>[e(q,h({class:"mr-2",variant:"text"},v,{color:a?"accent":"primary"}),{default:l(()=>[V("Zurück")]),_:2},1040,["color"])]),_:2},1032,["href"])]),_:1}),i.canBeEdited?(K(),Z(w,{key:0},{default:l(({isHovering:a,props:v})=>[e(P,h({onClick:Be},v,{color:a?"accent":"primary"}),{default:l(()=>[V(" Speichern ")]),_:2},1040,["color"])]),_:1})):$("",!0)]),_:1})]),_:1})]),_:1}),r.$page.props.auth.user.is_super_admin||r.$page.props.auth.user.is_admin||r.$page.props.auth.user.is_manager?(K(),ke(we,{key:0},[e(_,null,{default:l(()=>[e(m,{class:"tw-border-t-8 tw-mt-8 tw-pt-8"},{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[Xe]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[d("div",Ye,[r.$page.props.auth.user.is_super_admin||r.$page.props.auth.user.is_admin?(K(),Z(w,{key:0},{default:l(({isHovering:a,props:v})=>[e(q,h(v,{color:a?"accent":"primary",dark:"",class:"mr-2"}),{default:l(()=>[V(" Benutzer verbinden "),e(X,{modelValue:le.value,"onUpdate:modelValue":t[13]||(t[13]=u=>le.value=u),activator:"parent",width:"80vw"},{default:l(()=>[e(Q,{height:"80vh"},{default:l(()=>[e(te,null,{default:l(()=>[el]),_:1}),e(H,null,{default:l(()=>[e(_,null,{default:l(()=>[e(m,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[ll]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[e(De,{modelValue:s(U).users,"onUpdate:modelValue":t[12]||(t[12]=u=>s(U).users=u),items:i.users,"error-messages":f.value.users,"item-title":"full_name","item-value":"id",label:"User",multiple:"",required:""},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(W,null,{default:l(()=>[e(w,null,{default:l(({isHovering:u,props:E})=>[e(P,h({onClick:ae},E,{color:u?"primary":"accent"}),{default:l(()=>[V("Zurücksetzen")]),_:2},1040,["color"])]),_:2},1024),e(J),e(w,null,{default:l(({isHovering:u,props:E})=>[e(q,h({onClick:z},E,{color:u?"accent":"primary"}),{default:l(()=>[V("Zurück")]),_:2},1040,["color"])]),_:2},1024),e(w,null,{default:l(({isHovering:u,props:E})=>[e(P,h({onClick:Fe},E,{color:u?"accent":"primary"}),{default:l(()=>[V("Speichern")]),_:2},1040,["color"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1040,["color"])]),_:1})):$("",!0),e(w,null,{default:l(({isHovering:a,props:v})=>[e(q,h(v,{color:a?"accent":"primary",dark:""}),{default:l(()=>[V(" Benutzer hinzufügen "),e(X,{modelValue:I.value,"onUpdate:modelValue":t[20]||(t[20]=u=>I.value=u),activator:"parent",width:"80vw"},{default:l(()=>[e(Q,{height:"80vh"},{default:l(()=>[e(te,null,{default:l(()=>[al]),_:1}),e(H,null,{default:l(()=>[e(_,null,{default:l(()=>[e(m,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(c,{modelValue:s(b).first_name,"onUpdate:modelValue":t[14]||(t[14]=u=>s(b).first_name=u),"error-messages":f.value.first_name,label:"Vorname",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(c,{modelValue:s(b).last_name,"onUpdate:modelValue":t[15]||(t[15]=u=>s(b).last_name=u),"error-messages":f.value.last_name,label:"Nachname",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(c,{modelValue:s(b).email,"onUpdate:modelValue":t[16]||(t[16]=u=>s(b).email=u),"error-messages":f.value.email,label:"Email",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(c,{modelValue:s(b).phone_number,"onUpdate:modelValue":t[17]||(t[17]=u=>s(b).phone_number=u),"error-messages":f.value.phone_number,label:"Telefonnummer"},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(A,{modelValue:s(b).role,"onUpdate:modelValue":t[18]||(t[18]=u=>s(b).role=u),items:i.roles,"error-messages":f.value.role,"item-title":"human_name","item-value":"id",label:"Role",required:""},null,8,["modelValue","items","error-messages"])]),_:1}),e(o,{cols:"12",md:"4",sm:"6"},{default:l(()=>[e(Ve,{modelValue:s(b).two_factor_auth_enabled,"onUpdate:modelValue":t[19]||(t[19]=u=>s(b).two_factor_auth_enabled=u),label:"Zwei-Faktor-Authentifizierung",value:!0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(W,null,{default:l(()=>[e(w,null,{default:l(({isHovering:u,props:E})=>[e(P,h({onClick:ae},E,{color:u?"primary":"accent"}),{default:l(()=>[V("Zurücksetzen")]),_:2},1040,["color"])]),_:2},1024),e(J),e(w,null,{default:l(({isHovering:u,props:E})=>[e(q,h({onClick:z},E,{color:u?"accent":"primary"}),{default:l(()=>[V("Zurück")]),_:2},1040,["color"])]),_:2},1024),e(w,null,{default:l(({isHovering:u,props:E})=>[e(P,h({onClick:Ce},E,{color:u?"accent":"primary"}),{default:l(()=>[V("Speichern")]),_:2},1040,["color"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1040,["color"])]),_:1})])]),_:1})]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(X,{modelValue:R.value,"onUpdate:modelValue":t[21]||(t[21]=a=>R.value=a),width:"20vw"},{default:l(()=>[e(Q,{height:"30vh"},{default:l(()=>[e(H,null,{default:l(()=>[e(_,null,{default:l(()=>[e(m,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[d("p",null,"Sind Sie sicher, dass Sie den Benutzer "+D(se.value)+" aus Einrichtung Liste löschen möchten? (Der Benutzer wird vom aktuellen Einrichtung getrennt)",1)]),_:1})]),_:1})]),_:1})]),_:1}),e(W,null,{default:l(()=>[e(J),e(w,null,{default:l(({isHovering:a,props:v})=>[e(q,h({onClick:z},v,{color:a?"accent":"primary"}),{default:l(()=>[V("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(w,null,{default:l(({isHovering:a,props:v})=>[e(P,h({onClick:ze},v,{color:a?"accent":"primary"}),{default:l(()=>[V("Löschen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(m,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[d("div",tl,[d("div",ol,[e(m,null,{default:l(()=>[e(o,{cols:"12",sm:"4"},{default:l(()=>[e(A,{modelValue:B.value,"onUpdate:modelValue":t[22]||(t[22]=a=>B.value=a),items:xe,"item-title":"title","item-value":"value",label:"Status",multiple:"",disabled:S.value,clearable:""},null,8,["modelValue","disabled"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(c,{modelValue:C.value,"onUpdate:modelValue":t[23]||(t[23]=a=>C.value=a),label:"Vorname",clearable:""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(c,{modelValue:F.value,"onUpdate:modelValue":t[24]||(t[24]=a=>F.value=a),label:"Nachname",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(m,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(c,{modelValue:N.value,"onUpdate:modelValue":t[25]||(t[25]=a=>N.value=a),label:"Email",clearable:""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(A,{modelValue:x.value,"onUpdate:modelValue":t[26]||(t[26]=a=>x.value=a),items:i.roles,"item-title":"human_name","item-value":"name",label:"Rolle",multiple:"",disabled:S.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})])])]),_:1}),e(o,{cols:"12",class:"text-right"},{default:l(()=>[i.usersEmails&&i.usersEmails.length>0?(K(),Z(w,{key:0},{default:l(({isHovering:a,props:v})=>[e(q,h(v,{color:a?"accent":"primary",dark:"",onClick:Ae}),{default:l(()=>[e(O,h(v,{size:"small",class:"tw-me-2"}),{default:l(()=>[V("mdi-email")]),_:2},1040),rl]),_:2},1040,["color"])]),_:1})):$("",!0)]),_:1}),e(o,{cols:"12"},{default:l(()=>[e(Ze,{"items-per-page":-1,headers:Ne,items:Ke.value,"sort-by":r.sortItem,search:ue.value,loading:S.value,class:"data-table-container data-table-container-hide-footer elevation-1","item-value":"name","onUpdate:options":Te},{item:l(({item:a})=>{var v;return[d("tr",{"data-id":a==null?void 0:a.id,"data-order":a==null?void 0:a.order},[d("td",nl,[e(O,{size:"medium",class:Ie({active:a.is_online})},{default:l(()=>[V("mdi-circle")]),_:2},1032,["class"])]),d("td",null,D(a==null?void 0:a.first_name),1),d("td",null,D(a==null?void 0:a.last_name),1),d("td",null,D(a==null?void 0:a.email),1),d("td",null,D(a==null?void 0:a.primary_role_human_name),1),d("td",ul,[(v=i.kita)!=null&&v.approved&&(a!=null&&a.is_manager)?(K(),Z(oe,{key:0,location:"top"},{activator:l(({props:u})=>[d("a",h({href:`mailto:?bcc=${a.email}`},u),[e(O,h(u,{size:"small",class:"tw-me-2"}),{default:l(()=>[V("mdi-email")]),_:2},1040)],16,dl)]),default:l(()=>[il]),_:2},1024)):$("",!0),e(oe,{location:"top"},{activator:l(({props:u})=>[e(s(Ee),{href:`${r.route("users.edit",{id:a.id})}?from=kitas.show;kita;${i.kita.id}`},{default:l(()=>[e(O,h(u,{size:"small",class:"tw-me-2"}),{default:l(()=>[V("mdi-pencil")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[ml]),_:2},1024),e(oe,{location:"top"},{activator:l(({props:u})=>[e(O,h(u,{size:"small",class:"tw-me-2",onClick:E=>Se(a)}),{default:l(()=>[V("mdi-delete ")]),_:2},1040,["onClick"])]),default:l(()=>[cl]),_:2},1024)])],8,sl)]}),"no-data":l(()=>[fl]),_:1},8,["items","sort-by","search","loading"])]),_:1})]),_:1})]),_:1}),e(X,{modelValue:L.value,"onUpdate:modelValue":t[28]||(t[28]=a=>L.value=a),width:"40vw"},{default:l(()=>[e(Q,{height:"80vh"},{default:l(()=>[e(te,null,{default:l(()=>[_l]),_:1}),e(H,null,{default:l(()=>[e(_,null,{default:l(()=>[e(m,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[e(A,{modelValue:j.value,"onUpdate:modelValue":t[27]||(t[27]=a=>j.value=a),items:i.usersEmails,label:"Benutzer",multiple:"",disabled:S.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),e(W,null,{default:l(()=>[e(J),e(w,null,{default:l(({isHovering:a,props:v})=>[e(P,h({href:`mailto:?bcc=${j.value.join(",")}`},v,{color:a?"accent":"primary",disabled:!j.value.length}),{default:l(()=>[V(" Öffnen Sie den Mail-Client ")]),_:2},1040,["href","color","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)):$("",!0)])]),_:1},8,["errors"])],64)}}};export{hl as default};
