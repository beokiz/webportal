import{h as k,o as d,f as t,x as c,F as r,b as s,t as l,y as g,q as N,z as V,g as D}from"./app-46d088fc.js";const B={class:"subdomains-list-head"},F={class:"radio-wrap radio-head"},z={class:"radio-wrap radio-content"},A=["for"],C=["id","onUpdate:modelValue","name","value","disabled"],L={__name:"EvaluationDomainsList",props:{domains:Array,ratings:Array,age:Number,errors:{type:Object,default:{}},disabled:{type:Boolean,default:!1}},setup(e,{emit:h}){const m=e,b=k(()=>m.age),x=k(()=>{if(b.value){let o=m.domains.map(n=>({...n,subdomains:n.subdomains.map(i=>({...i,milestones:i.milestones.filter(u=>parseFloat(u.age)===parseFloat(b.value))})).filter(i=>i.milestones.length>0)})).filter(n=>n.subdomains.length>0);return h("updateDomainsData",o),o}else return m.domains}),$=o=>{h("updateDomainsData",x),h("updateRatingData",o)};return(o,n)=>(d(!0),t(r,null,c(x.value,(i,u)=>(d(),t("div",{class:"domains-list-container",key:i.id},[i.subdomains&&i.subdomains.length>0?(d(),t(r,{key:0},[s("h3",{class:g({green:e.ratings[u].color==="green",yellow:e.ratings[u].color==="yellow",red:e.ratings[u].color==="red"})},l(i.name),3),(d(!0),t(r,null,c(i.subdomains,v=>(d(),t("div",{class:"subdomains-list-container",key:v.id},[s("div",B,[s("h4",null,l(v.name),1),(d(),t(r,null,c(["Noch Nicht","Ansatzweise","Weitgehend","Zuverlassig"],a=>s("div",F,[s("span",null,l(a),1)])),64))]),(d(!0),t(r,null,c(v.milestones,a=>(d(),t("div",{class:"milestone-list-container",key:a.id},[e.ratings[a.domain_index]&&e.ratings[a.domain_index].milestones[a.index]?(d(),t(r,{key:0},[s("h5",{class:g({error:e.errors[`ratings.${a.domain_index}.milestones.${a.index}.value`]})},l(a.abbreviation),3),s("div",{class:g(["milestone-list-text",{error:e.errors[`ratings.${a.domain_index}.milestones.${a.index}.value`]}])},[s("span",null,l(a.title),1),s("p",null,l(a.text),1)],2),s("fieldset",{class:g({error:!e.disabled&&e.errors[`ratings.${a.domain_index}.milestones.${a.index}.value`]})},[(d(),t(r,null,c([1,2,3,4],(w,y)=>s("div",z,[s("label",{for:e.disabled?a.id+"-check-radio-disabled":a.id+"-check-radio"+y},[N(s("input",{type:"radio",id:e.disabled?a.id+"-check-radio-disabled":a.id+"-check-radio"+y,"onUpdate:modelValue":f=>e.ratings[a.domain_index].milestones[a.index].value=f,name:e.disabled?a.id+"-check-radio-disabled":a.id+"-check-radio",value:w,disabled:e.disabled,onInput:n[0]||(n[0]=f=>$(e.ratings))},null,40,C),[[V,e.ratings[a.domain_index].milestones[a.index].value]])],8,A)])),64))],2)],64)):D("",!0)]))),128))]))),128))],64)):D("",!0)]))),128))}};export{L as _};
