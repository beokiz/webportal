import{d as Nl}from"./index-d70e546f.js";import{K as Ol,j as m,k as H,l as z,T as me,A as Ve,r as f,o as k,f as ae,a as e,u as v,w as l,F as te,Z as Ml,b as d,c as C,m as g,h as F,d as w,i as ul,t as $,g as sl,O as jl}from"./app-6728af36.js";import{_ as Bl}from"./AuthenticatedLayout-85bac3b8.js";import{c as X}from"./common-ea192878.js";import{s as ol}from"./VueTimepikcer.esm-de70ced9.js";import"./ApplicationLogo-406831ea.js";const Il=d("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Verwalte Termin Eigenschaften",-1),Zl={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},Hl=d("h3",null,"Termin",-1),Ll=d("span",null,"Schulungstermin bestätigen",-1),Jl=d("span",null,"Schulung abschließen und Einrichtung zum Ampelportal zulassen",-1),Rl=d("span",null,"Training abbrechen",-1),Yl=d("span",{class:"tw-inline-block tw-mt-4"},"von",-1),ql=d("h3",null,"Teilnehmende Einrichtungen",-1),Wl=d("span",null,"Einrichtung hinzufügen",-1),Gl=d("span",null,"Schreibe E-Mail an Auswahl",-1),Ql=["data-id","data-order"],Xl={class:"text-center"},ea=["href"],la=d("span",null,"Schreibe E-Mail",-1),aa=d("span",null,"Einrichtung bearbeiten",-1),ta=d("span",null,"Einrichtung löschen",-1),na=d("div",{class:"tw-py-6"},[d("h3",{class:"tw-mb-4"},"Die Tabelle ist leer.")],-1),ua=d("span",{class:"tw-text-h5"},"Schulung gegenüber den KiTas bestätigen?",-1),sa={class:"tw-font-bold tw-font-italic"},oa=d("p",{class:"mb-4"},"Sind Sie sich sicher, dass Sie die Termine gegenüber den folgenden KiTas bestätigen wollen? Im Folgenden gibt es individuelle E-Mail-Vorschläge für jede KiTa.",-1),ra=d("p",null,"Bitte klicken Sie auf den Namen der KiTa, um diesen zu erhalten.",-1),ia=d("p",null,"Möchten Sie diese Schulung wirklich abschliessen?",-1),da=d("p",null,"Sind Sie sicher, dass Sie die ausgewählte Schulung stornieren möchten?",-1),ca=d("span",{class:"tw-text-h5"},"Einrichtungen hinzufügen",-1),ma=d("p",null,"Wählen Sie die Einrichtungen aus, die Sie zu dieser Schulung hinzufügen möchten",-1),_a=d("span",{class:"tw-text-h5"},"Schreibe E-Mail an Auswahl",-1),Va={__name:"ManageTraining",props:{training:Object,allKitas:Array,trainingKitas:Array,errors:Object,multipliers:Array,operators:Array,statuses:Array,types:Array,emailMessages:Object,from:String,currentPage:Number,perPage:Number,lastPage:Number,total:Number,paging:Boolean,orderBy:String,sort:String,filters:Object,zipCodes:Array,kitaTypes:Array,usersEmails:Array},setup(T){var Ue,ze,Ce,Fe,$e,xe,De,Ke,Ae,Pe,Ne,Oe,Me,je,Be,Ie,Ze,He,Le,Je,Re,Ye,qe,We,Ge,Qe,Xe,el,ll;const s=T;Nl.Inertia.on("success",n=>{let t=n.detail.page.props;n.detail.page.component==="Trainings/Partials/ManageTraining"&&t&&(c.value=t.training)});const _e=Ol().props.auth.user??{},c=m(s.training),y=m(s.errors||{}),p=m(!1),ve=m(null),we=m(!1),ne=m(!1),ue=m(!1),se=m(!1),oe=m(!1),re=m(!1),pe=m(!1),fe=m(!1),ke=m(X(s.training.first_date)),Se=m(X(s.training.second_date)),L=m(new Date(s.training.first_date).toString()),J=m(new Date(s.training.second_date).toString()),ie=m([]),rl=m([{label:"Erster Schulungstag",value:`${X((Ue=c.value)==null?void 0:Ue.first_date)} ${(ze=c.value)==null?void 0:ze.first_date_start_and_end_time}`},{label:"Zweiter Schulungstag",value:`${X((Ce=c.value)==null?void 0:Ce.second_date)} ${(Fe=c.value)==null?void 0:Fe.second_date_start_and_end_time}`},{label:"Schulungsort",value:($e=c.value)==null?void 0:$e.formatted_location},{label:"Typ",value:(xe=c.value)==null?void 0:xe.type},{label:"Teilnehmerzahl",value:(De=c.value)==null?void 0:De.participant_count}]),il=H(()=>{if(s.from){const n=s.from.split(";");if(n.length===3){const t=n[0],u={};return u[n[1]]=n[2],route(t,u)}}return route("trainings.index")}),dl=H(()=>_e!=null&&_e.is_user_multiplier?s.types.filter(n=>n.value==="in-house"):s.types);z(we,n=>{n||E()}),z(L,n=>{ke.value=X(n)}),z(J,n=>{Se.value=X(n)});const E=()=>{we.value=!1,ve.value=null,ne.value=!1,ue.value=!1,se.value=!1,oe.value=!1,re.value=!1,x.reset(),x.clearErrors(),U.reset(),U.clearErrors(),D.reset(),D.clearErrors(),y.value={}},cl=()=>{_.reset(),_.clearErrors(),x.reset(),x.clearErrors(),U.reset(),U.clearErrors(),D.reset(),D.clearErrors()},_=me({id:(Ke=c.value)==null?void 0:Ke.id,multi_id:(Ae=c.value)==null?void 0:Ae.multi_id,first_date:(Pe=c.value)==null?void 0:Pe.first_date,first_date_start_and_end_time:((Ne=c.value)==null?void 0:Ne.first_date_start_and_end_time)??"",second_date:(Oe=c.value)==null?void 0:Oe.second_date,second_date_start_and_end_time:((Me=c.value)==null?void 0:Me.second_date_start_and_end_time)??"",location:(je=c.value)==null?void 0:je.location,max_participant_count:(Be=c.value)==null?void 0:Be.max_participant_count,type:(Ie=c.value)==null?void 0:Ie.type,street:(Ze=c.value)==null?void 0:Ze.street,house_number:(He=c.value)==null?void 0:He.house_number,zip_code:(Le=c.value)==null?void 0:Le.zip_code,city:(Je=c.value)==null?void 0:Je.city,district:(Re=c.value)==null?void 0:Re.district,notes:(Ye=c.value)==null?void 0:Ye.notes}),ml=async()=>{_.processing=!0,_.first_date=L.value?new Date(new Date(L.value).setHours(12,0,0,0)).toISOString():null,_.second_date=J.value?new Date(new Date(J.value).setHours(12,0,0,0)).toISOString():null;let n={onSuccess:t=>{E()},onError:t=>{y.value=t},onFinish:()=>{_.processing=!1}};_.put(route("trainings.update",{training:_.id}),n)},_l=()=>{ne.value=!0},vl=()=>{ue.value=!0},pl=()=>{se.value=!0},x=me({id:(qe=c.value)==null?void 0:qe.id,status:null}),ge=async n=>{x.processing=!0,x.status=n;let t={preserveState:!1,onSuccess:u=>{var b,r;if(n==="confirmed"){let i=[];if(ie.value.map(h=>{h==null||h.users_emails.map(V=>{i.push(V)})}),i=i.filter((h,V,S)=>S.indexOf(h)===V),i&&i.length){const h=document.createElement("a"),V=(b=s.emailMessages[n])==null?void 0:b.subject,S=(r=s.emailMessages[n])==null?void 0:r.body;h.href=`mailto:?bcc=${i.join(",")}&subject=${V}&body=${S}`,document.body.appendChild(h),h.click(),document.body.removeChild(h)}ie.value=[]}E()},onError:u=>{y.value=u},onFinish:()=>{x.processing=!1}};x.put(route("trainings.update",{training:x.id}),t)},fl=()=>{oe.value=!0},U=me({kitas:[]}),gl=H(()=>{let n=s.trainingKitas.map(t=>t.id);return s.allKitas.filter(t=>!n.includes(t.id))}),bl=H(()=>{var b,r,i,h,V;let t=(s.allKitas.filter(S=>U.kitas.includes(S.id))??[]).map(S=>S.num_pedagogical_staff).reduce((S,de)=>S+de,0),u=t+((b=c.value)==null?void 0:b.participant_count)>((r=c.value)==null?void 0:r.max_participant_count);return u?y.value.kitas=`Sie haben die maximale Teilnehmerzahl (${t+((i=c.value)==null?void 0:i.participant_count)}/${(h=c.value)==null?void 0:h.max_participant_count}) überschritten.`:(V=y.value)==null||delete V.kitas,u}),hl=async()=>{U.processing=!0,U.post(route("trainings.add_kitas",{training:s.training.id}),{onSuccess:n=>{E()},onError:n=>{y.value=n},onFinish:()=>{U.processing=!1}})},yl=n=>{ve.value=n.name,D.kita=n.id,re.value=!0},D=me({kita:null}),Vl=async()=>{D.processing=!0;let n={onSuccess:t=>{E()},onError:t=>{y.value=t},onFinish:()=>{D.processing=!1}};D.post(route("trainings.remove_kita",{id:s.training.id}),n)},wl=n=>n&&n.length>0?n.map(t=>{const u={...t};for(const b in u)(u[b]===null||u[b]===void 0)&&(u[b]="-");return u}):[],kl=[{title:"Name",key:"name",width:"15%",sortable:!0},{title:`Jährliche Rückmeldung ${new Date().getFullYear()} abgeschlossen`,key:"has_yearly_evaluations",width:"25%",sortable:!0},{title:"Zugelassen",key:"approved",width:"10%",sortable:!0},{title:"Träger",key:"operator_id",width:"10%",sortable:!0},{title:"Sonstiger Träger",key:"other_operator",width:"10%",sortable:!0},{title:"Typ",key:"type",width:"10%",sortable:!0},{title:"Postleitzahl",key:"zip_code",width:"10%",sortable:!0},{title:"Aktion",key:"actions",width:"10%",sortable:!1,align:"center"}],Te=m(s==null?void 0:s.currentPage),Sl=m(s==null?void 0:s.perPage);m(s==null?void 0:s.orderBy),m(s==null?void 0:s.sort),m(s==null?void 0:s.total),m(s==null?void 0:s.lastPage);const Ee=m(""),K=m(((We=s==null?void 0:s.filters)==null?void 0:We.search)??null),A=m(((Ge=s==null?void 0:s.filters)==null?void 0:Ge.has_yearly_evaluations)??null),P=m(((Qe=s==null?void 0:s.filters)==null?void 0:Qe.approved)??null),N=m(null),O=m(((Xe=s.filters)==null?void 0:Xe.other_operator)??null),M=m(((el=s==null?void 0:s.filters)==null?void 0:el.type)??null),j=m(((ll=s==null?void 0:s.filters)==null?void 0:ll.zip_code)??null),Tl=[{title:"Ja",value:"true"},{title:"Nein",value:"false"}],El=[{title:"Ja",value:"true"},{title:"Nein",value:"false"}],ee=m([]),be=m(!1),Ul=H(()=>wl(s.trainingKitas)),zl=H(()=>K.value===null&&A.value===null&&P.value===null&&N.value===null&&O.value===null&&M.value===null&&j.value===null),Cl=H(()=>K.value!==null||A.value!==null||P.value!==null||N.value!==null||O.value!==null||M.value!==null||j.value!==null);z(K,Ve.debounce(n=>{I()},500)),z(A,n=>{I()}),z(P,n=>{I()}),z(N,n=>{I()}),z(O,Ve.debounce(n=>{I()},500)),z(M,n=>{I()}),z(j,Ve.debounce(n=>{I()},500));const I=n=>{p.value=!0,Ee.value=String(Date.now())},Fl=()=>{be.value=!0,ee.value=s.usersEmails.map(n=>n.value)},$l=async({page:n,itemsPerPage:t,sortBy:u,clearFilters:b})=>{if(b&&(K.value=null,A.value=null,P.value=null,N.value=null,O.value=null,M.value=null,j.value=null),n===Te.value&&b||zl||Cl){p.value=!0;let r={page:n,per_page:t};u&&u.length>0?(r.order_by=u[0].key,r.sort=u[0].order):(r.order_by=null,r.sort=null),s.from&&(r.from=s.from),K.value&&(r.search=K.value),A.value&&(r.has_yearly_evaluations=A.value),P.value&&(r.approved=P.value),N.value&&(r.operator_id=N.value),O.value&&(r.other_operator=O.value),M.value&&(r.type=M.value),j.value&&(r.zip_code=j.value),await jl.get(route(route().current(),{training:_.id}),r,{preserveScroll:!0,preserveState:!0,onCancelToken:i=>{},onCancel:()=>{},onBefore:i=>{p.value=!0},onStart:i=>{},onProgress:i=>{},onSuccess:i=>{Te.value=r.page,Sl.value=r.per_page},onError:i=>{console.log(i)},onFinish:i=>{p.value=!1}})}};return(n,t)=>{const u=f("v-col"),b=f("v-btn"),r=f("v-hover"),i=f("v-row"),h=f("v-container"),V=f("v-text-field"),S=f("v-date-picker"),de=f("v-menu"),al=f("v-locale-provider"),tl=f("v-label"),B=f("v-select"),nl=f("v-textarea"),Z=f("v-btn-primary"),ce=f("v-icon"),he=f("v-tooltip"),xl=f("v-data-table-server"),ye=f("v-card-title"),Dl=f("v-checkbox"),Kl=f("v-list-item"),Al=f("v-list"),R=f("v-card-text"),Y=f("v-spacer"),q=f("v-card-actions"),W=f("v-card"),G=f("v-dialog"),Pl=f("v-autocomplete");return k(),ae(te,null,[e(v(Ml),{title:"Verwalte Termin Eigenschaften"}),e(Bl,{errors:y.value},{header:l(()=>[Il]),default:l(()=>[d("div",Zl,[e(h,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"3"},{default:l(()=>[Hl]),_:1}),e(u,{cols:"12",sm:"9",class:"text-right"},{default:l(()=>[c.value.status==="planned"?(k(),C(r,{key:0},{default:l(({isHovering:a,props:o})=>[e(b,g({class:"tw-ml-4 tw-mb-4"},o,{color:a?"accent":"primary",dark:"",onClick:_l}),{default:l(()=>[Ll]),_:2},1040,["color"])]),_:1})):F("",!0),c.value.status==="confirmed"?(k(),C(r,{key:1},{default:l(({isHovering:a,props:o})=>[e(b,g({class:"tw-ml-4 tw-mb-4"},o,{color:a?"background":"success",dark:"",onClick:vl}),{default:l(()=>[Jl]),_:2},1040,["color"])]),_:1})):F("",!0),c.value.status!=="completed"&&c.value.status!=="cancelled"&&(n.$page.props.auth.user.is_super_admin||n.$page.props.auth.user.is_admin)?(k(),C(r,{key:2},{default:l(({isHovering:a,props:o})=>[e(b,g({class:"tw-ml-4 tw-mb-4"},o,{color:a?"background":"error",dark:"",onClick:pl}),{default:l(()=>[Rl]),_:2},1040,["color"])]),_:1})):F("",!0)]),_:1})]),_:1})]),_:1}),e(h,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"6"},{default:l(()=>[e(al,{locale:"de"},{default:l(()=>[e(de,{modelValue:pe.value,"onUpdate:modelValue":t[2]||(t[2]=a=>pe.value=a),"return-value":L.value,"close-on-content-click":!1},{activator:l(({props:a})=>[e(V,g({label:"Erster Schulungstag*",class:"tw-cursor-pointer","model-value":ke.value,"error-messages":y.value.first_date,"prepend-icon":"mdi-calendar",readonly:""},a,{disabled:p.value}),null,16,["model-value","error-messages","disabled"])]),default:l(()=>[e(S,{"onUpdate:modelValue":[t[0]||(t[0]=a=>pe.value=!1),t[1]||(t[1]=a=>L.value=a)],modelValue:L.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1}),e(u,{cols:"12",sm:"6"},{default:l(()=>[e(tl,{class:"tw-mt-6 tw-mr-2"},{default:l(()=>[w("Beginn erster Schulungstag (Uhrzeit)*")]),_:1}),e(v(ol),{modelValue:v(_).first_date_start_and_end_time,"onUpdate:modelValue":t[3]||(t[3]=a=>v(_).first_date_start_and_end_time=a),hideClearButton:!0,format:"HH:mm",hourLabel:"Std.",minuteLabel:"Protokoll",disabled:p.value},null,8,["modelValue","hourLabel","disabled"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"6"},{default:l(()=>[e(al,{locale:"de"},{default:l(()=>[e(de,{modelValue:fe.value,"onUpdate:modelValue":t[6]||(t[6]=a=>fe.value=a),"return-value":J.value,"close-on-content-click":!1},{activator:l(({props:a})=>[e(V,g({label:"Zweiter Schulungstag*",class:"tw-cursor-pointer","model-value":Se.value,"error-messages":y.value.second_date,"prepend-icon":"mdi-calendar",readonly:""},a,{disabled:p.value}),null,16,["model-value","error-messages","disabled"])]),default:l(()=>[e(S,{"onUpdate:modelValue":[t[4]||(t[4]=a=>fe.value=!1),t[5]||(t[5]=a=>J.value=a)],modelValue:J.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1}),e(u,{cols:"12",sm:"6"},{default:l(()=>[e(tl,{class:"tw-mt-6 tw-mr-2"},{default:l(()=>[w("Beginn zweiter Schulungstag (Uhrzeit)*")]),_:1}),e(v(ol),{modelValue:v(_).second_date_start_and_end_time,"onUpdate:modelValue":t[7]||(t[7]=a=>v(_).second_date_start_and_end_time=a),hideClearButton:!0,format:"HH:mm",hourLabel:"Std.",minuteLabel:"Protokoll",disabled:p.value},null,8,["modelValue","hourLabel","disabled"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"2"},{default:l(()=>[e(V,{type:"number",modelValue:c.value.participant_count,"onUpdate:modelValue":t[8]||(t[8]=a=>c.value.participant_count=a),"error-messages":y.value.participant_count,label:"Teilnehmerzahl*",disabled:p.value,readonly:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(u,{cols:"12",sm:"1",class:"tw-text-center"},{default:l(()=>[Yl]),_:1}),e(u,{cols:"12",sm:"2"},{default:l(()=>[e(V,{type:"number",modelValue:v(_).max_participant_count,"onUpdate:modelValue":t[9]||(t[9]=a=>v(_).max_participant_count=a),"error-messages":y.value.max_participant_count,label:"Max. Teilnehmerzahl*",clearable:"",disabled:p.value},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(u,{cols:"12",sm:"3"},{default:l(()=>[e(B,{modelValue:v(_).type,"onUpdate:modelValue":t[10]||(t[10]=a=>v(_).type=a),"error-messages":y.value.type,items:dl.value,"item-title":"title","item-value":"value",label:"Typ*",disabled:p.value,clearable:""},null,8,["modelValue","error-messages","items","disabled"])]),_:1}),e(u,{cols:"12",sm:"4"},{default:l(()=>[e(B,{modelValue:v(_).multi_id,"onUpdate:modelValue":t[11]||(t[11]=a=>v(_).multi_id=a),"error-messages":y.value.multi_id,items:T.multipliers,"item-title":"full_name","item-value":"id",label:"Multiplikator*",disabled:p.value||n.$page.props.auth.user.is_user_multiplier,clearable:""},null,8,["modelValue","error-messages","items","disabled"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"4"},{default:l(()=>[e(V,{modelValue:v(_).street,"onUpdate:modelValue":t[12]||(t[12]=a=>v(_).street=a),"error-messages":y.value.street,label:"Straße*",disabled:p.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(u,{cols:"12",sm:"4"},{default:l(()=>[e(V,{modelValue:v(_).house_number,"onUpdate:modelValue":t[13]||(t[13]=a=>v(_).house_number=a),"error-messages":y.value.house_number,label:"Hausnummer*",disabled:p.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(u,{cols:"12",sm:"4"},{default:l(()=>[e(V,{modelValue:v(_).zip_code,"onUpdate:modelValue":t[14]||(t[14]=a=>v(_).zip_code=a),"error-messages":y.value.zip_code,label:"Postleitzahl*",disabled:p.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"6"},{default:l(()=>[e(V,{modelValue:v(_).district,"onUpdate:modelValue":t[15]||(t[15]=a=>v(_).district=a),"error-messages":y.value.district,label:"Bezirk",disabled:p.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(u,{cols:"12",sm:"6"},{default:l(()=>[e(V,{modelValue:v(_).city,"onUpdate:modelValue":t[16]||(t[16]=a=>v(_).city=a),"error-messages":y.value.city,label:"Stadt*",disabled:p.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"6"},{default:l(()=>[e(nl,{modelValue:v(_).location,"onUpdate:modelValue":t[17]||(t[17]=a=>v(_).location=a),"error-messages":y.value.location,label:"Schulungsort*",required:"",disabled:p.value},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(u,{cols:"12",sm:"6"},{default:l(()=>[e(nl,{modelValue:v(_).notes,"onUpdate:modelValue":t[18]||(t[18]=a=>v(_).notes=a),"error-messages":y.value.notes,label:"Notizen",required:"",disabled:p.value},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"6"},{default:l(()=>[e(r,null,{default:l(({isHovering:a,props:o})=>[e(b,g({onClick:cl},o,{color:a?"primary":"accent"}),{default:l(()=>[w("Zurücksetzen")]),_:2},1040,["color"])]),_:1})]),_:1}),e(u,{cols:"12",sm:"6",align:"right"},{default:l(()=>[e(r,null,{default:l(({isHovering:a,props:o})=>[e(v(ul),{href:il.value},{default:l(()=>[e(b,g({class:"mr-2",variant:"text"},o,{color:a?"accent":"primary"}),{default:l(()=>[w("Zurück")]),_:2},1040,["color"])]),_:2},1032,["href"])]),_:1}),e(r,null,{default:l(({isHovering:a,props:o})=>[e(Z,g({onClick:ml},o,{color:a?"accent":"primary"}),{default:l(()=>[w(" Speichern ")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1}),n.$page.props.auth.user.is_super_admin||n.$page.props.auth.user.is_admin||n.$page.props.auth.user.is_user_multiplier?(k(),ae(te,{key:0},[e(h,null,{default:l(()=>[e(i,{class:"tw-border-t-8 tw-mt-8 tw-pt-8"},{default:l(()=>[e(u,{cols:"12",sm:"6"},{default:l(()=>[ql]),_:1}),e(u,{cols:"12",sm:"6",class:"text-right"},{default:l(()=>[e(r,null,{default:l(({isHovering:a,props:o})=>[e(b,g(o,{color:a?"accent":"primary",dark:"",onClick:fl}),{default:l(()=>[Wl]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1}),e(h,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"4"},{default:l(()=>[e(V,{modelValue:K.value,"onUpdate:modelValue":t[19]||(t[19]=a=>K.value=a),label:"Name",disabled:p.value,clearable:""},null,8,["modelValue","disabled"])]),_:1}),e(u,{cols:"12",sm:"4"},{default:l(()=>[e(B,{modelValue:A.value,"onUpdate:modelValue":t[20]||(t[20]=a=>A.value=a),items:Tl,label:`Jährliche Rückmeldung ${new Date().getFullYear()} abgeschlossen`,multiple:"",disabled:p.value,clearable:""},null,8,["modelValue","label","disabled"])]),_:1}),e(u,{cols:"12",sm:"4"},{default:l(()=>[e(B,{modelValue:P.value,"onUpdate:modelValue":t[21]||(t[21]=a=>P.value=a),items:El,label:"Zugelassen",multiple:"",disabled:p.value,clearable:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"6"},{default:l(()=>[e(B,{modelValue:N.value,"onUpdate:modelValue":t[22]||(t[22]=a=>N.value=a),items:T.operators,"item-title":"name","item-value":"id",label:"Träger",multiple:"",disabled:p.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1}),e(u,{cols:"12",sm:"6"},{default:l(()=>[e(V,{modelValue:O.value,"onUpdate:modelValue":t[23]||(t[23]=a=>O.value=a),label:"Sonstiger Träger",disabled:p.value,clearable:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"6"},{default:l(()=>[e(B,{modelValue:M.value,"onUpdate:modelValue":t[24]||(t[24]=a=>M.value=a),items:T.kitaTypes,label:"Typ",multiple:"",disabled:p.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1}),e(u,{cols:"12",sm:"6"},{default:l(()=>[e(B,{modelValue:j.value,"onUpdate:modelValue":t[25]||(t[25]=a=>j.value=a),items:T.zipCodes,label:"Postleitzahl",multiple:"",disabled:p.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[n.$page.props.auth.user.is_super_admin||n.$page.props.auth.user.is_admin?(k(),C(u,{key:0,cols:"12",class:"text-right"},{default:l(()=>[T.usersEmails&&T.usersEmails.length>0?(k(),C(r,{key:0},{default:l(({isHovering:a,props:o})=>[e(b,g(o,{color:a?"accent":"primary",dark:"",onClick:Fl}),{default:l(()=>[e(ce,g(o,{size:"small",class:"tw-me-2"}),{default:l(()=>[w("mdi-email")]),_:2},1040),Gl]),_:2},1040,["color"])]),_:1})):F("",!0)]),_:1})):F("",!0),e(u,{cols:"12"},{default:l(()=>[e(xl,{"items-per-page":-1,headers:kl,items:Ul.value,search:Ee.value,loading:p.value,class:"data-table-container data-table-container-hide-footer elevation-1","item-value":"name","onUpdate:options":$l},{item:l(({item:a})=>{var o,le;return[d("tr",{"data-id":a.id,"data-order":a.order},[d("td",null,$(a==null?void 0:a.name),1),d("td",null,$(a!=null&&a.has_yearly_evaluations?"Ja":"Nein"),1),d("td",null,$(a!=null&&a.approved?"Ja":"Nein"),1),d("td",null,$(((o=a==null?void 0:a.operator)==null?void 0:o.name)??"-"),1),d("td",null,$(!((le=a==null?void 0:a.operator)!=null&&le.name)&&(a!=null&&a.other_operator)?a==null?void 0:a.other_operator:"-"),1),d("td",null,$((a==null?void 0:a.formatted_type)??(a==null?void 0:a.type)),1),d("td",null,$(a==null?void 0:a.zip_code),1),d("td",Xl,[n.$page.props.auth.user.is_super_admin||n.$page.props.auth.user.is_admin||n.$page.props.auth.user.is_user_multiplier?(k(),ae(te,{key:0},[a!=null&&a.approved&&(a==null?void 0:a.users_emails.length)>0?(k(),C(he,{key:0,location:"top"},{activator:l(({props:Q})=>[d("a",g({href:`mailto:?bcc=${a==null?void 0:a.users_emails.join(",")}`},Q),[e(ce,g(Q,{size:"small",class:"tw-me-2"}),{default:l(()=>[w("mdi-email")]),_:2},1040)],16,ea)]),default:l(()=>[la]),_:2},1024)):F("",!0)],64)):F("",!0),e(he,{location:"top"},{activator:l(({props:Q})=>[e(v(ul),{href:`${n.route("kitas.show",{id:a.id})}?from=trainings.show;training;${c.value.id}`},{default:l(()=>[e(ce,g(Q,{size:"small",class:"tw-me-2"}),{default:l(()=>[w("mdi-pencil")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[aa]),_:2},1024),!n.$page.props.auth.user.is_manager&&!n.$page.props.auth.user.is_user_multiplier?(k(),C(he,{key:1,location:"top"},{activator:l(({props:Q})=>[e(ce,g(Q,{size:"small",class:"tw-me-2",onClick:va=>yl(a)}),{default:l(()=>[w("mdi-delete ")]),_:2},1040,["onClick"])]),default:l(()=>[ta]),_:2},1024)):F("",!0)])],8,Ql)]}),"no-data":l(()=>[na]),_:1},8,["items","search","loading"])]),_:1})]),_:1})]),_:1})],64)):F("",!0),e(h,null,{default:l(()=>[e(i,null,{default:l(()=>[e(G,{modelValue:ne.value,"onUpdate:modelValue":t[28]||(t[28]=a=>ne.value=a),width:"80vw"},{default:l(()=>[e(W,{height:"80vw"},{default:l(()=>[e(ye,null,{default:l(()=>[ua]),_:1}),e(R,null,{default:l(()=>[e(h,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[(k(!0),ae(te,null,sl(rl.value,a=>(k(),C(i,null,{default:l(()=>[e(u,{cols:"12",sm:"2"},{default:l(()=>[d("span",sa,$(a==null?void 0:a.label)+":",1)]),_:2},1024),e(u,{cols:"12",sm:"10"},{default:l(()=>[d("span",null,$(a==null?void 0:a.value),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),T.trainingKitas&&T.trainingKitas.length?(k(),C(i,{key:0},{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[oa,ra]),_:1}),e(u,{cols:"12",class:"tw--mt-6"},{default:l(()=>[e(Al,null,{default:l(()=>[(k(!0),ae(te,null,sl(T.trainingKitas,a=>(k(),C(Kl,{class:"hide-details",key:a.id},{default:l(()=>[e(Dl,{class:"!tw-font-bold !tw-font-italic !tw-text-black",label:a.name,value:a,modelValue:ie.value,"onUpdate:modelValue":t[26]||(t[26]=o=>ie.value=o)},null,8,["label","value","modelValue"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):F("",!0)]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(Y),e(r,null,{default:l(({isHovering:a,props:o})=>[e(b,g({onClick:E},o,{color:a?"accent":"primary"}),{default:l(()=>[w("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(r,null,{default:l(({isHovering:a,props:o})=>[e(Z,g({onClick:t[27]||(t[27]=le=>ge("confirmed"))},o,{color:a?"accent":"primary"}),{default:l(()=>[w("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(G,{modelValue:ue.value,"onUpdate:modelValue":t[30]||(t[30]=a=>ue.value=a),width:"20vw"},{default:l(()=>[e(W,{height:"30vh"},{default:l(()=>[e(R,null,{default:l(()=>[e(h,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[ia]),_:1})]),_:1})]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(Y),e(r,null,{default:l(({isHovering:a,props:o})=>[e(b,g({onClick:E},o,{color:a?"accent":"primary"}),{default:l(()=>[w("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(r,null,{default:l(({isHovering:a,props:o})=>[e(Z,g({onClick:t[29]||(t[29]=le=>ge("completed"))},o,{color:a?"accent":"primary"}),{default:l(()=>[w("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(G,{modelValue:se.value,"onUpdate:modelValue":t[32]||(t[32]=a=>se.value=a),width:"20vw"},{default:l(()=>[e(W,{height:"30vh"},{default:l(()=>[e(R,null,{default:l(()=>[e(h,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[da]),_:1})]),_:1})]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(Y),e(r,null,{default:l(({isHovering:a,props:o})=>[e(b,g({onClick:E},o,{color:a?"accent":"primary"}),{default:l(()=>[w("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(r,null,{default:l(({isHovering:a,props:o})=>[e(Z,g({onClick:t[31]||(t[31]=le=>ge("cancelled"))},o,{color:a?"accent":"primary"}),{default:l(()=>[w("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(G,{modelValue:oe.value,"onUpdate:modelValue":t[34]||(t[34]=a=>oe.value=a),width:"80vw"},{default:l(()=>[e(W,{height:"80vh"},{default:l(()=>[e(ye,null,{default:l(()=>[ca]),_:1}),e(R,null,{default:l(()=>[e(h,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[ma]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[e(Pl,{modelValue:v(U).kitas,"onUpdate:modelValue":t[33]||(t[33]=a=>v(U).kitas=a),items:gl.value,"error-messages":y.value.kitas,"item-title":"name","item-value":"id",label:"KiTa",multiple:"",required:""},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(Y),e(r,null,{default:l(({isHovering:a,props:o})=>[e(b,g({onClick:E},o,{color:a?"accent":"primary"}),{default:l(()=>[w(" Zurück ")]),_:2},1040,["color"])]),_:1}),e(r,null,{default:l(({isHovering:a,props:o})=>[e(Z,g({onClick:hl},o,{color:a?"accent":"primary",disabled:bl.value}),{default:l(()=>[w(" Speichern ")]),_:2},1040,["color","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(G,{modelValue:re.value,"onUpdate:modelValue":t[35]||(t[35]=a=>re.value=a),width:"20vw"},{default:l(()=>[e(W,{height:"30vh"},{default:l(()=>[e(R,null,{default:l(()=>[e(h,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[d("p",null,"Möchten Sie die Einrichtung "+$(ve.value)+" wirklich aus der Ausbildung entfernen?",1)]),_:1})]),_:1})]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(Y),e(r,null,{default:l(({isHovering:a,props:o})=>[e(b,g({onClick:E},o,{color:a?"accent":"primary"}),{default:l(()=>[w("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(r,null,{default:l(({isHovering:a,props:o})=>[e(Z,g({onClick:Vl},o,{color:a?"accent":"primary"}),{default:l(()=>[w("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(u,{cols:"12"},{default:l(()=>[e(G,{modelValue:be.value,"onUpdate:modelValue":t[37]||(t[37]=a=>be.value=a),width:"40vw"},{default:l(()=>[e(W,{height:"80vh"},{default:l(()=>[e(ye,null,{default:l(()=>[_a]),_:1}),e(R,null,{default:l(()=>[e(h,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[e(B,{modelValue:ee.value,"onUpdate:modelValue":t[36]||(t[36]=a=>ee.value=a),items:T.usersEmails,label:"Benutzer",multiple:"",disabled:p.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(Y),e(r,null,{default:l(({isHovering:a,props:o})=>[e(Z,g({href:`mailto:?bcc=${ee.value.join(",")}`},o,{color:a?"accent":"primary",disabled:!ee.value.length}),{default:l(()=>[w(" Öffnen Sie den Mail-Client ")]),_:2},1040,["href","color","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["errors"])],64)}}};export{Va as default};
