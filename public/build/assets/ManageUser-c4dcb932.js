import{d as F}from"./index-3aa21fc7.js";import{K as T,k as f,h as E,T as N,r as d,f as S,a as e,u as s,w as a,F as j,o as z,Z as C,b as v,i as Z,p as V,d as x}from"./app-069a4a4b.js";import{_ as A}from"./AuthenticatedLayout-521e8488.js";import"./ApplicationLogo-fdc27767.js";const M=v("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Benutzer verwalten",-1),O={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},R={class:"tw-flex tw-justify-between"},G={__name:"ManageUser",props:{user:Object,errors:Object,roles:Array,from:String},setup(w){const p=w;F.Inertia.on("success",t=>{let o=t.detail.page.props;t.detail.page.component==="Users/Partials/ManageUser"&&o&&(u.value=o.user)}),T().props.auth.user;const u=f(p.user),n=f(p.errors||{});f(!1);const h=E(()=>{if(p.from){const t=p.from.split(";");if(t.length===2)return route(t[0],{kita:t[1]})}return route("users.index")}),y=()=>{l.reset(),l.clearErrors(),n.value={}},l=N({id:u.value.id,first_name:u.value.first_name,last_name:u.value.last_name,email:u.value.email,password:null,password_confirmation:null,role:u.value.primary_role_id,two_factor_auth_enabled:u.value.two_factor_auth_enabled,phone_number:u.value.phone_number}),U=async()=>{l.processing=!0,l.put(route("users.update",{user:l.id}),{preserveState:!1,onSuccess:t=>{y()},onError:t=>{n.value=t},onFinish:()=>{l.processing=!1}})};return(t,o)=>{const i=d("v-text-field"),m=d("v-col"),_=d("v-row"),k=d("v-select"),q=d("v-checkbox"),g=d("v-container"),B=d("v-btn"),b=d("v-hover"),P=d("v-btn-primary");return z(),S(j,null,[e(s(C),{title:"Benutzer verwalten"}),e(A,{errors:n.value},{header:a(()=>[M]),default:a(()=>[v("div",O,[e(g,null,{default:a(()=>[e(_,null,{default:a(()=>[e(m,{cols:"12",sm:"4"},{default:a(()=>[e(i,{modelValue:s(l).first_name,"onUpdate:modelValue":o[0]||(o[0]=r=>s(l).first_name=r),"error-messages":n.value.first_name,label:"Vorname",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(m,{cols:"12",sm:"4"},{default:a(()=>[e(i,{modelValue:s(l).last_name,"onUpdate:modelValue":o[1]||(o[1]=r=>s(l).last_name=r),"error-messages":n.value.last_name,label:"Nachname",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(m,{cols:"12",sm:"4"},{default:a(()=>[e(i,{modelValue:s(l).email,"onUpdate:modelValue":o[2]||(o[2]=r=>s(l).email=r),"error-messages":n.value.email,label:"Email",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(_,null,{default:a(()=>[e(m,{cols:"12",sm:"4"},{default:a(()=>[e(i,{modelValue:s(l).phone_number,"onUpdate:modelValue":o[3]||(o[3]=r=>s(l).phone_number=r),"error-messages":n.value.phone_number,label:"Telefonnummer"},null,8,["modelValue","error-messages"])]),_:1}),e(m,{cols:"12",sm:"4"},{default:a(()=>[e(i,{type:"password",autocomplete:"new-password",modelValue:s(l).password,"onUpdate:modelValue":o[4]||(o[4]=r=>s(l).password=r),"error-messages":n.value.password,label:"Passwort",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(m,{cols:"12",sm:"4"},{default:a(()=>[e(i,{type:"password",modelValue:s(l).password_confirmation,"onUpdate:modelValue":o[5]||(o[5]=r=>s(l).password_confirmation=r),"error-messages":n.value.password_confirmation,label:"Passwort Bestätigung",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(_,null,{default:a(()=>[e(m,{cols:"12",sm:"4"},{default:a(()=>[e(k,{disabled:t.$page.props.auth.user.id===u.value.id,modelValue:s(l).role,"onUpdate:modelValue":o[6]||(o[6]=r=>s(l).role=r),items:w.roles,"error-messages":n.value.role,"item-title":"human_name","item-value":"id",label:"Rolle",required:""},null,8,["disabled","modelValue","items","error-messages"])]),_:1}),e(m,{cols:"12",sm:"4"},{default:a(()=>[e(q,{modelValue:s(l).two_factor_auth_enabled,"onUpdate:modelValue":o[7]||(o[7]=r=>s(l).two_factor_auth_enabled=r),label:"Zwei-Faktor-Authentifizierung",value:!0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(g,null,{default:a(()=>[e(_,null,{default:a(()=>[e(m,{cols:"12",md:"3",sm:"4"},{default:a(()=>[v("div",R,[e(b,null,{default:a(({isHovering:r,props:c})=>[e(s(Z),{href:h.value},{default:a(()=>[e(B,V(c,{color:r?"primary":"accent"}),{default:a(()=>[x("Zurück")]),_:2},1040,["color"])]),_:2},1032,["href"])]),_:1}),e(b,null,{default:a(({isHovering:r,props:c})=>[e(P,V({onClick:U},c,{color:r?"accent":"primary"}),{default:a(()=>[x("Speichern")]),_:2},1040,["color"])]),_:1})])]),_:1})]),_:1})]),_:1})])]),_:1},8,["errors"])],64)}}};export{G as default};
