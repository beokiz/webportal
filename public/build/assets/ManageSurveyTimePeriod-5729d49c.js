import{d as N}from"./index-bcde31f9.js";import{K as j,k as s,m as O,T as z,r,f as J,a as e,u as d,w as a,F as R,o as Z,Z as q,b as P,t as A,p as f,i as I,d as F}from"./app-6fb0ee1c.js";import{_ as K}from"./AuthenticatedLayout-a0a227f6.js";import{b as y,a as G}from"./common-1f9d3448.js";import"./ApplicationLogo-d0ee7773.js";const H={class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},L={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},Q=P("h3",null,"Eigenschaften",-1),le={__name:"ManageSurveyTimePeriod",props:{surveyTimePeriod:Object,errors:Object},setup(g){const i=g;N.Inertia.on("success",n=>{let l=n.detail.page.props;n.detail.page.component==="SurveyTimePeriods/Partials/ManageSurveyTimePeriod"&&l&&(c.value=l.surveyTimePeriod)}),j().props.auth.user;const c=s(i.surveyTimePeriod),p=s(i.errors||{});s(!1);const w=s(!1),V=s(!1),x=s(y(i.surveyTimePeriod.survey_start_date)),S=s(y(i.surveyTimePeriod.survey_end_date)),m=s(new Date(i.surveyTimePeriod.survey_start_date).toString()),v=s(new Date(i.surveyTimePeriod.survey_end_date).toString());O(m,n=>{x.value=y(n)}),O(v,n=>{S.value=y(n)});const o=z({id:c.value.id,year:c.value.year,age:c.value.age,survey_start_date:null,survey_end_date:null}),M=async()=>{o.processing=!0,o.survey_start_date=new Date(m.value),o.survey_end_date=new Date(v.value);let n={preserveState:!1,onSuccess:l=>{},onError:l=>{p.value=l},onFinish:()=>{o.processing=!1}};o.put(route("survey_time_periods.update",{id:o.id}),n)};return(n,l)=>{const u=r("v-col"),_=r("v-row"),k=r("v-container"),b=r("v-text-field"),h=r("v-date-picker"),E=r("v-menu"),D=r("v-locale-provider"),$=r("v-select"),B=r("v-btn"),U=r("v-hover"),C=r("v-btn-primary");return Z(),J(R,null,[e(d(q),{title:`Verwalte Rückmeldezeitraum ${g.surveyTimePeriod.year}`},null,8,["title"]),e(K,{errors:p.value},{header:a(()=>[P("h2",H,"Verwalte Rückmeldezeitraum "+A(g.surveyTimePeriod.year),1)]),default:a(()=>[P("div",L,[e(k,null,{default:a(()=>[e(_,null,{default:a(()=>[e(u,{cols:"12"},{default:a(()=>[Q]),_:1})]),_:1})]),_:1}),e(k,null,{default:a(()=>[e(_,null,{default:a(()=>[e(u,{cols:"12",sm:"6"},{default:a(()=>[e(b,{modelValue:d(o).year,"onUpdate:modelValue":l[0]||(l[0]=t=>d(o).year=t),"error-messages":p.value.year,label:"Jahr*",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(u,{cols:"12",sm:"6"},{default:a(()=>[e(D,{locale:"de"},{default:a(()=>[e(E,{modelValue:w.value,"onUpdate:modelValue":l[3]||(l[3]=t=>w.value=t),"return-value":m.value,"close-on-content-click":!1},{activator:a(({props:t})=>[e(b,f({label:"Erhebungsbeginn*",class:"tw-cursor-pointer","model-value":x.value,"prepend-icon":"mdi-calendar",readonly:""},t),null,16,["model-value"])]),default:a(()=>[e(h,{"onUpdate:modelValue":[l[1]||(l[1]=t=>w.value=!1),l[2]||(l[2]=t=>m.value=t)],modelValue:m.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1})]),_:1}),e(_,null,{default:a(()=>[e(u,{cols:"12",sm:"6"},{default:a(()=>[e($,{modelValue:d(o).age,"onUpdate:modelValue":l[4]||(l[4]=t=>d(o).age=t),items:d(G),"error-messages":p.value.age,"item-title":"age_name","item-value":"age_number",label:"Altersgruppe (Jahre)*"},null,8,["modelValue","items","error-messages"])]),_:1}),e(u,{cols:"12",sm:"6"},{default:a(()=>[e(D,{locale:"de"},{default:a(()=>[e(E,{modelValue:V.value,"onUpdate:modelValue":l[7]||(l[7]=t=>V.value=t),"return-value":v.value,"close-on-content-click":!1},{activator:a(({props:t})=>[e(b,f({label:"Erhebungsende*",class:"tw-cursor-pointer","model-value":S.value,"prepend-icon":"mdi-calendar",readonly:""},t),null,16,["model-value"])]),default:a(()=>[e(h,{"onUpdate:modelValue":[l[5]||(l[5]=t=>V.value=!1),l[6]||(l[6]=t=>v.value=t)],modelValue:v.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1})]),_:1}),e(_,null,{default:a(()=>[e(u,{cols:"12",sm:"6",align:"right"},{default:a(()=>[e(U,null,{default:a(({isHovering:t,props:T})=>[e(d(I),{href:n.route("survey_time_periods.index")},{default:a(()=>[e(B,f({class:"mr-2",variant:"text"},T,{color:t?"accent":"primary"}),{default:a(()=>[F("Zurück")]),_:2},1040,["color"])]),_:2},1032,["href"])]),_:1}),e(U,null,{default:a(({isHovering:t,props:T})=>[e(C,f({onClick:M},T,{color:t?"accent":"primary"}),{default:a(()=>[F("Speichern ")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1},8,["errors"])],64)}}};export{le as default};
