import{d as K}from"./index-169170e2.js";import{K as O,k as m,s as P,T as q,m as G,r as o,o as w,f as H,a as e,u as s,w as a,F as J,Z as L,b as _,c as h,g as x,p as k,d as y,t as Q}from"./app-bddc42f0.js";import{p as V,a as W}from"./common-326e1711.js";import{_ as X}from"./AuthenticatedLayout-2eee88d3.js";import{_ as E}from"./EvaluationDomainsList-312319ac.js";import"./ApplicationLogo-cf44e24a.js";const Y=_("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Screening-prüfung",-1),ee={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},ae=_("h3",null,"Eigenschaften",-1),te={class:"tw-text-center"},oe={class:"tw-uppercase text-primary tw-font-black tw-text-xl tw-mb-8"},ie={__name:"MakeEvaluationScreening",props:{domains:Array,dazDependent:{type:Boolean,default:!1},errors:Object},setup(p){const g=p;K.Inertia.on("success",n=>{n.detail.page.props,n.detail.page.component}),O().props.auth.user;const r=m(g.errors||{});m(!1);const v=m(!1),D=m(null),z=m(null);P(()=>{C()});const R=n=>{t.ratings=n},C=()=>{t.ratings=V(g.domains)},S=()=>{r.value={},v.value=!1},A=()=>{t.reset(),t.clearErrors(),r.value={},t.ratings=V(g.domains)},t=q({age:null,is_daz:!1,ratings:[]});G(()=>t.age,n=>{t.ratings=V(g.domains)});const N=async()=>{t.processing=!0,t.post(route("screening.make"),{onSuccess:n=>{t.clearErrors(),r.value={},v.value=!0,D.value=n.props.data.evaluation,z.value=n.props.data.domain.name},onError:n=>{r.value=n},onFinish:()=>{t.processing=!1}})};return(n,u)=>{const c=o("v-col"),i=o("v-row"),f=o("v-container"),F=o("v-select"),I=o("v-checkbox"),U=o("v-btn"),b=o("v-hover"),B=o("v-btn-primary"),M=o("v-card-text"),T=o("v-spacer"),Z=o("v-card-actions"),$=o("v-card"),j=o("v-dialog");return w(),H(J,null,[e(s(L),{title:"Screening-prüfung"}),e(X,{errors:r.value},{header:a(()=>[Y]),default:a(()=>[_("div",ee,[e(f,null,{default:a(()=>[e(i,null,{default:a(()=>[e(c,{cols:"12"},{default:a(()=>[ae]),_:1})]),_:1})]),_:1}),e(f,null,{default:a(()=>[e(i,null,{default:a(()=>[e(c,{cols:"12",sm:"3"},{default:a(()=>[e(F,{modelValue:s(t).age,"onUpdate:modelValue":u[0]||(u[0]=l=>s(t).age=l),items:s(W),"error-messages":r.value.age,"item-title":"age_name","item-value":"age_number",label:"Altersgruppe"},null,8,["modelValue","items","error-messages"])]),_:1}),p.dazDependent?(w(),h(c,{key:0,cols:"12",sm:"2"},{default:a(()=>[e(I,{modelValue:s(t).is_daz,"onUpdate:modelValue":u[1]||(u[1]=l=>s(t).is_daz=l),label:"Ist Daz"},null,8,["modelValue"])]),_:1})):x("",!0)]),_:1}),e(i,{class:"manage-evaluation-domains"},{default:a(()=>[s(t).age?(w(),h(E,{key:0,ratings:s(t).ratings,age:s(t).age,domains:p.domains,errors:r.value,onUpdateRatingData:R},null,8,["ratings","age","domains","errors"])):x("",!0)]),_:1})]),_:1}),e(f,null,{default:a(()=>[e(i,null,{default:a(()=>[e(c,{cols:"12",sm:"6"},{default:a(()=>[e(b,null,{default:a(({isHovering:l,props:d})=>[e(U,k({onClick:A},d,{color:l?"primary":"accent"}),{default:a(()=>[y(" Zurücksetzen ")]),_:2},1040,["color"])]),_:1})]),_:1}),e(c,{cols:"12",sm:"6",align:"right"},{default:a(()=>[s(t).age?(w(),h(b,{key:0},{default:a(({isHovering:l,props:d})=>[e(B,k({onClick:N},d,{color:l?"accent":"primary"}),{default:a(()=>[y(" Ampel-Bewertung ")]),_:2},1040,["color"])]),_:1})):x("",!0)]),_:1})]),_:1})]),_:1})]),e(j,{modelValue:v.value,"onUpdate:modelValue":u[2]||(u[2]=l=>v.value=l),width:"95vw"},{default:a(()=>[e($,{height:"95vh"},{default:a(()=>[e(M,null,{default:a(()=>[e(f,null,{default:a(()=>[e(i,{class:"result-evaluation-domains"},{default:a(()=>[e(c,{cols:"8",offset:"2"},{default:a(()=>[_("div",te,[_("h1",oe," Ampelergebnis der "+Q(z.value),1)])]),_:1}),e(c,{cols:"12"},{default:a(()=>[e(E,{ratings:D.value,age:s(t).age,domains:p.domains,disabled:!0},null,8,["ratings","age","domains"])]),_:1})]),_:1})]),_:1})]),_:1}),e(Z,null,{default:a(()=>[e(T),e(b,null,{default:a(({isHovering:l,props:d})=>[e(B,k({onClick:S},d,{color:l?"accent":"primary"}),{default:a(()=>[y("Abbrechen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["errors"])],64)}}};export{ie as default};
