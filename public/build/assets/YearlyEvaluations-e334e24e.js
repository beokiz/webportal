import{d as Re}from"./index-1bf895f3.js";import{K as je,j as c,k as q,l as p,A as L,T as Ke,r as v,o as w,f as J,a as e,u as s,w as l,F as Se,Z as Ge,b as d,m as b,d as y,c as H,h as K,t as z,i as Oe,O as We}from"./app-3ecfff64.js";import{_ as Le}from"./AuthenticatedLayout-94d66170.js";import{W as se}from"./WarningEvaluationTooltip-5872de3a.js";import"./ApplicationLogo-0e065a7f.js";const He=d("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Jährliche Rückmeldung",-1),Me={class:"tw-flex tw-items-center tw-justify-end"},Ze=d("span",{class:"tw-text-h5"},"Jährliche Rückmeldung erstellen",-1),Qe=d("h3",null,"Rückmeldung betrifft",-1),Xe=d("h3",null,"Angaben zur Rückmeldung",-1),el=d("h5",null,"Kinder bis 2,5 Jahre",-1),ll=d("h5",null,"Kinder bis 4,5 Jahre",-1),al=d("h4",null,"Wir haben eine Abweichung zwischen der Anzahl der von Ihnen gemeldeten Kinder und der Anzahl über die BeoKiz-Ampel erfassten Kindern festgestellt:",-1),tl={class:"tw-flex tw-items-center tw-mt-2"},rl={style:{"list-style-type":"disc","margin-left":"25px"}},nl={key:0},ol={key:1},il={key:2},_l={key:3},sl={key:0,class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},ul={class:"tw-bg-white tw-flex tw-justify-between tw-px-6 tw-py-6"},dl={class:"tw-w-full"},cl={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},ml=d("span",null,"Schreibe E-Mail an Auswahl",-1),hl=["data-id","data-order"],vl={align:"center"},gl=d("span",null,"Jährliche Rückmeldung bearbeiten",-1),fl=d("span",null,"Jährliche Rückmeldung löschen",-1),pl={class:"tw-py-6"},wl={key:0,class:"tw-mb-4"},bl=d("h3",{class:"tw-mb-4"},"Die Tabelle ist leer. Bitte setzen Sie die Suchfilter zurück.",-1),yl=d("span",{class:"tw-text-h5"},"Schreibe E-Mail an Auswahl",-1),Sl={__name:"YearlyEvaluations",props:{items:Array,currentPage:Number,perPage:Number,lastPage:Number,total:Number,paging:Boolean,orderBy:String,sort:String,filters:Object,errors:Object,kitas:Array,surveyTimePeriods:Array,usersEmails:Array},setup(M){var be,ye,ke,Ve,ze;const o=M;Re.Inertia.on("success",n=>{let a=n.detail.page.props;n.detail.page.component==="YearlyEvaluations/YearlyEvaluations"&&a&&(Z.value=a.currentPage,R.value=a.perPage,xe.value=a.orderBy,Ue.value=a.sort,de.value=a.total,Pe.value=a.lastPage)}),je().props.auth.user;const Z=c(o.currentPage),R=c(o.perPage),xe=c(o.orderBy),Ue=c(o.sort),de=c(o.total),Pe=c(o.lastPage),S=c(o.filters.year??null),x=c(o.filters.with_kita_names??null),U=c(o.filters.children2_born_per_year??null),P=c(o.filters.children4_born_per_year??null),A=c(o.filters.evaluations_with_daz2_total_per_year??null),I=c(o.filters.evaluations_with_daz4_total_per_year??null),ce=c(""),h=c(o.errors||{}),j=c([]),F=c(!1),Q=c(!1),T=c(!1),X=c(!1),ee=c(!1),me=c(null),le=c(!1),he=c(!1),ue=c(!1),Ae=[{title:"Jahr",key:"year",width:"7%",sortable:!1},{title:"KiTas",key:"kita_name",width:"11%",sortable:!1},{title:"Gemeldete Kinder bis 2.5 Jahre",key:"children_2_born_per_year",width:"18%",sortable:!1},{title:"Gemeldete Kinder bis 4.5 Jahre",key:"children_4_born_per_year",width:"18%",sortable:!1},{title:"Evaluationen für Kinder bis 2.5 Jahre",key:"evaluations_with_daz_2_total_per_year",width:"18%",sortable:!1},{title:"Evaluationen für Kinder bis 4.5 Jahre",key:"evaluations_with_daz_4_total_per_year",width:"18%",sortable:!1},{title:"Aktion",key:"actions",width:"10%",sortable:!1,align:"center"}],Ie=q(()=>o.items.map(n=>{const a={...n};for(const m in a)(a[m]===null||a[m]===void 0)&&(a[m]="-");return a})),ve=q(()=>S.value===null&&x.value===null&&U.value===null&&P.value===null&&A.value===null&&I.value===null),Je=q(()=>S.value!==null||x.value!==null||U.value!==null||P.value!==null||A.value!==null||I.value!==null),Fe=q(()=>we("2.5")),Te=q(()=>we("4.5")),G=q(()=>o.kitas.find(a=>t.kita_id===parseInt(a.id)));p(Q,n=>{n||B()}),p(S,L.debounce(n=>{C()},500)),p(x,n=>{C()}),p(U,L.debounce(n=>{C()},500)),p(P,L.debounce(n=>{C()},500)),p(A,L.debounce(n=>{C()},500)),p(I,L.debounce(n=>{C()},500)),p(T,n=>{ue.value=!0});const Ce=()=>{ee.value=!0,j.value=o.usersEmails.map(n=>n.value)},C=()=>{F.value=!0,ce.value=String(Date.now())},ge=async({page:n,itemsPerPage:a,sortBy:m,clearFilters:i})=>{if(i&&(S.value=null,x.value=null,U.value=null,P.value=null,A.value=null,I.value=null),n===Z.value&&i||ve||Je){F.value=!0;let u={page:n,per_page:a};m&&m.length>0?(u.order_by=m[0].key,u.sort=m[0].order):(u.order_by=null,u.sort=null),S.value&&(u.year=S.value),x.value&&(u.with_kita_names=x.value),U.value&&(u.children_2_born_per_year=U.value),P.value&&(u.children_4_born_per_year=P.value),A.value&&(u.evaluations_with_daz_2_total_per_year=A.value),I.value&&(u.evaluations_with_daz_4_total_per_year=I.value),await We.get(route(route().current()),u,{preserveScroll:!0,preserveState:!0,onCancelToken:V=>{},onCancel:()=>{},onBefore:V=>{F.value=!0},onStart:V=>{},onProgress:V=>{},onSuccess:V=>{Z.value=u.page,R.value=u.per_page},onError:V=>{console.log(V)},onFinish:V=>{F.value=!1}})}},Be=n=>{me.value=n.year,O.id=n.id,X.value=!0},O=Ke({id:null}),De=async()=>{O.processing=!0;let n={onSuccess:a=>{B()},onError:a=>{B(),h.value=a},onFinish:()=>{O.processing=!1}};O.delete(route("yearly_evaluations.destroy",{id:O.id}),n)},fe=()=>{T.value=!1},B=()=>{Q.value=!1,T.value=!1,X.value=!1,ee.value=!1,le.value=!1,ue.value=!1,t.reset(),t.clearErrors(),h.value={}},Ye=()=>{t.reset(),t.clearErrors()},t=Ke({year:new Date().getFullYear().toString().padStart(4,"0"),kita_id:(o==null?void 0:o.kitas.length)>0?(be=o==null?void 0:o.kitas[0])==null?void 0:be.id:null,evaluations_with_daz_2_total_per_year:(o==null?void 0:o.kitas.length)>0?(ye=o==null?void 0:o.kitas[0])==null?void 0:ye.evaluations_with_daz2_total_per_year_count:0,evaluations_with_daz_4_total_per_year:(o==null?void 0:o.kitas.length)>0?(ke=o==null?void 0:o.kitas[0])==null?void 0:ke.evaluations_with_daz4_total_per_year_count:0,evaluations_without_daz_2_total_per_year:(o==null?void 0:o.kitas.length)>0?(Ve=o==null?void 0:o.kitas[0])==null?void 0:Ve.evaluations_without_daz2_total_per_year_count:0,evaluations_without_daz_4_total_per_year:(o==null?void 0:o.kitas.length)>0?(ze=o==null?void 0:o.kitas[0])==null?void 0:ze.evaluations_without_daz4_total_per_year_count:0,children_2_born_per_year:null,children_4_born_per_year:null,children_2_with_german_lang:null,children_4_with_german_lang:null,children_2_with_foreign_lang:null,children_4_with_foreign_lang:null});p(()=>t.kita_id,(n,a)=>{G.value&&(t.evaluations_with_daz_2_total_per_year=G.value.evaluations_with_daz2_total_per_year_count,t.evaluations_with_daz_4_total_per_year=G.value.evaluations_with_daz4_total_per_year_count,t.evaluations_without_daz_2_total_per_year=G.value.evaluations_without_daz2_total_per_year_count,t.evaluations_without_daz_4_total_per_year=G.value.evaluations_without_daz4_total_per_year_count)}),p(()=>t.children_2_born_per_year,()=>{D("2.5")}),p(()=>t.children_2_with_german_lang,()=>{D("2.5")}),p(()=>t.children_2_with_foreign_lang,(n,a)=>{D("2.5")}),p(()=>t.children_4_born_per_year,(n,a)=>{D("4.5")}),p(()=>t.children_4_with_german_lang,(n,a)=>{D("4.5")}),p(()=>t.children_4_with_foreign_lang,(n,a)=>{D("4.5")});const $e=async()=>{t.processing=!0,t.post(route("yearly_evaluations.store"),{preserveState:!0,onSuccess:n=>{B()},onError:n=>{h.value=n},onFinish:()=>{fe(),t.processing=!1}})},k=n=>{if(n==="2_german")return parseInt(t.evaluations_with_daz_2_total_per_year)!==parseInt(t.children_2_with_german_lang??0);if(n==="2_foreign")return parseInt(t.evaluations_without_daz_2_total_per_year)!==parseInt(t.children_2_with_foreign_lang??0);if(n==="4_german")return parseInt(t.evaluations_with_daz_4_total_per_year)!==parseInt(t.children_4_with_german_lang??0);if(n==="4_foreign")return parseInt(t.evaluations_without_daz_4_total_per_year)!==parseInt(t.children_4_with_foreign_lang??0)},pe=async()=>{(k("2_german")||k("2_foreign")||k("4_german")||k("4_foreign"))&&!ue.value?T.value=!0:await $e()},we=n=>{if(n==="2.5"||n==="4.5"){const a=parseInt(t.year);let m,i;return n==="4.5"?(m=a-6,i=a-5):(m=a-4,i=a-3),`Gesamtzahl der im Zeitraum vom 01.10.${m} bis 30.09.${i} geborenen Kinder`}return"Gesamtzahl der Kinder"},D=n=>{if(n==="2.5"||n==="4.5"){let a=!1,m=!1;t.children_2_with_german_lang!==null&&t.children_2_with_german_lang!==void 0&&t.children_2_with_foreign_lang!==null&&t.children_2_with_foreign_lang!==void 0&&(parseInt(t.children_2_with_german_lang)+parseInt(t.children_2_with_foreign_lang)!==parseInt(t.children_2_born_per_year)?(h.value.children_2_born_per_year='Die ausgewählte "Anzahl der im ausgewählten Jahr geborenen Kinder" ist ungültig.',a=!1):(delete h.value.children_2_born_per_year,a=!0)),t.children_4_with_german_lang!==null&&t.children_4_with_german_lang!==void 0&&t.children_4_with_foreign_lang!==null&&t.children_4_with_foreign_lang!==void 0&&(parseInt(t.children_4_with_german_lang)+parseInt(t.children_4_with_foreign_lang)!==parseInt(t.children_4_born_per_year)?(h.value.children_4_born_per_year='Die ausgewählte "Anzahl der im ausgewählten Jahr geborenen Kinder" ist ungültig.',m=!1):(delete h.value.children_4_born_per_year,m=!0)),he.value=a&&m}},ae=(n,a,m)=>`Die Anzahl der Kinder im Alter bis ${n} Jahre welche Deutsch als Fremdsprache haben Sie mit ${a} angegeben, die Anzahl der  über die BeoKiz-Ampel erfassten Kindern beträgt ${m}`;return(n,a)=>{const m=v("v-card-title"),i=v("v-col"),u=v("v-text-field"),V=v("v-select"),g=v("v-row"),Y=v("v-card"),te=v("v-container"),re=v("v-card-text"),W=v("v-btn-primary"),E=v("v-hover"),ne=v("v-spacer"),$=v("v-btn"),oe=v("v-card-actions"),ie=v("v-dialog"),_e=v("v-icon"),Ne=v("v-checkbox"),Ee=v("v-tooltip"),qe=v("v-data-table-server");return w(),J(Se,null,[e(s(Ge),{title:"Jährliche Rückmeldung"}),e(Le,{errors:h.value},{header:l(()=>[He,d("div",Me,[e(E,null,{default:l(({isHovering:r,props:f})=>[e($,b(f,{color:r?"accent":"primary",dark:""}),{default:l(()=>[y(" ANLEGEN "),e(ie,{modelValue:Q.value,"onUpdate:modelValue":a[12]||(a[12]=_=>Q.value=_),activator:"parent",width:"80vw"},{default:l(()=>[e(Y,{height:"80vh"},{default:l(()=>[e(m,null,{default:l(()=>[Ze]),_:1}),e(re,null,{default:l(()=>[e(te,null,{default:l(()=>[e(g,null,{default:l(()=>[e(i,{cols:"12",sm:"12"},{default:l(()=>[Qe]),_:1}),e(i,{cols:"12",sm:"4"},{default:l(()=>[e(u,{modelValue:s(t).year,"onUpdate:modelValue":a[0]||(a[0]=_=>s(t).year=_),"error-messages":h.value.year,disabled:"",label:"Jahr der Rückmeldung*",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",sm:"4"},{default:l(()=>[e(V,{modelValue:s(t).kita_id,"onUpdate:modelValue":a[1]||(a[1]=_=>s(t).kita_id=_),items:M.kitas,"error-messages":h.value.kita_id,"item-title":"name","item-value":"id",label:"KiTa*"},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1}),e(g,null,{default:l(()=>[e(i,{cols:"12",sm:"12"},{default:l(()=>[Xe]),_:1}),e(i,{cols:"12",sm:"6"},{default:l(()=>[e(Y,{class:"tw-p-6"},{default:l(()=>[el,e(u,{modelValue:s(t).children_2_born_per_year,"onUpdate:modelValue":a[2]||(a[2]=_=>s(t).children_2_born_per_year=_),"error-messages":h.value.children_2_born_per_year,label:Fe.value,type:"number",required:""},null,8,["modelValue","error-messages","label"]),e(g,null,{default:l(()=>[e(i,{cols:"12",sm:"7"},{default:l(()=>[e(u,{modelValue:s(t).children_2_with_german_lang,"onUpdate:modelValue":a[3]||(a[3]=_=>s(t).children_2_with_german_lang=_),"error-messages":h.value.children_2_with_german_lang,label:"Kinder mit deutscher Herkunftssprache*",type:"number",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",sm:"5"},{default:l(()=>[e(g,null,{default:l(()=>[k("2_german")?(w(),H(se,{key:0})):K("",!0),e(i,{cols:"12",sm:"10"},{default:l(()=>[e(u,{modelValue:s(t).evaluations_with_daz_2_total_per_year,"onUpdate:modelValue":a[4]||(a[4]=_=>s(t).evaluations_with_daz_2_total_per_year=_),"error-messages":h.value.evaluations_with_daz_2_total_per_year,label:"Bisher eingereichte Einschätzungen",type:"number",disabled:"",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(g,null,{default:l(()=>[e(i,{cols:"12",sm:"7"},{default:l(()=>[e(u,{modelValue:s(t).children_2_with_foreign_lang,"onUpdate:modelValue":a[5]||(a[5]=_=>s(t).children_2_with_foreign_lang=_),"error-messages":h.value.children_2_with_foreign_lang,label:"Kinder mit nicht deutscher Herkunftssprache*",type:"number",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",sm:"5"},{default:l(()=>[e(g,null,{default:l(()=>[k("2_foreign")?(w(),H(se,{key:0})):K("",!0),e(i,{cols:"12",sm:"10"},{default:l(()=>[e(u,{modelValue:s(t).evaluations_without_daz_2_total_per_year,"onUpdate:modelValue":a[6]||(a[6]=_=>s(t).evaluations_without_daz_2_total_per_year=_),"error-messages":h.value.evaluations_without_daz_2_total_per_year,label:"Bisher eingereichte Einschätzungen",type:"number",disabled:"",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",sm:"6"},{default:l(()=>[e(Y,{class:"tw-p-6"},{default:l(()=>[ll,e(u,{modelValue:s(t).children_4_born_per_year,"onUpdate:modelValue":a[7]||(a[7]=_=>s(t).children_4_born_per_year=_),"error-messages":h.value.children_4_born_per_year,label:Te.value,type:"number",required:""},null,8,["modelValue","error-messages","label"]),e(g,null,{default:l(()=>[e(i,{cols:"12",sm:"7"},{default:l(()=>[e(u,{modelValue:s(t).children_4_with_german_lang,"onUpdate:modelValue":a[8]||(a[8]=_=>s(t).children_4_with_german_lang=_),"error-messages":h.value.children_4_with_german_lang,label:"Kinder mit deutscher Herkunftssprache*",type:"number",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",sm:"5"},{default:l(()=>[e(g,null,{default:l(()=>[k("4_german")?(w(),H(se,{key:0})):K("",!0),e(i,{cols:"12",sm:"10"},{default:l(()=>[e(u,{modelValue:s(t).evaluations_with_daz_4_total_per_year,"onUpdate:modelValue":a[9]||(a[9]=_=>s(t).evaluations_with_daz_4_total_per_year=_),"error-messages":h.value.evaluations_with_daz_4_total_per_year,label:"Bisher eingereichte Einschätzungen",type:"number",disabled:"",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(g,null,{default:l(()=>[e(i,{cols:"12",sm:"7"},{default:l(()=>[e(u,{modelValue:s(t).children_4_with_foreign_lang,"onUpdate:modelValue":a[10]||(a[10]=_=>s(t).children_4_with_foreign_lang=_),"error-messages":h.value.children_4_with_foreign_lang,label:"Kinder mit nicht deutscher Herkunftssprache*",type:"number",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",sm:"5"},{default:l(()=>[e(g,null,{default:l(()=>[k("4_foreign")?(w(),H(se,{key:0})):K("",!0),e(i,{cols:"12",sm:"10"},{default:l(()=>[e(u,{modelValue:s(t).evaluations_without_daz_4_total_per_year,"onUpdate:modelValue":a[11]||(a[11]=_=>s(t).evaluations_without_daz_4_total_per_year=_),"error-messages":h.value.evaluations_without_daz_4_total_per_year,label:"Bisher eingereichte Einschätzungen",type:"number",disabled:"",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(oe,null,{default:l(()=>[e(E,null,{default:l(({isHovering:_,props:N})=>[e(W,b({onClick:Ye},N,{color:_?"accent":"primary"}),{default:l(()=>[y("Zurücksetzen")]),_:2},1040,["color"])]),_:2},1024),e(ne),e(E,null,{default:l(({isHovering:_,props:N})=>[e($,b({onClick:B},N,{color:_?"accent":"primary"}),{default:l(()=>[y("Stornieren")]),_:2},1040,["color"])]),_:2},1024),e(E,null,{default:l(({isHovering:_,props:N})=>[e(W,b({onClick:pe},N,{color:_?"accent":"primary",disabled:!he.value}),{default:l(()=>[y("Speichern")]),_:2},1040,["color","disabled"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1040,["color"])]),_:1})]),e(ie,{modelValue:X.value,"onUpdate:modelValue":a[13]||(a[13]=r=>X.value=r),width:"20vw"},{default:l(()=>[e(Y,{height:"30vh"},{default:l(()=>[e(re,null,{default:l(()=>[e(te,null,{default:l(()=>[e(g,null,{default:l(()=>[e(i,{cols:"12"},{default:l(()=>[d("p",null,"Sind Sie sicher, dass Sie die Jährliche Rückmeldung "+z(me.value)+" löschen möchten?",1)]),_:1})]),_:1})]),_:1})]),_:1}),e(oe,null,{default:l(()=>[e(ne),e(E,null,{default:l(({isHovering:r,props:f})=>[e($,b({onClick:B},f,{color:r?"accent":"primary"}),{default:l(()=>[y("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(E,null,{default:l(({isHovering:r,props:f})=>[e(W,b({onClick:De},f,{color:r?"accent":"primary"}),{default:l(()=>[y("Löschen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ie,{modelValue:T.value,"onUpdate:modelValue":a[15]||(a[15]=r=>T.value=r),width:"80vw"},{default:l(()=>[e(Y,{height:"50vh"},{default:l(()=>[e(re,null,{default:l(()=>[e(te,null,{default:l(()=>[e(g,null,{default:l(()=>[e(i,{cols:"12"},{default:l(()=>[al,d("div",tl,[e(_e,b(o,{icon:"mdi-alert",color:"orange"}),null,16),d("ul",rl,[k("2_german")?(w(),J("li",nl,z(ae("2,5",s(t).children_2_with_german_lang,s(t).evaluations_with_daz_2_total_per_year)),1)):K("",!0),k("2_foreign")?(w(),J("li",ol,z(ae("2,5",s(t).children_2_with_foreign_lang,s(t).evaluations_without_daz_2_total_per_year)),1)):K("",!0),k("4_german")?(w(),J("li",il,z(ae("4,5",s(t).children_4_with_german_lang,s(t).evaluations_with_daz_4_total_per_year)),1)):K("",!0),k("4_foreign")?(w(),J("li",_l,z(ae("4,5",s(t).children_4_with_foreign_lang,s(t).evaluations_without_daz_4_total_per_year)),1)):K("",!0)])]),e(Ne,{modelValue:le.value,"onUpdate:modelValue":a[14]||(a[14]=r=>le.value=r),label:"Ich habe verstanden, dass es Unstimmigkeiten bei dem Abgelich der gemelden Zahlen gibt, Statusmeldung dennoch absenden."},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(oe,null,{default:l(()=>[e(ne),e(E,null,{default:l(({isHovering:r,props:f})=>[e($,{onClick:fe,color:r?"accent":"primary"},{default:l(()=>[y("Abbrechen")]),_:2},1032,["color"])]),_:1}),e(E,null,{default:l(({isHovering:r,props:f})=>[e(W,b({disabled:!le.value,onClick:pe},f,{color:r?"accent":"primary"}),{default:l(()=>[y("Speichern")]),_:2},1040,["disabled","color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),default:l(()=>[n.$page.props.auth.user.is_super_admin||n.$page.props.auth.user.is_admin?(w(),J("div",sl,[d("div",ul,[d("div",dl,[e(g,null,{default:l(()=>[e(i,{cols:"12",sm:"6"},{default:l(()=>[e(u,{type:"number",modelValue:S.value,"onUpdate:modelValue":a[16]||(a[16]=r=>S.value=r),label:"Jahr",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",sm:"6"},{default:l(()=>[e(V,{modelValue:x.value,"onUpdate:modelValue":a[17]||(a[17]=r=>x.value=r),items:M.kitas,"item-title":"name","item-value":"name",label:"KiTas",multiple:"",disabled:F.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1}),e(g,null,{default:l(()=>[e(i,{cols:"12",sm:"6"},{default:l(()=>[e(u,{type:"number",modelValue:U.value,"onUpdate:modelValue":a[18]||(a[18]=r=>U.value=r),label:"Gemeldete Kinder bis 2.5 Jahre",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",sm:"6"},{default:l(()=>[e(u,{type:"number",modelValue:P.value,"onUpdate:modelValue":a[19]||(a[19]=r=>P.value=r),label:"Gemeldete Kinder bis 4.5 Jahre",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(g,null,{default:l(()=>[e(i,{cols:"12",sm:"6"},{default:l(()=>[e(u,{type:"number",modelValue:A.value,"onUpdate:modelValue":a[20]||(a[20]=r=>A.value=r),label:"Evaluationen für Kinder bis 4.5 Jahre",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",sm:"6"},{default:l(()=>[e(u,{type:"number",modelValue:I.value,"onUpdate:modelValue":a[21]||(a[21]=r=>I.value=r),label:"Evaluationen für Kinder bis 4.5 Jahre",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})])])])):K("",!0),d("div",cl,[n.$page.props.auth.user.is_super_admin||n.$page.props.auth.user.is_admin?(w(),H(g,{key:0,class:"flex justify-end mb-4"},{default:l(()=>[e(E,null,{default:l(({isHovering:r,props:f})=>[e(i,{cols:"12",sm:"4",class:"text-right"},{default:l(()=>[e($,b(f,{color:r?"accent":"primary",dark:"",onClick:Ce}),{default:l(()=>[e(_e,b(f,{size:"small",class:"tw-me-2"}),{default:l(()=>[y("mdi-email")]),_:2},1040),ml]),_:2},1040,["color"])]),_:2},1024)]),_:1})]),_:1})):K("",!0),e(qe,{"items-per-page":R.value,"onUpdate:itemsPerPage":a[23]||(a[23]=r=>R.value=r),"items-per-page-options":[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],"items-per-page-text":"Objekte pro Seite:",headers:Ae,page:Z.value,"items-length":de.value,items:Ie.value,search:ce.value,loading:F.value,class:"data-table-container elevation-1","item-value":"name","onUpdate:options":ge},{item:l(({item:r})=>{var f;return[d("tr",{"data-id":r.id,"data-order":r.order},[d("td",null,z(r.year),1),d("td",null,z((f=r==null?void 0:r.kita)==null?void 0:f.formatted_name),1),d("td",null,z(r.children_2_born_per_year),1),d("td",null,z(r.children_4_born_per_year),1),d("td",null,z(r.evaluations_with_daz_2_total_per_year+r.evaluations_without_daz_2_total_per_year),1),d("td",null,z(r.evaluations_with_daz_4_total_per_year+r.evaluations_without_daz_4_total_per_year),1),d("td",vl,[e(Ee,{location:"top"},{activator:l(({props:_})=>[e(s(Oe),{href:n.route("yearly_evaluations.show",{id:r.id})},{default:l(()=>[e(_e,b(_,{size:"small",class:"tw-me-2"}),{default:l(()=>[y("mdi-pencil")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[gl]),_:2},1024),e(Ee,{location:"top"},{activator:l(({props:_})=>[e(_e,b(_,{size:"small",class:"tw-me-2",onClick:N=>Be(r)}),{default:l(()=>[y("mdi-delete")]),_:2},1040,["onClick"])]),default:l(()=>[fl]),_:2},1024)])],8,hl)]}),"no-data":l(()=>[d("div",pl,[ve.value?(w(),J("h3",wl,"Die Tabelle ist leer.")):(w(),J(Se,{key:1},[bl,e($,{color:"primary",onClick:a[22]||(a[22]=r=>ge({page:1,itemsPerPage:R.value,clearFilters:!0}))},{default:l(()=>[y("Reset")]),_:1})],64))])]),_:1},8,["items-per-page","items-per-page-options","page","items-length","items","search","loading"])]),e(ie,{modelValue:ee.value,"onUpdate:modelValue":a[25]||(a[25]=r=>ee.value=r),width:"40vw"},{default:l(()=>[e(Y,{height:"80vh"},{default:l(()=>[e(m,null,{default:l(()=>[yl]),_:1}),e(re,null,{default:l(()=>[e(te,null,{default:l(()=>[e(g,null,{default:l(()=>[e(i,{cols:"12"},{default:l(()=>[e(V,{modelValue:j.value,"onUpdate:modelValue":a[24]||(a[24]=r=>j.value=r),items:M.usersEmails,label:"Benutzer",multiple:"",disabled:F.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),e(oe,null,{default:l(()=>[e(ne),e(E,null,{default:l(({isHovering:r,props:f})=>[e(W,b({href:`mailto:?bcc=${j.value.join(",")}`},f,{color:r?"accent":"primary",disabled:!j.value.length}),{default:l(()=>[y(" Öffnen Sie den Mail-Client ")]),_:2},1040,["href","color","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["errors"])],64)}}};export{Sl as default};
