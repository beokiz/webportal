import{h as y,o as i,f as r,v as u,F as l,b as s,t as o,x as c,q as D,y as N,g as V}from"./app-bddc42f0.js";const B={class:"subdomains-list-head"},A={class:"radio-wrap radio-head"},F={class:"radio-wrap radio-content"},z=["for"],C=["id","onUpdate:modelValue","name","value","disabled"],L={__name:"EvaluationDomainsList",props:{domains:Array,ratings:Array,age:Number,errors:{type:Object,default:{}},disabled:{type:Boolean,default:!1}},setup(a,{emit:k}){const g=a,b=y(()=>g.age),x=y(()=>b.value?g.domains.map(t=>({...t,subdomains:t.subdomains.map(d=>({...d,milestones:d.milestones.filter(n=>parseFloat(n.age)===b.value)})).filter(d=>d.milestones.length>0)})).filter(t=>t.subdomains.length>0):g.domains),$=t=>{k("updateRatingData",t)};return(t,d)=>(i(!0),r(l,null,u(x.value,(n,v)=>(i(),r("div",{class:"domains-list-container",key:n.id},[n.subdomains&&n.subdomains.length>0?(i(),r(l,{key:0},[s("h3",{class:c({green:a.ratings[v].color==="green",yellow:a.ratings[v].color==="yellow",red:a.ratings[v].color==="red"})},o(n.name),3),(i(!0),r(l,null,u(n.subdomains,h=>(i(),r("div",{class:"subdomains-list-container",key:h.id},[s("div",B,[s("h4",null,o(h.name),1),(i(),r(l,null,u(["Noch Nicht","Ansatzweise","Weitgehend","Zuverlassig"],e=>s("div",A,[s("span",null,o(e),1)])),64))]),(i(!0),r(l,null,u(h.milestones,e=>(i(),r("div",{class:"milestone-list-container",key:e.id},[s("h5",{class:c({error:a.errors[`ratings.${e.domain_index}.milestones.${e.index}.value`]})},o(e.abbreviation),3),s("div",{class:c(["milestone-list-text",{error:a.errors[`ratings.${e.domain_index}.milestones.${e.index}.value`]}])},[s("span",null,o(e.title),1),s("p",null,o(e.text),1)],2),s("fieldset",{class:c({error:!a.disabled&&a.errors[`ratings.${e.domain_index}.milestones.${e.index}.value`]})},[(i(),r(l,null,u([1,2,3,4],(w,m)=>s("div",F,[s("label",{for:a.disabled?e.id+"-check-radio-disabled":e.id+"-check-radio"+m},[D(s("input",{type:"radio",id:a.disabled?e.id+"-check-radio-disabled":e.id+"-check-radio"+m,"onUpdate:modelValue":f=>a.ratings[e.domain_index].milestones[e.index].value=f,name:a.disabled?e.id+"-check-radio-disabled":e.id+"-check-radio",value:w,disabled:a.disabled,onInput:d[0]||(d[0]=f=>$(a.ratings))},null,40,C),[[N,a.ratings[e.domain_index].milestones[e.index].value]])],8,z)])),64))],2)]))),128))]))),128))],64)):V("",!0)]))),128))}};export{L as _};
