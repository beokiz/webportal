import{d as F}from"./index-3958b90c.js";import{K as P,k as c,T as E,r as n,o as N,f as T,a as e,u as r,w as a,F as j,Z as z,b as f,i as C,p as V,d as x}from"./app-727c30fe.js";import{_ as S}from"./AuthenticatedLayout-28cacdd6.js";import"./ApplicationLogo-ac02f4e9.js";const Z=f("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Benutzer verwalten",-1),A={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},M={class:"tw-flex tw-justify-between"},R={__name:"ManageUser",props:{user:Object,errors:Object,roles:Array},setup(v){const w=v;F.Inertia.on("success",m=>{let o=m.detail.page.props;m.detail.page.component==="Users/Partials/ManageUser"&&o&&(u.value=o.user)}),P().props.auth.user;const u=c(w.user),t=c(w.errors||{});c(!1);const y=()=>{l.reset(),l.clearErrors(),t.value={}},l=E({id:u.value.id,first_name:u.value.first_name,last_name:u.value.last_name,email:u.value.email,role:u.value.primary_role_id,two_factor_auth_enabled:u.value.two_factor_auth_enabled}),U=async()=>{l.processing=!0,l.put(route("users.update",{user:l.id}),{preserveState:!1,onSuccess:m=>{y()},onError:m=>{t.value=m},onFinish:()=>{l.processing=!1}})};return(m,o)=>{const i=n("v-text-field"),d=n("v-col"),_=n("v-row"),h=n("v-select"),k=n("v-checkbox"),g=n("v-container"),q=n("v-btn"),b=n("v-hover"),B=n("v-btn-primary");return N(),T(j,null,[e(r(z),{title:"Benutzer verwalten"}),e(S,{errors:t.value},{header:a(()=>[Z]),default:a(()=>[f("div",A,[e(g,null,{default:a(()=>[e(_,null,{default:a(()=>[e(d,{cols:"12",sm:"4"},{default:a(()=>[e(i,{modelValue:r(l).first_name,"onUpdate:modelValue":o[0]||(o[0]=s=>r(l).first_name=s),"error-messages":t.value.first_name,label:"Vorname",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",sm:"4"},{default:a(()=>[e(i,{modelValue:r(l).last_name,"onUpdate:modelValue":o[1]||(o[1]=s=>r(l).last_name=s),"error-messages":t.value.last_name,label:"Nachname",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",sm:"4"},{default:a(()=>[e(i,{modelValue:r(l).email,"onUpdate:modelValue":o[2]||(o[2]=s=>r(l).email=s),"error-messages":t.value.email,label:"Email",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(_,null,{default:a(()=>[e(d,{cols:"12",sm:"4"},{default:a(()=>[e(i,{type:"password",autocomplete:"new-password",modelValue:r(l).password,"onUpdate:modelValue":o[3]||(o[3]=s=>r(l).password=s),"error-messages":t.value.password,label:"Passwort",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",sm:"4"},{default:a(()=>[e(i,{type:"password",modelValue:r(l).password_confirmation,"onUpdate:modelValue":o[4]||(o[4]=s=>r(l).password_confirmation=s),"error-messages":t.value.password_confirmation,label:"Passwort Bestätigung",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",sm:"4"},{default:a(()=>[e(h,{disabled:m.$page.props.auth.user.id===u.value.id,modelValue:r(l).role,"onUpdate:modelValue":o[5]||(o[5]=s=>r(l).role=s),items:v.roles,"error-messages":t.value.role,"item-title":"human_name","item-value":"id",label:"Rolle",required:""},null,8,["disabled","modelValue","items","error-messages"])]),_:1})]),_:1}),e(_,null,{default:a(()=>[e(d,{cols:"12",sm:"4"},{default:a(()=>[e(k,{modelValue:r(l).two_factor_auth_enabled,"onUpdate:modelValue":o[6]||(o[6]=s=>r(l).two_factor_auth_enabled=s),label:"Zwei-Faktor-Authentifizierung",value:!0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(g,null,{default:a(()=>[e(_,null,{default:a(()=>[e(d,{cols:"12",md:"3",sm:"4"},{default:a(()=>[f("div",M,[e(b,null,{default:a(({isHovering:s,props:p})=>[e(r(C),{href:m.route("users.index")},{default:a(()=>[e(q,V(p,{color:s?"primary":"accent"}),{default:a(()=>[x("Zurück")]),_:2},1040,["color"])]),_:2},1032,["href"])]),_:1}),e(b,null,{default:a(({isHovering:s,props:p})=>[e(B,V({onClick:U},p,{color:s?"accent":"primary"}),{default:a(()=>[x("Speichern")]),_:2},1040,["color"])]),_:1})])]),_:1})]),_:1})]),_:1})])]),_:1},8,["errors"])],64)}}};export{R as default};
