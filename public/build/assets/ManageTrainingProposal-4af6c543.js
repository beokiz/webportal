import{d as zl}from"./index-20068c0c.js";import{j as d,k as X,l as D,T as ne,K as Fl,A as ye,r as g,o as b,f as ee,a as e,u as _,w as l,F as le,Z as Cl,b as i,c as T,m as c,h as E,d as y,i as ke,t as F,g as ll,O as Ul}from"./app-5d4e6535.js";import{_ as Dl}from"./AuthenticatedLayout-2503e4bb.js";import{c as ae}from"./common-ea192878.js";import"./VueTimepikcer.esm-26edc345.js";import"./ApplicationLogo-c6c6b36d.js";const Kl=i("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Verwalte Terminvorschlag",-1),Al={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},Ml=i("h3",null,"Termin",-1),Nl=i("span",null,"Akzeptieren für Multiplikator",-1),Ol=i("span",null,"Termin bestätigen",-1),Il=i("span",null,"Reservierung aufheben",-1),Bl=i("span",null,"Mail an KiTa(s) schreiben",-1),Zl=i("h3",null,"Teilnehmende Einrichtungen",-1),jl=i("span",null,"Einrichtung hinzufügen",-1),Jl=i("span",null,"Schreibe E-Mail an Auswahl",-1),Rl=["data-id","data-order"],ql={class:"text-center"},Yl=["href"],xl=i("span",null,"Schreibe E-Mail",-1),Hl=i("span",null,"Einrichtung bearbeiten",-1),Ll=i("span",null,"Einrichtung zeigen",-1),Wl=i("span",null,"Einrichtung löschen",-1),Gl=i("div",{class:"tw-py-6"},[i("h3",{class:"tw-mb-4"},"Die Tabelle ist leer.")],-1),Ql=i("span",{class:"tw-text-h5"},"Schulung gegenüber den KiTas bestätigen?",-1),Xl={class:"tw-font-bold tw-font-italic"},ea=i("p",null,"Sind Sie sicher, dass Sie den Schulungstermin mit der/den Einrichtung(en) bestätigen wollen? Eine E-Mail wird an die verantwortliche(n) Person(en) der Einrichtung(en) versendet, um den Termin zu bestätigen.",-1),la=i("p",null,"Möchten Sie die ausgewählten Terminvorschläge wirklich akzeptieren?",-1),aa=i("p",null,"Sind Sie sicher, dass Sie die ausgewählten Terminvorschläge widerrufen möchten?",-1),ta=i("span",{class:"tw-text-h5"},"Multiplikator hinzufügen",-1),oa=i("p",null,"Wählen Sie den Multiplikator aus, den Sie diesem Trainingsvorschlag hinzufügen möchten",-1),na=i("span",{class:"tw-text-h5"},"Einrichtungen hinzufügen",-1),sa=i("p",null,"Wählen Sie die Einrichtungen aus, die Sie zu dieser Schulung hinzufügen möchten",-1),ra=i("span",{class:"tw-text-h5"},"Schreibe E-Mail an Auswahl",-1),va={__name:"ManageTrainingProposal",props:{trainingProposal:Object,notEditable:Boolean,allKitas:Array,trainingProposalKitas:Array,errors:Object,multipliers:Array,operators:Array,statuses:Array,types:Array,emailMessages:Object,from:String,currentPage:Number,perPage:Number,lastPage:Number,total:Number,paging:Boolean,orderBy:String,sort:String,filters:Object,zipCodes:Array,kitaTypes:Array,usersEmails:Array},setup(V){var Se,$e,ze,Fe,Ce,Ue,De,Ke,Ae,Me,Ne,Oe,Ie,Be,Ze,je,Je,Re,qe,Ye,xe,He,Le;const s=V;zl.Inertia.on("success",o=>{let t=o.detail.page.props;o.detail.page.component==="TrainingProposals/Partials/ManageTrainingProposal"&&t&&(p.value=t.trainingProposal)});const p=d(s.trainingProposal),k=d(s.errors||{}),f=d(!1),me=d(null),Ve=d(!1),ve=d(!1),se=d(!1),re=d(!1),ue=d(!1),ie=d(!1),de=d(!1),_e=d(!1),fe=d(!1),we=d(ae(s.trainingProposal.first_date)),Pe=d(ae(s.trainingProposal.second_date)),R=d(new Date(s.trainingProposal.first_date).toString()),q=d(new Date(s.trainingProposal.second_date).toString()),al=d([{label:"Erster Schulungstag",value:`${ae((Se=p.value)==null?void 0:Se.first_date)}`},{label:"Zweiter Schulungstag",value:`${ae(($e=p.value)==null?void 0:$e.second_date)}`},{label:"Ort",value:(ze=p.value)==null?void 0:ze.formatted_location},{label:"Teilnehmerzahl",value:(Fe=p.value)==null?void 0:Fe.participant_count}]),tl=X(()=>{if(s.from){const o=s.from.split(";");if(o.length===3){const t=o[0],n={};return n[o[1]]=o[2],route(t,n)}}return route("training_proposals.index")});D(Ve,o=>{o||$()}),D(R,o=>{we.value=o?ae(o):null}),D(q,o=>{Pe.value=o?ae(o):null});const m=ne({id:(Ce=p.value)==null?void 0:Ce.id,multi_id:(Ue=p.value)==null?void 0:Ue.multi_id,first_date:(De=p.value)==null?void 0:De.first_date,second_date:(Ke=p.value)==null?void 0:Ke.second_date,location:(Ae=p.value)==null?void 0:Ae.location,participant_count:(Me=p.value)==null?void 0:Me.participant_count,street:(Ne=p.value)==null?void 0:Ne.street,house_number:(Oe=p.value)==null?void 0:Oe.house_number,zip_code:(Ie=p.value)==null?void 0:Ie.zip_code,city:(Be=p.value)==null?void 0:Be.city,district:(Ze=p.value)==null?void 0:Ze.district,notes:(je=p.value)==null?void 0:je.notes}),ol=async()=>{m.processing=!0,m.first_date=R.value?new Date(new Date(R.value).setHours(12,0,0,0)).toISOString():null,m.second_date=q.value?new Date(new Date(q.value).setHours(12,0,0,0)).toISOString():null;let o={onSuccess:t=>{$()},onError:t=>{k.value=t},onFinish:()=>{m.processing=!1}};m.put(route("training_proposals.update",{trainingProposal:m.id}),o)},nl=()=>{ue.value=!0},te=ne({multi_id:null}),sl=async()=>{te.processing=!0,te.post(route("training_proposals.add_multiplier",{trainingProposal:s.trainingProposal.id}),{onSuccess:o=>{$()},onError:o=>{k.value=o},onFinish:()=>{te.processing=!1}})},rl=()=>{re.value=!0},ul=()=>{se.value=!0},C=ne({id:(Je=p.value)==null?void 0:Je.id,status:null,multi_id:null}),ge=async o=>{C.processing=!0,C.status=o,o!=="open"&&delete C.multi_id;let t={preserveState:!1,onSuccess:n=>{$()},onError:n=>{k.value=n},onFinish:()=>{C.processing=!1}};C.put(route("training_proposals.update",{trainingProposal:C.id}),t)},il=()=>{ie.value=!0},K=ne({kitas:[]}),dl=X(()=>{var t,n,v;Fl().props.auth.user;let o=(t=s.trainingProposalKitas)==null?void 0:t.length;return((n=p.value)==null?void 0:n.status)==="reserved"&&o>0&&((v=p.value)==null?void 0:v.multi_id)}),cl=X(()=>{let o=s.trainingProposalKitas.map(t=>t.id);return s.allKitas.filter(t=>!o.includes(t.id))}),pl=async()=>{K.processing=!0,K.post(route("training_proposals.add_kitas",{trainingProposal:s.trainingProposal.id}),{onSuccess:o=>{$()},onError:o=>{k.value=o},onFinish:()=>{K.processing=!1}})},ml=o=>{me.value=o.name,A.kita=o.id,de.value=!0},A=ne({kita:null}),vl=async()=>{A.processing=!0;let o={onSuccess:t=>{$()},onError:t=>{k.value=t},onFinish:()=>{A.processing=!1}};A.post(route("training_proposals.remove_kita",{id:s.trainingProposal.id}),o)},$=()=>{Ve.value=!1,me.value=null,ve.value=!1,se.value=!1,re.value=!1,ue.value=!1,ie.value=!1,de.value=!1,C.reset(),C.clearErrors(),K.reset(),K.clearErrors(),A.reset(),A.clearErrors(),k.value={}},_l=()=>{m.reset(),m.clearErrors(),C.reset(),C.clearErrors(),K.reset(),K.clearErrors(),A.reset(),A.clearErrors(),R.value=null,q.value=null},fl=o=>o&&o.length>0?o.map(t=>{const n={...t};for(const v in n)(n[v]===null||n[v]===void 0)&&(n[v]="-");return n}):[],gl=[{title:"Name",key:"name",width:"10%",sortable:!0},{title:"Bestätigt",key:"training_proposal_confirmed",width:"10%",sortable:!1},{title:`Jährliche Rückmeldung ${new Date().getFullYear()} abgeschlossen`,key:"has_yearly_evaluations",width:"25%",sortable:!0},{title:"Zugelassen",key:"approved",width:"10%",sortable:!0},{title:"Träger",key:"operator_id",width:"10%",sortable:!0},{title:"Sonstiger Träger",key:"other_operator",width:"10%",sortable:!0},{title:"Typ",key:"type",width:"9%",sortable:!0},{title:"Postleitzahl",key:"zip_code",width:"8%",sortable:!0},{title:"Aktion",key:"actions",width:"8%",sortable:!1,align:"center"}],Te=d(s==null?void 0:s.currentPage),hl=d(s==null?void 0:s.perPage);d(s==null?void 0:s.orderBy),d(s==null?void 0:s.sort),d(s==null?void 0:s.total),d(s==null?void 0:s.lastPage);const Ee=d(""),M=d(((Re=s==null?void 0:s.filters)==null?void 0:Re.search)??null),N=d(((qe=s==null?void 0:s.filters)==null?void 0:qe.has_yearly_evaluations)??null),O=d(((Ye=s==null?void 0:s.filters)==null?void 0:Ye.approved)??null),I=d(null),B=d(((xe=s.filters)==null?void 0:xe.other_operator)??null),Z=d(((He=s==null?void 0:s.filters)==null?void 0:He.type)??null),j=d(((Le=s==null?void 0:s.filters)==null?void 0:Le.zip_code)??null),bl=[{title:"Ja",value:"true"},{title:"Nein",value:"false"}],yl=[{title:"Ja",value:"true"},{title:"Nein",value:"false"}],oe=d([]),he=d(!1),kl=X(()=>fl(s.trainingProposalKitas).map(t=>{var v;const n={...t};return n.training_proposal_confirmed=(v=t==null?void 0:t.training_proposal_confirmations)==null?void 0:v.some(u=>{var w;return u.confirmed===!0&&u.training_proposal_id===((w=p.value)==null?void 0:w.id)}),n})),Vl=X(()=>M.value===null&&N.value===null&&O.value===null&&I.value===null&&B.value===null&&Z.value===null&&j.value===null),wl=X(()=>M.value!==null||N.value!==null||O.value!==null||I.value!==null||B.value!==null||Z.value!==null||j.value!==null);D(M,ye.debounce(o=>{Y()},500)),D(N,o=>{Y()}),D(O,o=>{Y()}),D(I,o=>{Y()}),D(B,ye.debounce(o=>{Y()},500)),D(Z,o=>{Y()}),D(j,ye.debounce(o=>{Y()},500));const Y=o=>{f.value=!0,Ee.value=String(Date.now())},Pl=()=>{he.value=!0,oe.value=s.usersEmails.map(o=>o.value)},Tl=async({page:o,itemsPerPage:t,sortBy:n,clearFilters:v})=>{if(v&&(M.value=null,N.value=null,O.value=null,I.value=null,B.value=null,Z.value=null,j.value=null),o===Te.value&&v||Vl||wl){f.value=!0;let u={page:o,per_page:t};n&&n.length>0?(u.order_by=n[0].key,u.sort=n[0].order):(u.order_by=null,u.sort=null),s.from&&(u.from=s.from),M.value&&(u.search=M.value),N.value&&(u.has_yearly_evaluations=N.value),O.value&&(u.approved=O.value),I.value&&(u.operator_id=I.value),B.value&&(u.other_operator=B.value),Z.value&&(u.type=Z.value),j.value&&(u.zip_code=j.value),await Ul.get(route(route().current(),{trainingProposal:m.id}),u,{preserveScroll:!0,preserveState:!0,onCancelToken:w=>{},onCancel:()=>{},onBefore:w=>{f.value=!0},onStart:w=>{},onProgress:w=>{},onSuccess:w=>{Te.value=u.page,hl.value=u.per_page},onError:w=>{console.log(w)},onFinish:w=>{f.value=!1}})}};return(o,t)=>{const n=g("v-col"),v=g("v-btn"),u=g("v-hover"),w=g("v-icon"),h=g("v-row"),z=g("v-container"),U=g("v-text-field"),We=g("v-date-picker"),Ge=g("v-menu"),Qe=g("v-locale-provider"),x=g("v-select"),Xe=g("v-textarea"),J=g("v-btn-primary"),ce=g("v-tooltip"),El=g("v-data-table-server"),pe=g("v-card-title"),Sl=g("v-list-item"),$l=g("v-list"),H=g("v-card-text"),L=g("v-spacer"),W=g("v-card-actions"),G=g("v-card"),Q=g("v-dialog"),el=g("v-autocomplete");return b(),ee(le,null,[e(_(Cl),{title:"Verwalte Terminvorschlag"}),e(Dl,{errors:k.value},{header:l(()=>[Kl]),default:l(()=>[i("div",Al,[e(z,null,{default:l(()=>[e(h,null,{default:l(()=>[e(n,{cols:"12",sm:"3"},{default:l(()=>[Ml]),_:1}),e(n,{cols:"12",sm:"9",class:"text-right"},{default:l(()=>{var a,r;return[p.value.status==="open"&&(o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin)?(b(),T(u,{key:0},{default:l(({isHovering:S,props:P})=>[e(v,c({class:"tw-ml-4 tw-mb-4"},P,{color:S?"accent":"primary",dark:"",onClick:nl}),{default:l(()=>[Nl]),_:2},1040,["color"])]),_:1})):E("",!0),dl.value?(b(),T(u,{key:1},{default:l(({isHovering:S,props:P})=>[e(v,c({class:"tw-ml-4 tw-mb-4"},P,{color:S?"accent":"success",dark:"",onClick:rl}),{default:l(()=>[Ol]),_:2},1040,["color"])]),_:1})):E("",!0),p.value.status==="reserved"?(b(),T(u,{key:2},{default:l(({isHovering:S,props:P})=>[e(v,c({class:"tw-ml-4 tw-mb-4"},P,{color:S?"background":"error",dark:"",onClick:ul}),{default:l(()=>[Il]),_:2},1040,["color"])]),_:1})):E("",!0),o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin||o.$page.props.auth.user.is_user_multiplier?(b(),ee(le,{key:3},[(a=p.value)!=null&&a.kitas_users_emails&&((r=p.value)==null?void 0:r.kitas_users_emails.length)>0?(b(),T(u,{key:0},{default:l(({isHovering:S,props:P})=>{var be;return[e(v,c({class:"tw-ml-4 tw-mb-4",href:`mailto:?bcc=${(be=p.value)==null?void 0:be.kitas_users_emails.join(",")}`},P,{color:S?"accent":"primary",dark:""}),{default:l(()=>[e(w,c(P,{size:"small",class:"tw-me-2"}),{default:l(()=>[y("mdi-email")]),_:2},1040),Bl]),_:2},1040,["href","color"])]}),_:1})):E("",!0)],64)):E("",!0)]}),_:1})]),_:1})]),_:1}),e(z,null,{default:l(()=>[e(h,null,{default:l(()=>[e(n,{cols:"12",sm:"4"},{default:l(()=>[e(Qe,{locale:"de"},{default:l(()=>[e(Ge,{modelValue:_e.value,"onUpdate:modelValue":t[2]||(t[2]=a=>_e.value=a),"return-value":R.value,"close-on-content-click":!1,disabled:V.notEditable},{activator:l(({props:a})=>[e(U,c({label:"Erster Schulungstag*",class:"tw-cursor-pointer","model-value":we.value,"error-messages":k.value.first_date,"prepend-icon":"mdi-calendar"},a,{readonly:"",disabled:f.value}),null,16,["model-value","error-messages","disabled"])]),default:l(()=>[e(We,{"onUpdate:modelValue":[t[0]||(t[0]=a=>_e.value=!1),t[1]||(t[1]=a=>R.value=a)],modelValue:R.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value","disabled"])]),_:1})]),_:1}),e(n,{cols:"12",sm:"4"},{default:l(()=>[e(Qe,{locale:"de"},{default:l(()=>[e(Ge,{modelValue:fe.value,"onUpdate:modelValue":t[5]||(t[5]=a=>fe.value=a),"return-value":q.value,"close-on-content-click":!1,disabled:V.notEditable},{activator:l(({props:a})=>[e(U,c({label:"Zweiter Schulungstag*",class:"tw-cursor-pointer","model-value":Pe.value,"error-messages":k.value.second_date,"prepend-icon":"mdi-calendar"},a,{readonly:"",disabled:f.value}),null,16,["model-value","error-messages","disabled"])]),default:l(()=>[e(We,{"onUpdate:modelValue":[t[3]||(t[3]=a=>fe.value=!1),t[4]||(t[4]=a=>q.value=a)],modelValue:q.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value","disabled"])]),_:1})]),_:1}),e(n,{cols:"12",sm:"4"},{default:l(()=>[e(U,{type:"number",modelValue:_(m).participant_count,"onUpdate:modelValue":t[6]||(t[6]=a=>_(m).participant_count=a),"error-messages":k.value.participant_count,label:"Teilnehmerzahl*",clearable:"",readonly:V.notEditable,disabled:f.value},null,8,["modelValue","error-messages","readonly","disabled"])]),_:1})]),_:1}),e(h,null,{default:l(()=>[e(n,{cols:"12",sm:"4"},{default:l(()=>[e(U,{modelValue:_(m).street,"onUpdate:modelValue":t[7]||(t[7]=a=>_(m).street=a),"error-messages":k.value.street,label:"Straße*",disabled:f.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(n,{cols:"12",sm:"4"},{default:l(()=>[e(U,{modelValue:_(m).house_number,"onUpdate:modelValue":t[8]||(t[8]=a=>_(m).house_number=a),"error-messages":k.value.house_number,label:"Hausnummer*",disabled:f.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(n,{cols:"12",sm:"4"},{default:l(()=>[e(U,{modelValue:_(m).zip_code,"onUpdate:modelValue":t[9]||(t[9]=a=>_(m).zip_code=a),"error-messages":k.value.zip_code,label:"Postleitzahl*",disabled:f.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin?(b(),T(n,{key:0,cols:"12",sm:"4"},{default:l(()=>[e(x,{modelValue:_(m).multi_id,"onUpdate:modelValue":t[10]||(t[10]=a=>_(m).multi_id=a),"error-messages":k.value.multi_id,items:V.multipliers,"item-title":"full_name","item-value":"id",label:"Multiplikator*",disabled:f.value||o.$page.props.auth.user.is_user_multiplier,clearable:""},null,8,["modelValue","error-messages","items","disabled"])]),_:1})):E("",!0)]),_:1}),e(h,null,{default:l(()=>[e(n,{cols:"12",sm:"6"},{default:l(()=>[e(U,{modelValue:_(m).district,"onUpdate:modelValue":t[11]||(t[11]=a=>_(m).district=a),"error-messages":k.value.district,label:"Bezirk",disabled:f.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(U,{modelValue:_(m).city,"onUpdate:modelValue":t[12]||(t[12]=a=>_(m).city=a),"error-messages":k.value.city,label:"Stadt*",disabled:f.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:1}),e(h,null,{default:l(()=>[e(n,{cols:"12",sm:"6"},{default:l(()=>[e(Xe,{modelValue:_(m).location,"onUpdate:modelValue":t[13]||(t[13]=a=>_(m).location=a),"error-messages":k.value.location,label:"Ort*",required:"",readonly:V.notEditable,disabled:f.value},null,8,["modelValue","error-messages","readonly","disabled"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(Xe,{modelValue:_(m).notes,"onUpdate:modelValue":t[14]||(t[14]=a=>_(m).notes=a),"error-messages":k.value.notes,label:"Notizen",required:"",readonly:V.notEditable,disabled:f.value},null,8,["modelValue","error-messages","readonly","disabled"])]),_:1})]),_:1}),e(h,null,{default:l(()=>[e(n,{cols:"12",sm:"6"},{default:l(()=>[!V.notEditable||o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin?(b(),T(u,{key:0},{default:l(({isHovering:a,props:r})=>[e(v,c({onClick:_l},r,{color:a?"primary":"accent"}),{default:l(()=>[y("Zurücksetzen")]),_:2},1040,["color"])]),_:1})):E("",!0)]),_:1}),e(n,{cols:"12",sm:"6",align:"right"},{default:l(()=>[e(u,null,{default:l(({isHovering:a,props:r})=>[e(_(ke),{href:tl.value},{default:l(()=>[e(v,c({class:"mr-2",variant:"text"},r,{color:a?"accent":"primary"}),{default:l(()=>[y("Zurück")]),_:2},1040,["color"])]),_:2},1032,["href"])]),_:1}),!V.notEditable||o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin?(b(),T(u,{key:0},{default:l(({isHovering:a,props:r})=>[e(J,c({onClick:ol},r,{color:a?"accent":"primary"}),{default:l(()=>[y(" Speichern ")]),_:2},1040,["color"])]),_:1})):E("",!0)]),_:1})]),_:1})]),_:1}),o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin||o.$page.props.auth.user.is_user_multiplier?(b(),ee(le,{key:0},[e(z,null,{default:l(()=>[e(h,{class:"tw-border-t-8 tw-mt-8 tw-pt-8"},{default:l(()=>[e(n,{cols:"12",sm:"6"},{default:l(()=>[Zl]),_:1}),e(n,{cols:"12",sm:"6",class:"text-right"},{default:l(()=>[o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin?(b(),T(u,{key:0},{default:l(({isHovering:a,props:r})=>[e(v,c(r,{color:a?"accent":"primary",dark:"",onClick:il}),{default:l(()=>[jl]),_:2},1040,["color"])]),_:1})):E("",!0)]),_:1})]),_:1})]),_:1}),e(z,null,{default:l(()=>[e(h,null,{default:l(()=>[e(n,{cols:"12",sm:"4"},{default:l(()=>[e(U,{modelValue:M.value,"onUpdate:modelValue":t[15]||(t[15]=a=>M.value=a),label:"Name",disabled:f.value,clearable:""},null,8,["modelValue","disabled"])]),_:1}),e(n,{cols:"12",sm:"4"},{default:l(()=>[e(x,{modelValue:N.value,"onUpdate:modelValue":t[16]||(t[16]=a=>N.value=a),items:bl,label:`Jährliche Rückmeldung ${new Date().getFullYear()} abgeschlossen`,multiple:"",disabled:f.value,clearable:""},null,8,["modelValue","label","disabled"])]),_:1}),e(n,{cols:"12",sm:"4"},{default:l(()=>[e(x,{modelValue:O.value,"onUpdate:modelValue":t[17]||(t[17]=a=>O.value=a),items:yl,label:"Zugelassen",multiple:"",disabled:f.value,clearable:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),e(h,null,{default:l(()=>[e(n,{cols:"12",sm:"6"},{default:l(()=>[e(x,{modelValue:I.value,"onUpdate:modelValue":t[18]||(t[18]=a=>I.value=a),items:V.operators,"item-title":"name","item-value":"id",label:"Träger",multiple:"",disabled:f.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(U,{modelValue:B.value,"onUpdate:modelValue":t[19]||(t[19]=a=>B.value=a),label:"Sonstiger Träger",disabled:f.value,clearable:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),e(h,null,{default:l(()=>[e(n,{cols:"12",sm:"6"},{default:l(()=>[e(x,{modelValue:Z.value,"onUpdate:modelValue":t[20]||(t[20]=a=>Z.value=a),items:V.kitaTypes,label:"Typ",multiple:"",disabled:f.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(x,{modelValue:j.value,"onUpdate:modelValue":t[21]||(t[21]=a=>j.value=a),items:V.zipCodes,label:"Postleitzahl",multiple:"",disabled:f.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1}),e(h,null,{default:l(()=>[o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin?(b(),T(n,{key:0,cols:"12",class:"text-right"},{default:l(()=>[V.usersEmails&&V.usersEmails.length>0?(b(),T(u,{key:0},{default:l(({isHovering:a,props:r})=>[e(v,c(r,{color:a?"accent":"primary",dark:"",onClick:Pl}),{default:l(()=>[e(w,c(r,{size:"small",class:"tw-me-2"}),{default:l(()=>[y("mdi-email")]),_:2},1040),Jl]),_:2},1040,["color"])]),_:1})):E("",!0)]),_:1})):E("",!0),e(n,{cols:"12"},{default:l(()=>[e(El,{"items-per-page":-1,headers:gl,items:kl.value,search:Ee.value,loading:f.value,class:"data-table-container data-table-container-hide-footer elevation-1","item-value":"name","onUpdate:options":Tl},{item:l(({item:a})=>{var r,S;return[i("tr",{"data-id":a.id,"data-order":a.order},[i("td",null,F(a==null?void 0:a.name),1),i("td",null,F(a!=null&&a.training_proposal_confirmed?"Ja":"Nein"),1),i("td",null,F(a!=null&&a.has_yearly_evaluations?"Ja":"Nein"),1),i("td",null,F(a!=null&&a.approved?"Ja":"Nein"),1),i("td",null,F(((r=a==null?void 0:a.operator)==null?void 0:r.name)??"-"),1),i("td",null,F(!((S=a==null?void 0:a.operator)!=null&&S.name)&&(a!=null&&a.other_operator)?a==null?void 0:a.other_operator:"-"),1),i("td",null,F((a==null?void 0:a.formatted_type)??(a==null?void 0:a.type)),1),i("td",null,F(a==null?void 0:a.zip_code),1),i("td",ql,[o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin||o.$page.props.auth.user.is_user_multiplier?(b(),ee(le,{key:0},[a!=null&&a.approved&&(a==null?void 0:a.users_emails.length)>0?(b(),T(ce,{key:0,location:"top"},{activator:l(({props:P})=>[i("a",c({href:`mailto:?bcc=${a==null?void 0:a.users_emails.join(",")}`},P),[e(w,c(P,{size:"small",class:"tw-me-2"}),{default:l(()=>[y("mdi-email")]),_:2},1040)],16,Yl)]),default:l(()=>[xl]),_:2},1024)):E("",!0)],64)):E("",!0),o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin?(b(),T(ce,{key:1,location:"top"},{activator:l(({props:P})=>[e(_(ke),{href:`${o.route("kitas.show",{id:a.id})}?from=training_proposals.show;trainingProposal;${p.value.id}`},{default:l(()=>[e(w,c(P,{size:"small",class:"tw-me-2"}),{default:l(()=>[y("mdi-pencil")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[Hl]),_:2},1024)):(b(),T(ce,{key:2,location:"top"},{activator:l(({props:P})=>[e(_(ke),{href:`${o.route("kitas.show",{id:a.id})}?from=training_proposals.show;trainingProposal;${p.value.id}`},{default:l(()=>[e(w,c(P,{size:"small",class:"tw-me-2"}),{default:l(()=>[y("mdi-eye")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[Ll]),_:2},1024)),o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin?(b(),T(ce,{key:3,location:"top"},{activator:l(({props:P})=>[e(w,c(P,{size:"small",class:"tw-me-2",onClick:be=>ml(a)}),{default:l(()=>[y("mdi-delete ")]),_:2},1040,["onClick"])]),default:l(()=>[Wl]),_:2},1024)):E("",!0)])],8,Rl)]}),"no-data":l(()=>[Gl]),_:1},8,["items","search","loading"])]),_:1})]),_:1})]),_:1})],64)):E("",!0),e(z,null,{default:l(()=>[e(h,null,{default:l(()=>[e(Q,{modelValue:re.value,"onUpdate:modelValue":t[23]||(t[23]=a=>re.value=a),width:"80vw"},{default:l(()=>[e(G,{height:"80vw"},{default:l(()=>[e(pe,null,{default:l(()=>[Ql]),_:1}),e(H,null,{default:l(()=>[e(z,null,{default:l(()=>[e(h,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[(b(!0),ee(le,null,ll(al.value,a=>(b(),T(h,null,{default:l(()=>[e(n,{cols:"12",sm:"2"},{default:l(()=>[i("span",Xl,F(a==null?void 0:a.label)+":",1)]),_:2},1024),e(n,{cols:"12",sm:"10"},{default:l(()=>[i("span",null,F(a==null?void 0:a.value),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),V.trainingProposalKitas&&V.trainingProposalKitas.length?(b(),T(h,{key:0},{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[ea]),_:1}),e(n,{cols:"12",class:"tw--mt-6"},{default:l(()=>[e($l,null,{default:l(()=>[(b(!0),ee(le,null,ll(V.trainingProposalKitas,a=>(b(),T(Sl,{class:"hide-details",key:a.id},{default:l(()=>[y(F(a.name),1)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):E("",!0)]),_:1})]),_:1}),e(W,null,{default:l(()=>[e(L),e(u,null,{default:l(({isHovering:a,props:r})=>[e(v,c({onClick:$},r,{color:a?"accent":"primary"}),{default:l(()=>[y("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(u,null,{default:l(({isHovering:a,props:r})=>[e(J,c({onClick:t[22]||(t[22]=S=>ge("confirmation_pending"))},r,{color:a?"accent":"primary"}),{default:l(()=>[y("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Q,{modelValue:ve.value,"onUpdate:modelValue":t[25]||(t[25]=a=>ve.value=a),width:"20vw"},{default:l(()=>[e(G,{height:"30vh"},{default:l(()=>[e(H,null,{default:l(()=>[e(z,null,{default:l(()=>[e(h,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[la]),_:1})]),_:1})]),_:1})]),_:1}),e(W,null,{default:l(()=>[e(L),e(u,null,{default:l(({isHovering:a,props:r})=>[e(v,c({onClick:$},r,{color:a?"accent":"primary"}),{default:l(()=>[y("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(u,null,{default:l(({isHovering:a,props:r})=>[e(J,c({onClick:t[24]||(t[24]=S=>ge("reserved"))},r,{color:a?"accent":"primary"}),{default:l(()=>[y("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Q,{modelValue:se.value,"onUpdate:modelValue":t[27]||(t[27]=a=>se.value=a),width:"20vw"},{default:l(()=>[e(G,{height:"30vh"},{default:l(()=>[e(H,null,{default:l(()=>[e(z,null,{default:l(()=>[e(h,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[aa]),_:1})]),_:1})]),_:1})]),_:1}),e(W,null,{default:l(()=>[e(L),e(u,null,{default:l(({isHovering:a,props:r})=>[e(v,c({onClick:$},r,{color:a?"accent":"primary"}),{default:l(()=>[y("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(u,null,{default:l(({isHovering:a,props:r})=>[e(J,c({onClick:t[26]||(t[26]=S=>ge("open",null))},r,{color:a?"accent":"primary"}),{default:l(()=>[y("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Q,{modelValue:ue.value,"onUpdate:modelValue":t[29]||(t[29]=a=>ue.value=a),width:"80vw"},{default:l(()=>[e(G,{height:"80vh"},{default:l(()=>[e(pe,null,{default:l(()=>[ta]),_:1}),e(H,null,{default:l(()=>[e(z,null,{default:l(()=>[e(h,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[oa]),_:1})]),_:1}),e(h,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[e(el,{modelValue:_(te).multi_id,"onUpdate:modelValue":t[28]||(t[28]=a=>_(te).multi_id=a),items:V.multipliers,"error-messages":k.value.multi_id,"item-title":"full_name","item-value":"id",label:"Multiplikator",required:""},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(W,null,{default:l(()=>[e(L),e(u,null,{default:l(({isHovering:a,props:r})=>[e(v,c({onClick:$},r,{color:a?"accent":"primary"}),{default:l(()=>[y(" Zurück ")]),_:2},1040,["color"])]),_:1}),e(u,null,{default:l(({isHovering:a,props:r})=>[e(J,c({onClick:sl},r,{color:a?"accent":"primary"}),{default:l(()=>[y(" Speichern ")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Q,{modelValue:ie.value,"onUpdate:modelValue":t[31]||(t[31]=a=>ie.value=a),width:"80vw"},{default:l(()=>[e(G,{height:"80vh"},{default:l(()=>[e(pe,null,{default:l(()=>[na]),_:1}),e(H,null,{default:l(()=>[e(z,null,{default:l(()=>[e(h,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[sa]),_:1})]),_:1}),e(h,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[e(el,{modelValue:_(K).kitas,"onUpdate:modelValue":t[30]||(t[30]=a=>_(K).kitas=a),items:cl.value,"error-messages":k.value.kitas,"item-title":"name","item-value":"id",label:"KiTa",multiple:"",required:""},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(W,null,{default:l(()=>[e(L),e(u,null,{default:l(({isHovering:a,props:r})=>[e(v,c({onClick:$},r,{color:a?"accent":"primary"}),{default:l(()=>[y(" Zurück ")]),_:2},1040,["color"])]),_:1}),e(u,null,{default:l(({isHovering:a,props:r})=>[e(J,c({onClick:pl},r,{color:a?"accent":"primary",disabled:o.maxParticipantCountExceeded}),{default:l(()=>[y(" Speichern ")]),_:2},1040,["color","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Q,{modelValue:de.value,"onUpdate:modelValue":t[32]||(t[32]=a=>de.value=a),width:"20vw"},{default:l(()=>[e(G,{height:"30vh"},{default:l(()=>[e(H,null,{default:l(()=>[e(z,null,{default:l(()=>[e(h,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[i("p",null,"Möchten Sie die Einrichtung "+F(me.value)+" wirklich aus der Ausbildung entfernen?",1)]),_:1})]),_:1})]),_:1})]),_:1}),e(W,null,{default:l(()=>[e(L),e(u,null,{default:l(({isHovering:a,props:r})=>[e(v,c({onClick:$},r,{color:a?"accent":"primary"}),{default:l(()=>[y("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(u,null,{default:l(({isHovering:a,props:r})=>[e(J,c({onClick:vl},r,{color:a?"accent":"primary"}),{default:l(()=>[y("Löschen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(n,{cols:"12"},{default:l(()=>[e(Q,{modelValue:he.value,"onUpdate:modelValue":t[34]||(t[34]=a=>he.value=a),width:"40vw"},{default:l(()=>[e(G,{height:"80vh"},{default:l(()=>[e(pe,null,{default:l(()=>[ra]),_:1}),e(H,null,{default:l(()=>[e(z,null,{default:l(()=>[e(h,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[e(x,{modelValue:oe.value,"onUpdate:modelValue":t[33]||(t[33]=a=>oe.value=a),items:V.usersEmails,label:"Benutzer",multiple:"",disabled:f.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),e(W,null,{default:l(()=>[e(L),e(u,null,{default:l(({isHovering:a,props:r})=>[e(J,c({href:`mailto:?bcc=${oe.value.join(",")}`},r,{color:a?"accent":"primary",disabled:!oe.value.length}),{default:l(()=>[y(" Öffnen Sie den Mail-Client ")]),_:2},1040,["href","color","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["errors"])],64)}}};export{va as default};
