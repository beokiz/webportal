import{k as h,o as n,f as t,F as l,g as u,b as s,t as o,q as v,y as N,z as V,h as $}from"./app-91571601.js";const A={key:0},B={class:"subdomains-list-head"},F={class:"radio-wrap radio-head"},z={class:"radio-wrap radio-content"},C=["for"],M=["id","onUpdate:modelValue","name","value","disabled"],E={key:1,class:"tw-text-center w-100"},L=s("h3",null," Keine Meilensteine in diesem Altersbereich ",-1),R=[L],j={__name:"EvaluationDomainsList",props:{domains:Array,ratings:Array,age:Number,errors:{type:Object,default:{}},disabled:{type:Boolean,default:!1}},setup(a,{emit:g}){const c=a,k=h(()=>c.age),m=h(()=>{if(k.value){let r=c.domains.map(d=>({...d,subdomains:d.subdomains.map(i=>({...i,milestones:i.milestones.filter(y=>parseFloat(y.age)===parseFloat(k.value))})).filter(i=>i.milestones.length>0)})).filter(d=>d.subdomains.length>0);return g("updateDomainsData",r),r}else return c.domains}),b=h(()=>{let r={};return c.ratings.map(function(d){return r[`domain_${d.domain}`]=d.color??null,d}),r}),p=h(()=>m.value.length>0),w=r=>{g("updateDomainsData",m),g("updateRatingData",r)};return(r,d)=>p.value?(n(),t("div",A,[(n(!0),t(l,null,u(m.value,(i,y)=>(n(),t("div",{class:"domains-list-container",key:i.id},[i.subdomains&&i.subdomains.length>0?(n(),t(l,{key:0},[s("h3",{class:v({green:b.value[`domain_${i.id}`]==="green",yellow:b.value[`domain_${i.id}`]==="yellow",red:b.value[`domain_${i.id}`]==="red"})},o(i.name),3),(n(!0),t(l,null,u(i.subdomains,x=>(n(),t("div",{class:"subdomains-list-container",key:x.id},[s("div",B,[s("h4",null,o(x.name),1),(n(),t(l,null,u(["Noch Nicht","Ansatzweise","Weitgehend","Zuverlassig"],e=>s("div",F,[s("span",null,o(e),1)])),64))]),(n(!0),t(l,null,u(x.milestones,e=>(n(),t("div",{class:"milestone-list-container",key:e.id},[a.ratings[e.domain_index]&&a.ratings[e.domain_index].milestones[e.index]?(n(),t(l,{key:0},[s("h5",{class:v({error:a.errors[`ratings.${e.domain_index}.milestones.${e.index}.value`]})},o(e.abbreviation),3),s("div",{class:v(["milestone-list-text",{error:a.errors[`ratings.${e.domain_index}.milestones.${e.index}.value`]}])},[s("span",null,o(e.title),1),s("p",null,o(e.text),1)],2),s("fieldset",{class:v({error:!a.disabled&&a.errors[`ratings.${e.domain_index}.milestones.${e.index}.value`]})},[(n(),t(l,null,u([1,2,3,4],(_,f)=>s("div",z,[s("label",{for:a.disabled?e.id+"-check-radio-disabled":e.id+"-check-radio"+f},[N(s("input",{type:"radio",id:a.disabled?e.id+"-check-radio-disabled":e.id+"-check-radio"+f,"onUpdate:modelValue":D=>a.ratings[e.domain_index].milestones[e.index].value=D,name:a.disabled?e.id+"-check-radio-disabled":e.id+"-check-radio",value:_,disabled:a.disabled,onInput:d[0]||(d[0]=D=>w(a.ratings))},null,40,M),[[V,a.ratings[e.domain_index].milestones[e.index].value]])],8,C)])),64))],2)],64)):$("",!0)]))),128))]))),128))],64)):$("",!0)]))),128))])):(n(),t("div",E,R))}};export{j as _};
