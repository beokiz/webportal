import{d as je}from"./index-6a80f4b7.js";import{K as Ge,k as c,h as $,m as p,A as H,T as xe,r as g,n as Oe,f as C,a as e,u as s,w as l,F as Ke,o as b,Z as We,b as d,p as w,d as y,c as R,g as x,t as E,q as Le,i as He,O as Me}from"./app-2cbbc384.js";import{_ as Ze}from"./AuthenticatedLayout-51fcc5c7.js";import{W as se}from"./WarningEvaluationTooltip-0e710be6.js";import"./ApplicationLogo-3ca3eb93.js";const Qe=d("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Jährliche Rückmeldung",-1),Xe={class:"tw-flex tw-items-center tw-justify-end"},el=d("span",{class:"tw-text-h5"},"Jährliche Rückmeldung erstellen",-1),ll=d("h3",null,"Rückmeldung betrifft",-1),al=d("h3",null,"Angaben zur Rückmeldung",-1),tl=d("h5",null,"Kinder bis 2,5 Jahre",-1),rl=d("h5",null,"Kinder bis 4,5 Jahre",-1),nl=d("h4",null,"Wir haben eine Abweichung zwischen der Anzahl der von Ihnen gemeldeten Kinder und der Anzahl über die BeoKiz-Ampel erfassten Kindern festgestellt:",-1),ol={class:"tw-flex tw-items-center tw-mt-2"},il={style:{"list-style-type":"disc","margin-left":"25px"}},_l={key:0},sl={key:1},ul={key:2},dl={key:3},cl={key:0,class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},ml={class:"tw-bg-white tw-flex tw-justify-between tw-px-6 tw-py-6"},hl={class:"tw-w-full"},vl={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},gl=d("span",null,"Schreibe E-Mail an Auswahl",-1),fl=["data-id","data-order"],pl={align:"center"},bl=d("span",null,"Jährliche Rückmeldung bearbeiten",-1),wl=d("span",null,"Jährliche Rückmeldung löschen",-1),yl={class:"tw-py-6"},kl={key:0,class:"tw-mb-4"},Vl=d("h3",{class:"tw-mb-4"},"Die Tabelle ist leer. Bitte setzen Sie die Suchfilter zurück.",-1),zl=d("span",{class:"tw-text-h5"},"Schreibe E-Mail an Auswahl",-1),Al={__name:"YearlyEvaluations",props:{items:Array,currentPage:Number,perPage:Number,lastPage:Number,total:Number,paging:Boolean,orderBy:String,sort:String,filters:Object,errors:Object,kitas:Array,surveyTimePeriods:Array,usersEmails:Array},setup(M){var we,ye,ke,Ve,ze;const o=M;je.Inertia.on("success",n=>{let a=n.detail.page.props;n.detail.page.component==="YearlyEvaluations/YearlyEvaluations"&&a&&(Z.value=a.currentPage,j.value=a.perPage,Se.value=a.orderBy,Ue.value=a.sort,de.value=a.total,Pe.value=a.lastPage)}),Ge().props.auth.user;const Z=c(o.currentPage),j=c(o.perPage),Se=c(o.orderBy),Ue=c(o.sort),de=c(o.total),Pe=c(o.lastPage),S=c(o.filters.year??null),U=c(o.filters.with_kita_names??null),P=c(o.filters.children2_born_per_year??null),A=c(o.filters.children4_born_per_year??null),I=c(o.filters.evaluations_with_daz2_total_per_year??null),J=c(o.filters.evaluations_with_daz4_total_per_year??null),ce=c(""),h=c(o.errors||{}),G=c([]),F=c(!1),Q=c(!1),T=c(!1),X=c(!1),ee=c(!1),me=c(null),le=c(!1),he=c(!1),ue=c(!1),Ae=[{title:"Jahr",key:"year",width:"7%",sortable:!1},{title:"Kitas",key:"kita_name",width:"11%",sortable:!1},{title:"Gemeldete Kinder bis 2.5 Jahre",key:"children_2_born_per_year",width:"18%",sortable:!1},{title:"Gemeldete Kinder bis 4.5 Jahre",key:"children_4_born_per_year",width:"18%",sortable:!1},{title:"Evaluationen für Kinder bis 2.5 Jahre",key:"evaluations_with_daz_2_total_per_year",width:"18%",sortable:!1},{title:"Evaluationen für Kinder bis 4.5 Jahre",key:"evaluations_with_daz_4_total_per_year",width:"18%",sortable:!1},{title:"Aktion",key:"actions",width:"10%",sortable:!1,align:"center"}],Ie=$(()=>o.items.map(n=>{const a={...n};for(const m in a)(a[m]===null||a[m]===void 0)&&(a[m]="-");return a})),ve=$(()=>S.value===null&&U.value===null&&P.value===null&&A.value===null&&I.value===null&&J.value===null),Je=$(()=>S.value!==null||U.value!==null||P.value!==null||A.value!==null||I.value!==null||J.value!==null),Ce=$(()=>be("2.5")),Fe=$(()=>be("4.5")),O=$(()=>o.kitas.find(a=>t.kita_id===parseInt(a.id)));p(Q,n=>{n||D()}),p(S,H.debounce(n=>{Y()},500)),p(U,n=>{Y()}),p(P,H.debounce(n=>{Y()},500)),p(A,H.debounce(n=>{Y()},500)),p(I,H.debounce(n=>{Y()},500)),p(J,H.debounce(n=>{Y()},500)),p(T,n=>{ue.value=!0});const De=()=>{ee.value=!0,G.value=o.usersEmails.map(n=>n.value)},Y=()=>{F.value=!0,ce.value=String(Date.now())},ge=async({page:n,itemsPerPage:a,sortBy:m,clearFilters:i})=>{if(i&&(S.value=null,U.value=null,P.value=null,A.value=null,I.value=null,J.value=null),n===Z.value&&i||ve||Je){F.value=!0;let u={page:n,per_page:a};m&&m.length>0?(u.order_by=m[0].key,u.sort=m[0].order):(u.order_by=null,u.sort=null),S.value&&(u.year=S.value),U.value&&(u.with_kita_names=U.value),P.value&&(u.children_2_born_per_year=P.value),A.value&&(u.children_4_born_per_year=A.value),I.value&&(u.evaluations_with_daz_2_total_per_year=I.value),J.value&&(u.evaluations_with_daz_4_total_per_year=J.value),await Me.get(route(route().current()),u,{preserveScroll:!0,preserveState:!0,onCancelToken:V=>{},onCancel:()=>{},onBefore:V=>{F.value=!0},onStart:V=>{},onProgress:V=>{},onSuccess:V=>{Z.value=u.page,j.value=u.per_page},onError:V=>{console.log(V)},onFinish:V=>{F.value=!1}})}},Be=n=>{me.value=n.year,W.id=n.id,X.value=!0},W=xe({id:null}),Te=async()=>{W.processing=!0;let n={onSuccess:a=>{D()},onError:a=>{D(),h.value=a},onFinish:()=>{W.processing=!1}};W.delete(route("yearly_evaluations.destroy",{id:W.id}),n)},fe=()=>{T.value=!1},D=()=>{Q.value=!1,T.value=!1,X.value=!1,ee.value=!1,le.value=!1,ue.value=!1,t.reset(),t.clearErrors(),h.value={}},Ye=()=>{t.reset(),t.clearErrors()},t=xe({year:new Date().getFullYear().toString().padStart(4,"0"),kita_id:(o==null?void 0:o.kitas.length)>0?(we=o==null?void 0:o.kitas[0])==null?void 0:we.id:null,evaluations_with_daz_2_total_per_year:(o==null?void 0:o.kitas.length)>0?(ye=o==null?void 0:o.kitas[0])==null?void 0:ye.evaluations_with_daz2_total_per_year_count:0,evaluations_with_daz_4_total_per_year:(o==null?void 0:o.kitas.length)>0?(ke=o==null?void 0:o.kitas[0])==null?void 0:ke.evaluations_with_daz4_total_per_year_count:0,evaluations_without_daz_2_total_per_year:(o==null?void 0:o.kitas.length)>0?(Ve=o==null?void 0:o.kitas[0])==null?void 0:Ve.evaluations_without_daz2_total_per_year_count:0,evaluations_without_daz_4_total_per_year:(o==null?void 0:o.kitas.length)>0?(ze=o==null?void 0:o.kitas[0])==null?void 0:ze.evaluations_without_daz4_total_per_year_count:0,children_2_born_per_year:null,children_4_born_per_year:null,children_2_with_german_lang:null,children_4_with_german_lang:null,children_2_with_foreign_lang:null,children_4_with_foreign_lang:null});p(()=>t.kita_id,(n,a)=>{O.value&&(t.evaluations_with_daz_2_total_per_year=O.value.evaluations_with_daz2_total_per_year_count,t.evaluations_with_daz_4_total_per_year=O.value.evaluations_with_daz4_total_per_year_count,t.evaluations_without_daz_2_total_per_year=O.value.evaluations_without_daz2_total_per_year_count,t.evaluations_without_daz_4_total_per_year=O.value.evaluations_without_daz4_total_per_year_count)}),p(()=>t.children_2_born_per_year,()=>{q("2.5")}),p(()=>t.children_2_with_german_lang,()=>{q("2.5")}),p(()=>t.children_2_with_foreign_lang,(n,a)=>{q("2.5")}),p(()=>t.children_4_born_per_year,(n,a)=>{q("4.5")}),p(()=>t.children_4_with_german_lang,(n,a)=>{q("4.5")}),p(()=>t.children_4_with_foreign_lang,(n,a)=>{q("4.5")});const qe=async()=>{t.processing=!0,t.post(route("yearly_evaluations.store"),{preserveState:!0,onSuccess:n=>{D()},onError:n=>{h.value=n},onFinish:()=>{fe(),t.processing=!1}})},k=n=>{if(n==="2_german")return parseInt(t.evaluations_with_daz_2_total_per_year)!==parseInt(t.children_2_with_german_lang??0);if(n==="2_foreign")return parseInt(t.evaluations_without_daz_2_total_per_year)!==parseInt(t.children_2_with_foreign_lang??0);if(n==="4_german")return parseInt(t.evaluations_with_daz_4_total_per_year)!==parseInt(t.children_4_with_german_lang??0);if(n==="4_foreign")return parseInt(t.evaluations_without_daz_4_total_per_year)!==parseInt(t.children_4_with_foreign_lang??0)},pe=async()=>{(k("2_german")||k("2_foreign")||k("4_german")||k("4_foreign"))&&!ue.value?T.value=!0:await qe()},be=n=>{if(n==="2.5"||n==="4.5"){const a=parseInt(t.year);let m,i;return n==="4.5"?(m=a-6,i=a-5):(m=a-4,i=a-3),`Gesamtzahl der im Zeitraum vom 01.10.${m} bis 30.09.${i} geborenen Kinder`}return"Gesamtzahl der Kinder"},q=n=>{if(n==="2.5"||n==="4.5"){let a=!1,m=!1;t.children_2_with_german_lang!==null&&t.children_2_with_german_lang!==void 0&&t.children_2_with_foreign_lang!==null&&t.children_2_with_foreign_lang!==void 0&&(parseInt(t.children_2_with_german_lang)+parseInt(t.children_2_with_foreign_lang)!==parseInt(t.children_2_born_per_year)?(h.value.children_2_born_per_year='Die ausgewählte "Anzahl der im ausgewählten Jahr geborenen Kinder" ist ungültig.',a=!1):(delete h.value.children_2_born_per_year,a=!0)),t.children_4_with_german_lang!==null&&t.children_4_with_german_lang!==void 0&&t.children_4_with_foreign_lang!==null&&t.children_4_with_foreign_lang!==void 0&&(parseInt(t.children_4_with_german_lang)+parseInt(t.children_4_with_foreign_lang)!==parseInt(t.children_4_born_per_year)?(h.value.children_4_born_per_year='Die ausgewählte "Anzahl der im ausgewählten Jahr geborenen Kinder" ist ungültig.',m=!1):(delete h.value.children_4_born_per_year,m=!0)),he.value=a&&m}},ae=(n,a,m)=>`Die Anzahl der Kinder im Alter bis ${n} Jahre welche Deutsch als Fremdsprache haben Sie mit ${a} angegeben, die Anzahl der  über die BeoKiz-Ampel erfassten Kindern beträgt ${m}`;return(n,a)=>{const m=g("v-card-title"),i=g("v-col"),u=g("v-text-field"),V=g("v-select"),f=g("v-row"),N=g("v-card"),te=g("v-container"),re=g("v-card-text"),L=g("v-btn-primary"),z=g("v-hover"),ne=g("v-spacer"),B=g("v-btn"),oe=g("v-card-actions"),ie=g("v-dialog"),_e=g("v-icon"),Ne=g("v-checkbox"),Ee=g("v-tooltip"),$e=g("v-data-table-server"),Re=Oe("sortable-data-table");return b(),C(Ke,null,[e(s(We),{title:"Jährliche Rückmeldung"}),e(Ze,{errors:h.value},{header:l(()=>[Qe,d("div",Xe,[e(z,null,{default:l(({isHovering:r,props:v})=>[e(B,w(v,{color:r?"accent":"primary",dark:""}),{default:l(()=>[y(" ANLEGEN "),e(ie,{modelValue:Q.value,"onUpdate:modelValue":a[12]||(a[12]=_=>Q.value=_),activator:"parent",width:"80vw"},{default:l(()=>[e(N,{height:"80vh"},{default:l(()=>[e(m,null,{default:l(()=>[el]),_:1}),e(re,null,{default:l(()=>[e(te,null,{default:l(()=>[e(f,null,{default:l(()=>[e(i,{cols:"12",sm:"12"},{default:l(()=>[ll]),_:1}),e(i,{cols:"12",sm:"4"},{default:l(()=>[e(u,{modelValue:s(t).year,"onUpdate:modelValue":a[0]||(a[0]=_=>s(t).year=_),"error-messages":h.value.year,disabled:"",label:"Jahr der Rückmeldung*",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",sm:"4"},{default:l(()=>[e(V,{modelValue:s(t).kita_id,"onUpdate:modelValue":a[1]||(a[1]=_=>s(t).kita_id=_),items:M.kitas,"error-messages":h.value.kita_id,"item-title":"name","item-value":"id",label:"Kita*"},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1}),e(f,null,{default:l(()=>[e(i,{cols:"12",sm:"12"},{default:l(()=>[al]),_:1}),e(i,{cols:"12",sm:"6"},{default:l(()=>[e(N,{class:"tw-p-6"},{default:l(()=>[tl,e(u,{modelValue:s(t).children_2_born_per_year,"onUpdate:modelValue":a[2]||(a[2]=_=>s(t).children_2_born_per_year=_),"error-messages":h.value.children_2_born_per_year,label:Ce.value,type:"number",required:""},null,8,["modelValue","error-messages","label"]),e(f,null,{default:l(()=>[e(i,{cols:"12",sm:"7"},{default:l(()=>[e(u,{modelValue:s(t).children_2_with_german_lang,"onUpdate:modelValue":a[3]||(a[3]=_=>s(t).children_2_with_german_lang=_),"error-messages":h.value.children_2_with_german_lang,label:"Kinder mit deutscher Herkunftssprache*",type:"number",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",sm:"5"},{default:l(()=>[e(f,null,{default:l(()=>[k("2_german")?(b(),R(se,{key:0})):x("",!0),e(i,{cols:"12",sm:"10"},{default:l(()=>[e(u,{modelValue:s(t).evaluations_with_daz_2_total_per_year,"onUpdate:modelValue":a[4]||(a[4]=_=>s(t).evaluations_with_daz_2_total_per_year=_),"error-messages":h.value.evaluations_with_daz_2_total_per_year,label:"Bisher eingereichte Einschätzungen",type:"number",disabled:"",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(f,null,{default:l(()=>[e(i,{cols:"12",sm:"7"},{default:l(()=>[e(u,{modelValue:s(t).children_2_with_foreign_lang,"onUpdate:modelValue":a[5]||(a[5]=_=>s(t).children_2_with_foreign_lang=_),"error-messages":h.value.children_2_with_foreign_lang,label:"Kinder mit nicht deutscher Herkunftssprache*",type:"number",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",sm:"5"},{default:l(()=>[e(f,null,{default:l(()=>[k("2_foreign")?(b(),R(se,{key:0})):x("",!0),e(i,{cols:"12",sm:"10"},{default:l(()=>[e(u,{modelValue:s(t).evaluations_without_daz_2_total_per_year,"onUpdate:modelValue":a[6]||(a[6]=_=>s(t).evaluations_without_daz_2_total_per_year=_),"error-messages":h.value.evaluations_without_daz_2_total_per_year,label:"Bisher eingereichte Einschätzungen",type:"number",disabled:"",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{cols:"12",sm:"6"},{default:l(()=>[e(N,{class:"tw-p-6"},{default:l(()=>[rl,e(u,{modelValue:s(t).children_4_born_per_year,"onUpdate:modelValue":a[7]||(a[7]=_=>s(t).children_4_born_per_year=_),"error-messages":h.value.children_4_born_per_year,label:Fe.value,type:"number",required:""},null,8,["modelValue","error-messages","label"]),e(f,null,{default:l(()=>[e(i,{cols:"12",sm:"7"},{default:l(()=>[e(u,{modelValue:s(t).children_4_with_german_lang,"onUpdate:modelValue":a[8]||(a[8]=_=>s(t).children_4_with_german_lang=_),"error-messages":h.value.children_4_with_german_lang,label:"Kinder mit deutscher Herkunftssprache*",type:"number",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",sm:"5"},{default:l(()=>[e(f,null,{default:l(()=>[k("4_german")?(b(),R(se,{key:0})):x("",!0),e(i,{cols:"12",sm:"10"},{default:l(()=>[e(u,{modelValue:s(t).evaluations_with_daz_4_total_per_year,"onUpdate:modelValue":a[9]||(a[9]=_=>s(t).evaluations_with_daz_4_total_per_year=_),"error-messages":h.value.evaluations_with_daz_4_total_per_year,label:"Bisher eingereichte Einschätzungen",type:"number",disabled:"",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(f,null,{default:l(()=>[e(i,{cols:"12",sm:"7"},{default:l(()=>[e(u,{modelValue:s(t).children_4_with_foreign_lang,"onUpdate:modelValue":a[10]||(a[10]=_=>s(t).children_4_with_foreign_lang=_),"error-messages":h.value.children_4_with_foreign_lang,label:"Kinder mit nicht deutscher Herkunftssprache*",type:"number",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",sm:"5"},{default:l(()=>[e(f,null,{default:l(()=>[k("4_foreign")?(b(),R(se,{key:0})):x("",!0),e(i,{cols:"12",sm:"10"},{default:l(()=>[e(u,{modelValue:s(t).evaluations_without_daz_4_total_per_year,"onUpdate:modelValue":a[11]||(a[11]=_=>s(t).evaluations_without_daz_4_total_per_year=_),"error-messages":h.value.evaluations_without_daz_4_total_per_year,label:"Bisher eingereichte Einschätzungen",type:"number",disabled:"",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(oe,null,{default:l(()=>[e(z,null,{default:l(({isHovering:_,props:K})=>[e(L,w({onClick:Ye},K,{color:_?"accent":"primary"}),{default:l(()=>[y("Zurücksetzen")]),_:2},1040,["color"])]),_:2},1024),e(ne),e(z,null,{default:l(({isHovering:_,props:K})=>[e(B,w({onClick:D},K,{color:_?"accent":"primary"}),{default:l(()=>[y("Stornieren")]),_:2},1040,["color"])]),_:2},1024),e(z,null,{default:l(({isHovering:_,props:K})=>[e(L,w({onClick:pe},K,{color:_?"accent":"primary",disabled:!he.value}),{default:l(()=>[y("Speichern")]),_:2},1040,["color","disabled"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1040,["color"])]),_:1})]),e(ie,{modelValue:X.value,"onUpdate:modelValue":a[13]||(a[13]=r=>X.value=r),width:"20vw"},{default:l(()=>[e(N,{height:"30vh"},{default:l(()=>[e(re,null,{default:l(()=>[e(te,null,{default:l(()=>[e(f,null,{default:l(()=>[e(i,{cols:"12"},{default:l(()=>[d("p",null,"Sind Sie sicher, dass Sie die Jährliche Rückmeldung "+E(me.value)+" löschen möchten?",1)]),_:1})]),_:1})]),_:1})]),_:1}),e(oe,null,{default:l(()=>[e(ne),e(z,null,{default:l(({isHovering:r,props:v})=>[e(B,w({onClick:D},v,{color:r?"accent":"primary"}),{default:l(()=>[y("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(z,null,{default:l(({isHovering:r,props:v})=>[e(L,w({onClick:Te},v,{color:r?"accent":"primary"}),{default:l(()=>[y("Löschen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ie,{modelValue:T.value,"onUpdate:modelValue":a[15]||(a[15]=r=>T.value=r),width:"80vw"},{default:l(()=>[e(N,{height:"50vh"},{default:l(()=>[e(re,null,{default:l(()=>[e(te,null,{default:l(()=>[e(f,null,{default:l(()=>[e(i,{cols:"12"},{default:l(()=>[nl,d("div",ol,[e(_e,w(o,{icon:"mdi-alert",color:"orange"}),null,16),d("ul",il,[k("2_german")?(b(),C("li",_l,E(ae("2,5",s(t).children_2_with_german_lang,s(t).evaluations_with_daz_2_total_per_year)),1)):x("",!0),k("2_foreign")?(b(),C("li",sl,E(ae("2,5",s(t).children_2_with_foreign_lang,s(t).evaluations_without_daz_2_total_per_year)),1)):x("",!0),k("4_german")?(b(),C("li",ul,E(ae("4,5",s(t).children_4_with_german_lang,s(t).evaluations_with_daz_4_total_per_year)),1)):x("",!0),k("4_foreign")?(b(),C("li",dl,E(ae("4,5",s(t).children_4_with_foreign_lang,s(t).evaluations_without_daz_4_total_per_year)),1)):x("",!0)])]),e(Ne,{modelValue:le.value,"onUpdate:modelValue":a[14]||(a[14]=r=>le.value=r),label:"Ich habe verstanden, dass es Unstimmigkeiten bei dem Abgelich der gemelden Zahlen gibt, Statusmeldung dennoch absenden."},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(oe,null,{default:l(()=>[e(ne),e(z,null,{default:l(({isHovering:r,props:v})=>[e(B,{onClick:fe,color:r?"accent":"primary"},{default:l(()=>[y("Abbrechen")]),_:2},1032,["color"])]),_:1}),e(z,null,{default:l(({isHovering:r,props:v})=>[e(L,w({disabled:!le.value,onClick:pe},v,{color:r?"accent":"primary"}),{default:l(()=>[y("Speichern")]),_:2},1040,["disabled","color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),default:l(()=>[n.$page.props.auth.user.is_super_admin?(b(),C("div",cl,[d("div",ml,[d("div",hl,[e(f,null,{default:l(()=>[e(i,{cols:"12",sm:"6"},{default:l(()=>[e(u,{type:"number",modelValue:S.value,"onUpdate:modelValue":a[16]||(a[16]=r=>S.value=r),label:"Jahr",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",sm:"6"},{default:l(()=>[e(V,{modelValue:U.value,"onUpdate:modelValue":a[17]||(a[17]=r=>U.value=r),items:M.kitas,"item-title":"name","item-value":"name",label:"Kitas",multiple:"",disabled:F.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1}),e(f,null,{default:l(()=>[e(i,{cols:"12",sm:"6"},{default:l(()=>[e(u,{type:"number",modelValue:P.value,"onUpdate:modelValue":a[18]||(a[18]=r=>P.value=r),label:"Gemeldete Kinder bis 2.5 Jahre",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",sm:"6"},{default:l(()=>[e(u,{type:"number",modelValue:A.value,"onUpdate:modelValue":a[19]||(a[19]=r=>A.value=r),label:"Gemeldete Kinder bis 4.5 Jahre",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(f,null,{default:l(()=>[e(i,{cols:"12",sm:"6"},{default:l(()=>[e(u,{type:"number",modelValue:I.value,"onUpdate:modelValue":a[20]||(a[20]=r=>I.value=r),label:"Evaluationen für Kinder bis 4.5 Jahre",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",sm:"6"},{default:l(()=>[e(u,{type:"number",modelValue:J.value,"onUpdate:modelValue":a[21]||(a[21]=r=>J.value=r),label:"Evaluationen für Kinder bis 4.5 Jahre",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})])])])):x("",!0),d("div",vl,[n.$page.props.auth.user.is_super_admin?(b(),R(f,{key:0,class:"flex justify-end mb-4"},{default:l(()=>[e(z,null,{default:l(({isHovering:r,props:v})=>[e(i,{cols:"12",sm:"4",class:"text-right"},{default:l(()=>[e(B,w(v,{color:r?"accent":"primary",dark:"",onClick:De}),{default:l(()=>[e(_e,w(v,{size:"small",class:"tw-me-2"}),{default:l(()=>[y("mdi-email")]),_:2},1040),gl]),_:2},1040,["color"])]),_:2},1024)]),_:1})]),_:1})):x("",!0),Le((b(),R($e,{"items-per-page":j.value,"onUpdate:itemsPerPage":a[23]||(a[23]=r=>j.value=r),"items-per-page-options":[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],"items-per-page-text":"Objekte pro Seite:",headers:Ae,page:Z.value,"items-length":de.value,items:Ie.value,search:ce.value,loading:F.value,class:"data-table-container elevation-1","item-value":"name","onUpdate:options":ge},{item:l(({item:r})=>{var v,_;return[d("tr",{"data-id":r.selectable.id,"data-order":r.selectable.order},[d("td",null,E(r.selectable.year),1),d("td",null,E((_=(v=r.selectable)==null?void 0:v.kita)==null?void 0:_.formatted_name),1),d("td",null,E(r.selectable.children_2_born_per_year),1),d("td",null,E(r.selectable.children_4_born_per_year),1),d("td",null,E(r.selectable.evaluations_with_daz_2_total_per_year+r.selectable.evaluations_without_daz_2_total_per_year),1),d("td",null,E(r.selectable.evaluations_with_daz_4_total_per_year+r.selectable.evaluations_without_daz_4_total_per_year),1),d("td",pl,[e(Ee,{location:"top"},{activator:l(({props:K})=>[e(s(He),{href:n.route("yearly_evaluations.show",{id:r.selectable.id})},{default:l(()=>[e(_e,w(K,{size:"small",class:"tw-me-2"}),{default:l(()=>[y("mdi-pencil")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[bl]),_:2},1024),e(Ee,{location:"top"},{activator:l(({props:K})=>[e(_e,w(K,{size:"small",class:"tw-me-2",onClick:El=>Be(r.raw)}),{default:l(()=>[y("mdi-delete")]),_:2},1040,["onClick"])]),default:l(()=>[wl]),_:2},1024)])],8,fl)]}),"no-data":l(()=>[d("div",yl,[ve.value?(b(),C("h3",kl,"Die Tabelle ist leer.")):(b(),C(Ke,{key:1},[Vl,e(B,{color:"primary",onClick:a[22]||(a[22]=r=>ge({page:1,itemsPerPage:j.value,clearFilters:!0}))},{default:l(()=>[y("Reset")]),_:1})],64))])]),_:1},8,["items-per-page","items-per-page-options","page","items-length","items","search","loading"])),[[Re]])]),e(ie,{modelValue:ee.value,"onUpdate:modelValue":a[25]||(a[25]=r=>ee.value=r),width:"40vw"},{default:l(()=>[e(N,{height:"80vh"},{default:l(()=>[e(m,null,{default:l(()=>[zl]),_:1}),e(re,null,{default:l(()=>[e(te,null,{default:l(()=>[e(f,null,{default:l(()=>[e(i,{cols:"12"},{default:l(()=>[e(V,{modelValue:G.value,"onUpdate:modelValue":a[24]||(a[24]=r=>G.value=r),items:M.usersEmails,label:"Benutzer",multiple:"",disabled:F.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),e(oe,null,{default:l(()=>[e(z,null,{default:l(({isHovering:r,props:v})=>[e(B,w({onClick:D},v,{color:r?"accent":"primary"}),{default:l(()=>[y(" Abbrechen ")]),_:2},1040,["color"])]),_:1}),e(ne),e(z,null,{default:l(({isHovering:r,props:v})=>[e(L,w({href:`mailto:?bcc=${G.value.join(",")}`},v,{color:r?"accent":"primary",disabled:!G.value.length}),{default:l(()=>[y(" Öffnen Sie den Mail-Client ")]),_:2},1040,["href","color","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["errors"])],64)}}};export{Al as default};
