import{d as Le}from"./index-4d781e82.js";import{K as Ge,k as p,m as T,T as X,h as se,A as re,r as b,n as He,f as Se,a as e,u as s,w as l,F as Ce,o as $,Z as Je,b as i,t as D,p as g,d as h,i as Fe,c as Y,g as ee,q as We,y as Qe,O as Xe}from"./app-c71da716.js";import{_ as Ye}from"./AuthenticatedLayout-28aa5162.js";import"./ApplicationLogo-cf5e2ec7.js";const el={class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},ll={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},al=i("h3",null,"Eigenschaften",-1),tl=i("h4",null,"Adresse",-1),ol=i("h4",null,"Eigenschaften",-1),sl=i("h3",null,"Zugeordnete Benutzer",-1),rl={class:"tw-flex tw-items-center tw-justify-end"},ul=i("span",{class:"tw-text-h5"},"Verbinden Benutzer",-1),nl=i("p",null,"Wählen Sie die Benutzer aus, die Sie diesem Einrichtung hinzufügen möchten",-1),il=i("span",{class:"tw-text-h5"},"Neue Benutzer",-1),dl={class:"tw-bg-white tw-flex tw-justify-between tw-px-6 tw-py-6"},ml={class:"tw-w-full"},cl=i("span",null,"Schreibe E-Mail an Auswahl",-1),_l=["data-id","data-order"],fl={align:"center"},pl={align:"right"},vl=["href"],gl=i("span",null,"Schreibe E-Mail",-1),bl=i("span",null,"Benutzer bearbeiten",-1),hl=i("span",null,"Benutzer löschen",-1),Vl=i("div",{class:"tw-py-6"},[i("h3",{class:"tw-mb-4"},"Die Tabelle ist leer.")],-1),yl=i("span",{class:"tw-text-h5"},"Schreibe E-Mail an Auswahl",-1),Sl={__name:"ManageKita",props:{kita:Object,kitaUsers:Array,errors:Object,roles:Array,types:Array,operators:Array,users:Array,currentPage:Number,perPage:Number,lastPage:Number,total:Number,paging:Boolean,orderBy:String,sort:String,filters:Object,usersEmails:Array},setup(U){var de,me,ce,_e,fe,pe,ve,ge,be,he,Ve;const V=U;Le.Inertia.on("success",r=>{let a=r.detail.page.props;r.detail.page.component==="Kitas/Partials/ManageKita"&&a&&(y.value=a.kita)}),Ge().props.auth.user;const y=p(V.kita),c=p(V.errors||{}),z=p(!1),ue=p(null),j=p(!1),le=p(!1),I=p(!1);T(j,r=>{r||S()});const S=()=>{j.value=!1,le.value=!1,I.value=!1,L.value=!1,v.reset(),v.clearErrors(),E.reset(),E.clearErrors(),c.value={}},ae=()=>{v.reset(),v.clearErrors(),E.reset(),E.clearErrors(),u.reset(),u.clearErrors(),u.zip_code=null,u.name=null,u.number=null,u.provider_of_the_kita=null,u.street=null,u.house_number=null,u.additional_info=null,u.city=null},xe=r=>{ue.value=r.full_name,R.user=r.id,I.value=!0},R=X({user:null}),Ne=async()=>{R.processing=!0;let r={onSuccess:a=>{S()},onError:a=>{c.value=a},onFinish:()=>{R.processing=!1}};R.post(route("kitas.disconnect_user",{id:V.kita.id}),r)},u=X({id:y.value.id,name:(de=y.value)==null?void 0:de.name,number:(me=y.value)==null?void 0:me.number,street:(ce=y.value)==null?void 0:ce.street,house_number:(_e=y.value)==null?void 0:_e.house_number,additional_info:(fe=y.value)==null?void 0:fe.additional_info,zip_code:(pe=y.value)==null?void 0:pe.zip_code,operator_id:(ve=y.value)==null?void 0:ve.operator_id,city:(ge=y.value)==null?void 0:ge.city,num_pedagogical_staff:(be=y.value)==null?void 0:be.num_pedagogical_staff,approved:(he=y.value)==null?void 0:he.approved,type:(Ve=y.value)==null?void 0:Ve.type}),Be=async()=>{u.processing=!0;let r={preserveState:!1,onSuccess:a=>{S()},onError:a=>{c.value=a},onFinish:()=>{u.processing=!1}};u.put(route("kitas.update",{kita:u.id}),r)},v=X({first_name:null,last_name:null,email:null,role:null,two_factor_auth_enabled:!1,phone_number:null,kitas:[y.value.id]}),qe=async()=>{v.processing=!0,v.post(route("users.store_from_kita"),{onSuccess:r=>{S()},onError:r=>{c.value=r},onFinish:()=>{v.processing=!1}})},E=X({users:null,kitas:[y.value.id]}),Ke=async()=>{E.processing=!0,E.post(route("kitas.connect_users",{kita:v.kitas}),{onSuccess:r=>{S()},onError:r=>{c.value=r},onFinish:()=>{E.processing=!1}})},Ae=[{title:"Status",key:"is_online",width:"5%",sortable:!1,align:"center"},{title:"Vorname",key:"first_name",width:"17.5%",sortable:!0},{title:"Nachname",key:"last_name",width:"17.5%",sortable:!0},{title:"E-Mail",key:"email",width:"25%",sortable:!0},{title:"Rolle",key:"primary_role_name",width:"20%",sortable:!0},{title:"Aktion",key:"actions",width:"15%",sortable:!1,align:"center"}],Pe=[{title:"Ja",value:"true"},{title:"Nein",value:"false"}],ne=p(V.currentPage),Te=p(V.perPage);p(V.orderBy),p(V.sort),p(V.total),p(V.lastPage);const C=p(V.filters.status??null),F=p(V.filters.first_name??null),x=p(V.filters.last_name??null),N=p(V.filters.email??null),B=p(V.filters.roles??null),ie=p(""),Z=p([]),L=p(!1),$e=se(()=>V.kitaUsers.map(r=>{const a={...r};for(const o in a)(a[o]===null||a[o]===void 0)&&(a[o]="-");return a})),De=se(()=>C.value===null&&F.value===null&&x.value===null&&N.value===null&&B.value===null),Ze=se(()=>C.value!==null||F.value!==null||x.value!==null||N.value!==null||B.value!==null);T(C,r=>{M()}),T(F,re.debounce(r=>{M()},500)),T(x,re.debounce(r=>{M()},500)),T(N,re.debounce(r=>{M()},500)),T(B,r=>{M()});const M=()=>{z.value=!0,ie.value=String(Date.now())},Me=()=>{L.value=!0,Z.value=V.usersEmails.map(r=>r.value)},Oe=async({page:r,itemsPerPage:a,sortBy:o,clearFilters:d})=>{if(d&&(C.value=null,F.value=null,x.value=null,N.value=null,B.value=null),r===ne.value&&d||De||Ze){z.value=!0;let _={page:r,per_page:a};o&&o.length>0?(_.order_by=o[0].key,_.sort=o[0].order):(_.order_by=null,_.sort=null),C.value&&(_.status=C.value),F.value&&(_.first_name=F.value),x.value&&(_.last_name=x.value),N.value&&(_.email=N.value),B.value&&(_.with_roles=B.value),await Xe.get(route(route().current(),{kita:u.id}),_,{preserveScroll:!0,preserveState:!0,onCancelToken:m=>{},onCancel:()=>{},onBefore:m=>{z.value=!0},onStart:m=>{},onProgress:m=>{},onSuccess:m=>{ne.value=_.page,Te.value=_.per_page},onError:m=>{console.log(m)},onFinish:m=>{z.value=!1}})}};return(r,a)=>{const o=b("v-col"),d=b("v-row"),_=b("v-container"),m=b("v-text-field"),A=b("v-select"),ye=b("v-checkbox"),q=b("v-btn"),w=b("v-hover"),K=b("v-btn-primary"),te=b("v-card-title"),je=b("v-autocomplete"),G=b("v-card-text"),H=b("v-spacer"),J=b("v-card-actions"),W=b("v-card"),Q=b("v-dialog"),O=b("v-icon"),oe=b("v-tooltip"),Ie=b("v-data-table-server"),Re=He("sortable-data-table");return $(),Se(Ce,null,[e(s(Je),{title:`Verwalte Einrichtung ${U.kita.name}`},null,8,["title"]),e(Ye,{errors:c.value},{header:l(()=>[i("h2",el,"Verwalte Einrichtung "+D(U.kita.name),1)]),default:l(()=>[i("div",ll,[e(_,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[al]),_:1})]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[tl]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(u).name,"onUpdate:modelValue":a[0]||(a[0]=t=>s(u).name=t),"error-messages":c.value.name,label:"Name der Einrichtung / Einrichtung*",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(u).number,"onUpdate:modelValue":a[1]||(a[1]=t=>s(u).number=t),"error-messages":c.value.number,label:"Kita Nummer*",type:"number",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(u).street,"onUpdate:modelValue":a[2]||(a[2]=t=>s(u).street=t),"error-messages":c.value.street,label:"Straße*",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(u).house_number,"onUpdate:modelValue":a[3]||(a[3]=t=>s(u).house_number=t),"error-messages":c.value.house_number,label:"Hausnummer*",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[e(m,{modelValue:s(u).additional_info,"onUpdate:modelValue":a[4]||(a[4]=t=>s(u).additional_info=t),"error-messages":c.value.additional_info,label:"Sonstiges",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(u).zip_code,"onUpdate:modelValue":a[5]||(a[5]=t=>s(u).zip_code=t),"error-messages":c.value.zip_code,label:"Postleitzahl*",type:"number",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(u).city,"onUpdate:modelValue":a[6]||(a[6]=t=>s(u).city=t),"error-messages":c.value.city,label:"Stadt*",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[ol]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(A,{modelValue:s(u).operator_id,"onUpdate:modelValue":a[7]||(a[7]=t=>s(u).operator_id=t),items:U.operators,"error-messages":c.value.operator_id,"item-title":"name","item-value":"id",label:"Träger der Einrichtung*",required:""},null,8,["modelValue","items","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(u).num_pedagogical_staff,"onUpdate:modelValue":a[8]||(a[8]=t=>s(u).num_pedagogical_staff=t),"error-messages":c.value.num_pedagogical_staff,label:"Größe pädagogisches Team",type:"number"},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(ye,{modelValue:s(u).approved,"onUpdate:modelValue":a[9]||(a[9]=t=>s(u).approved=t),label:"Kita zur Ampel zugelassen",value:!0},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(A,{modelValue:s(u).type,"onUpdate:modelValue":a[10]||(a[10]=t=>s(u).type=t),items:U.types,"error-messages":c.value.type,label:"Typ*",required:""},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(w,null,{default:l(({isHovering:t,props:f})=>[e(q,g({onClick:ae},f,{color:t?"primary":"accent"}),{default:l(()=>[h("Zurücksetzen")]),_:2},1040,["color"])]),_:1})]),_:1}),e(o,{cols:"12",sm:"6",align:"right"},{default:l(()=>[e(w,null,{default:l(({isHovering:t,props:f})=>[e(s(Fe),{href:r.route("kitas.index")},{default:l(()=>[e(q,g({class:"mr-2",variant:"text"},f,{color:t?"accent":"primary"}),{default:l(()=>[h("Zurück")]),_:2},1040,["color"])]),_:2},1032,["href"])]),_:1}),e(w,null,{default:l(({isHovering:t,props:f})=>[e(K,g({onClick:Be},f,{color:t?"accent":"primary"}),{default:l(()=>[h("Speichern ")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1}),r.$page.props.auth.user.is_super_admin||r.$page.props.auth.user.is_admin||r.$page.props.auth.user.is_manager?($(),Se(Ce,{key:0},[e(_,null,{default:l(()=>[e(d,{class:"tw-border-t-8 tw-mt-8 tw-pt-8"},{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[sl]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[i("div",rl,[r.$page.props.auth.user.is_super_admin||r.$page.props.auth.user.is_admin?($(),Y(w,{key:0},{default:l(({isHovering:t,props:f})=>[e(q,g(f,{color:t?"accent":"primary",dark:"",class:"mr-2"}),{default:l(()=>[h(" Benutzer verbinden "),e(Q,{modelValue:le.value,"onUpdate:modelValue":a[12]||(a[12]=n=>le.value=n),activator:"parent",width:"80vw"},{default:l(()=>[e(W,{height:"80vh"},{default:l(()=>[e(te,null,{default:l(()=>[ul]),_:1}),e(G,null,{default:l(()=>[e(_,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[nl]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[e(je,{modelValue:s(E).users,"onUpdate:modelValue":a[11]||(a[11]=n=>s(E).users=n),items:U.users,"error-messages":c.value.users,"item-title":"full_name","item-value":"id",label:"User",multiple:"",required:""},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(J,null,{default:l(()=>[e(w,null,{default:l(({isHovering:n,props:k})=>[e(K,g({onClick:ae},k,{color:n?"primary":"accent"}),{default:l(()=>[h("Zurücksetzen")]),_:2},1040,["color"])]),_:2},1024),e(H),e(w,null,{default:l(({isHovering:n,props:k})=>[e(q,g({onClick:S},k,{color:n?"accent":"primary"}),{default:l(()=>[h("Zurück")]),_:2},1040,["color"])]),_:2},1024),e(w,null,{default:l(({isHovering:n,props:k})=>[e(K,g({onClick:Ke},k,{color:n?"accent":"primary"}),{default:l(()=>[h("Speichern")]),_:2},1040,["color"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1040,["color"])]),_:1})):ee("",!0),e(w,null,{default:l(({isHovering:t,props:f})=>[e(q,g(f,{color:t?"accent":"primary",dark:""}),{default:l(()=>[h(" Benutzer hinzufügen "),e(Q,{modelValue:j.value,"onUpdate:modelValue":a[19]||(a[19]=n=>j.value=n),activator:"parent",width:"80vw"},{default:l(()=>[e(W,{height:"80vh"},{default:l(()=>[e(te,null,{default:l(()=>[il]),_:1}),e(G,null,{default:l(()=>[e(_,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(v).first_name,"onUpdate:modelValue":a[13]||(a[13]=n=>s(v).first_name=n),"error-messages":c.value.first_name,label:"Vorname",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(v).last_name,"onUpdate:modelValue":a[14]||(a[14]=n=>s(v).last_name=n),"error-messages":c.value.last_name,label:"Nachname",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(v).email,"onUpdate:modelValue":a[15]||(a[15]=n=>s(v).email=n),"error-messages":c.value.email,label:"Email",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(v).phone_number,"onUpdate:modelValue":a[16]||(a[16]=n=>s(v).phone_number=n),"error-messages":c.value.phone_number,label:"Telefonnummer"},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(A,{modelValue:s(v).role,"onUpdate:modelValue":a[17]||(a[17]=n=>s(v).role=n),items:U.roles,"error-messages":c.value.role,"item-title":"human_name","item-value":"id",label:"Role",required:""},null,8,["modelValue","items","error-messages"])]),_:1}),e(o,{cols:"12",md:"4",sm:"6"},{default:l(()=>[e(ye,{modelValue:s(v).two_factor_auth_enabled,"onUpdate:modelValue":a[18]||(a[18]=n=>s(v).two_factor_auth_enabled=n),label:"Zwei-Faktor-Authentifizierung",value:!0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(J,null,{default:l(()=>[e(w,null,{default:l(({isHovering:n,props:k})=>[e(K,g({onClick:ae},k,{color:n?"primary":"accent"}),{default:l(()=>[h("Zurücksetzen")]),_:2},1040,["color"])]),_:2},1024),e(H),e(w,null,{default:l(({isHovering:n,props:k})=>[e(q,g({onClick:S},k,{color:n?"accent":"primary"}),{default:l(()=>[h("Zurück")]),_:2},1040,["color"])]),_:2},1024),e(w,null,{default:l(({isHovering:n,props:k})=>[e(K,g({onClick:qe},k,{color:n?"accent":"primary"}),{default:l(()=>[h("Speichern")]),_:2},1040,["color"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1040,["color"])]),_:1})])]),_:1})]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(Q,{modelValue:I.value,"onUpdate:modelValue":a[20]||(a[20]=t=>I.value=t),width:"20vw"},{default:l(()=>[e(W,{height:"30vh"},{default:l(()=>[e(G,null,{default:l(()=>[e(_,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[i("p",null,"Sind Sie sicher, dass Sie den Benutzer "+D(ue.value)+" aus Einrichtung Liste löschen möchten? (Der Benutzer wird vom aktuellen Einrichtung getrennt)",1)]),_:1})]),_:1})]),_:1})]),_:1}),e(J,null,{default:l(()=>[e(H),e(w,null,{default:l(({isHovering:t,props:f})=>[e(q,g({onClick:S},f,{color:t?"accent":"primary"}),{default:l(()=>[h("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(w,null,{default:l(({isHovering:t,props:f})=>[e(K,g({onClick:Ne},f,{color:t?"accent":"primary"}),{default:l(()=>[h("Löschen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[i("div",dl,[i("div",ml,[e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"4"},{default:l(()=>[e(A,{modelValue:C.value,"onUpdate:modelValue":a[21]||(a[21]=t=>C.value=t),items:Pe,"item-title":"title","item-value":"value",label:"Status",multiple:"",disabled:z.value,clearable:""},null,8,["modelValue","disabled"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(m,{modelValue:F.value,"onUpdate:modelValue":a[22]||(a[22]=t=>F.value=t),label:"Vorname",clearable:""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(m,{modelValue:x.value,"onUpdate:modelValue":a[23]||(a[23]=t=>x.value=t),label:"Nachname",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:N.value,"onUpdate:modelValue":a[24]||(a[24]=t=>N.value=t),label:"Email",clearable:""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(A,{modelValue:B.value,"onUpdate:modelValue":a[25]||(a[25]=t=>B.value=t),items:U.roles,"item-title":"human_name","item-value":"name",label:"Rolle",multiple:"",disabled:z.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})])])]),_:1}),e(o,{cols:"12",class:"text-right"},{default:l(()=>[U.usersEmails&&U.usersEmails.length>0?($(),Y(w,{key:0},{default:l(({isHovering:t,props:f})=>[e(q,g(f,{color:t?"accent":"primary",dark:"",onClick:Me}),{default:l(()=>[e(O,g(f,{size:"small",class:"tw-me-2"}),{default:l(()=>[h("mdi-email")]),_:2},1040),cl]),_:2},1040,["color"])]),_:1})):ee("",!0)]),_:1}),e(o,{cols:"12"},{default:l(()=>[We(($(),Y(Ie,{"items-per-page":-1,headers:Ae,items:$e.value,"sort-by":r.sortItem,search:ie.value,loading:z.value,class:"data-table-container data-table-container-hide-footer elevation-1","item-value":"name","onUpdate:options":Oe},{item:l(({item:t})=>{var f,n,k,we,ke,Ue,Ee,ze;return[i("tr",{"data-id":(f=t.selectable)==null?void 0:f.id,"data-order":(n=t.selectable)==null?void 0:n.order},[i("td",fl,[e(O,{size:"medium",class:Qe({active:t==null?void 0:t.selectable.is_online})},{default:l(()=>[h("mdi-circle")]),_:2},1032,["class"])]),i("td",null,D((k=t.selectable)==null?void 0:k.first_name),1),i("td",null,D((we=t.selectable)==null?void 0:we.last_name),1),i("td",null,D((ke=t.selectable)==null?void 0:ke.email),1),i("td",null,D((Ue=t.selectable)==null?void 0:Ue.primary_role_human_name),1),i("td",pl,[(Ee=U.kita)!=null&&Ee.approved&&((ze=t.selectable)!=null&&ze.is_manager)?($(),Y(oe,{key:0,location:"top"},{activator:l(({props:P})=>[i("a",g({href:`mailto:?bcc=${t.selectable.email}`},P),[e(O,g(P,{size:"small",class:"tw-me-2"}),{default:l(()=>[h("mdi-email")]),_:2},1040)],16,vl)]),default:l(()=>[gl]),_:2},1024)):ee("",!0),e(oe,{location:"top"},{activator:l(({props:P})=>[e(s(Fe),{href:`${r.route("users.edit",{id:t.selectable.id})}?from=kitas.show;${U.kita.id}`},{default:l(()=>[e(O,g(P,{size:"small",class:"tw-me-2"}),{default:l(()=>[h("mdi-pencil")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[bl]),_:2},1024),e(oe,{location:"top"},{activator:l(({props:P})=>[e(O,g(P,{size:"small",class:"tw-me-2",onClick:wl=>xe(t.raw)}),{default:l(()=>[h("mdi-delete ")]),_:2},1040,["onClick"])]),default:l(()=>[hl]),_:2},1024)])],8,_l)]}),"no-data":l(()=>[Vl]),_:1},8,["items","sort-by","search","loading"])),[[Re]])]),_:1})]),_:1})]),_:1}),e(Q,{modelValue:L.value,"onUpdate:modelValue":a[27]||(a[27]=t=>L.value=t),width:"40vw"},{default:l(()=>[e(W,{height:"80vh"},{default:l(()=>[e(te,null,{default:l(()=>[yl]),_:1}),e(G,null,{default:l(()=>[e(_,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[e(A,{modelValue:Z.value,"onUpdate:modelValue":a[26]||(a[26]=t=>Z.value=t),items:U.usersEmails,label:"Benutzer",multiple:"",disabled:z.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),e(J,null,{default:l(()=>[e(H),e(w,null,{default:l(({isHovering:t,props:f})=>[e(K,g({href:`mailto:?bcc=${Z.value.join(",")}`},f,{color:t?"accent":"primary",disabled:!Z.value.length}),{default:l(()=>[h(" Öffnen Sie den Mail-Client ")]),_:2},1040,["href","color","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)):ee("",!0)])]),_:1},8,["errors"])],64)}}};export{Sl as default};
