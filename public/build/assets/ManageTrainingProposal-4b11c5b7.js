import{d as Tl}from"./index-4f7f5251.js";import{h as d,k as z,T as ae,j as te,K as El,A as be,r as m,o as y,f as oe,a as e,u as g,w as l,F as ne,Z as Sl,b as u,c as w,m as p,g as P,d as h,i as ye,t as S,l as Qe,O as Fl}from"./app-1577d11b.js";import{_ as zl}from"./AuthenticatedLayout-9aa6d989.js";import{c as G}from"./common-ea192878.js";import"./VueTimepikcer.esm-ca872a01.js";import"./ApplicationLogo-61efe87b.js";const Cl=u("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Verwalte Terminvorschlag",-1),Ul={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},$l=u("h3",null,"Termin",-1),Dl=u("span",null,"Akzeptieren für Multiplikator",-1),Kl=u("span",null,"Termin reservieren",-1),Al=u("span",null,"Reservierung aufheben",-1),Ml=u("h3",null,"Teilnehmende Einrichtungen",-1),Nl=u("span",null,"Einrichtung hinzufügen",-1),Ol=u("span",null,"Schreibe E-Mail an Auswahl",-1),xl=["data-id","data-order"],Zl={class:"text-center"},Bl=["href"],jl=u("span",null,"Schreibe E-Mail",-1),Il=u("span",null,"Einrichtung bearbeiten",-1),Jl=u("span",null,"Einrichtung zeigen",-1),Rl=u("span",null,"Einrichtung löschen",-1),ql=u("div",{class:"tw-py-6"},[u("h3",{class:"tw-mb-4"},"Die Tabelle ist leer.")],-1),Ll=u("span",{class:"tw-text-h5"},"Schulung gegenüber den Kitas bestätigen?",-1),Yl={class:"tw-font-bold tw-font-italic"},Wl=u("p",null,"Sind Sie sicher, dass Sie den Schulungstermin mit der/den Einrichtung(en) bestätigen wollen? Eine E-Mail wird an die verantwortliche(n) Person(en) der Einrichtung(en) versendet, um den Termin zu bestätigen.",-1),Hl=u("p",null,"Möchten Sie die ausgewählten Terminvorschläge wirklich akzeptieren?",-1),Gl=u("p",null,"Sind Sie sicher, dass Sie die ausgewählten Terminvorschläge widerrufen möchten?",-1),Ql=u("span",{class:"tw-text-h5"},"Multiplikator hinzufügen",-1),Xl=u("p",null,"Wählen Sie den Multiplikator aus, den Sie diesem Trainingsvorschlag hinzufügen möchten",-1),ea=u("span",{class:"tw-text-h5"},"Einrichtungen hinzufügen",-1),la=u("p",null,"Wählen Sie die Einrichtungen aus, die Sie zu dieser Schulung hinzufügen möchten",-1),aa=u("span",{class:"tw-text-h5"},"Schreibe E-Mail an Auswahl",-1),da={__name:"ManageTrainingProposal",props:{trainingProposal:Object,notEditable:Boolean,allKitas:Array,trainingProposalKitas:Array,errors:Object,multipliers:Array,operators:Array,statuses:Array,types:Array,emailMessages:Object,currentPage:Number,perPage:Number,lastPage:Number,total:Number,paging:Boolean,orderBy:String,sort:String,filters:Object,zipCodes:Array,kitaTypes:Array,usersEmails:Array},setup(k){var Ee,Se,Fe,ze,Ce,Ue,$e,De,Ke,Ae,Me,Ne,Oe,xe,Ze,Be,je,Ie,Je,Re,qe;const s=k;Tl.Inertia.on("success",o=>{let t=o.detail.page.props;o.detail.page.component==="TrainingProposals/Partials/ManageTrainingProposal"&&t&&(b.value=t.trainingProposal)});const b=d(s.trainingProposal),V=d(s.errors||{}),f=d(!1),pe=d(null),ke=d(!1),me=d(!1),se=d(!1),ve=d(!1),re=d(!1),ue=d(!1),ie=d(!1),_e=d(!1),fe=d(!1),Ve=d(G(s.trainingProposal.first_date)),we=d(G(s.trainingProposal.second_date)),j=d(new Date(s.trainingProposal.first_date).toString()),I=d(new Date(s.trainingProposal.second_date).toString()),Xe=d([{label:"Erster Schulungstag",value:`${G((Ee=b.value)==null?void 0:Ee.first_date)}`},{label:"Zweiter Schulungstag",value:`${G((Se=b.value)==null?void 0:Se.second_date)}`},{label:"Ort",value:(Fe=b.value)==null?void 0:Fe.formatted_location},{label:"Teilnehmerzahl",value:(ze=b.value)==null?void 0:ze.participant_count}]);z(ke,o=>{o||T()}),z(j,o=>{Ve.value=o?G(o):null}),z(I,o=>{we.value=o?G(o):null});const v=ae({id:(Ce=b.value)==null?void 0:Ce.id,first_date:(Ue=b.value)==null?void 0:Ue.first_date,second_date:($e=b.value)==null?void 0:$e.second_date,location:(De=b.value)==null?void 0:De.location,participant_count:(Ke=b.value)==null?void 0:Ke.participant_count,street:(Ae=b.value)==null?void 0:Ae.street,house_number:(Me=b.value)==null?void 0:Me.house_number,zip_code:(Ne=b.value)==null?void 0:Ne.zip_code,city:(Oe=b.value)==null?void 0:Oe.city,notes:(xe=b.value)==null?void 0:xe.notes}),el=async()=>{v.processing=!0,v.first_date=j.value?new Date(j.value).toLocaleString():null,v.second_date=I.value?new Date(I.value).toLocaleString():null;let o={onSuccess:t=>{T()},onError:t=>{V.value=t},onFinish:()=>{v.processing=!1}};v.put(route("training_proposals.update",{trainingProposal:v.id}),o)},ll=()=>{re.value=!0},Q=ae({multi_id:null}),al=async()=>{Q.processing=!0,Q.post(route("training_proposals.add_multiplier",{trainingProposal:s.trainingProposal.id}),{onSuccess:o=>{T()},onError:o=>{V.value=o},onFinish:()=>{Q.processing=!1}})},tl=()=>{ve.value=!0},ol=()=>{se.value=!0},F=ae({id:(Ze=b.value)==null?void 0:Ze.id,status:null,multi_id:null}),ge=async o=>{F.processing=!0,F.status=o,o!=="open"&&delete F.multi_id;let t={preserveState:!1,onSuccess:n=>{T()},onError:n=>{V.value=n},onFinish:()=>{F.processing=!1}};F.put(route("training_proposals.update",{trainingProposal:F.id}),t)},nl=()=>{ue.value=!0},C=ae({kitas:[]}),sl=te(()=>{var t,n,_;El().props.auth.user;let o=(t=s.trainingProposalKitas)==null?void 0:t.length;return((n=b.value)==null?void 0:n.status)==="reserved"&&o>0&&((_=b.value)==null?void 0:_.multi_id)}),rl=te(()=>{let o=s.trainingProposalKitas.map(t=>t.id);return s.allKitas.filter(t=>!o.includes(t.id))}),ul=async()=>{C.processing=!0,C.post(route("training_proposals.add_kitas",{trainingProposal:s.trainingProposal.id}),{onSuccess:o=>{T()},onError:o=>{V.value=o},onFinish:()=>{C.processing=!1}})},il=o=>{pe.value=o.name,$.kita=o.id,ie.value=!0},$=ae({kita:null}),dl=async()=>{$.processing=!0;let o={onSuccess:t=>{T()},onError:t=>{V.value=t},onFinish:()=>{$.processing=!1}};$.post(route("training_proposals.remove_kita",{id:s.trainingProposal.id}),o)},T=()=>{ke.value=!1,pe.value=null,re.value=!1,ue.value=!1,ie.value=!1,me.value=!1,se.value=!1,F.reset(),F.clearErrors(),C.reset(),C.clearErrors(),$.reset(),$.clearErrors(),V.value={}},cl=()=>{v.reset(),v.clearErrors(),F.reset(),F.clearErrors(),C.reset(),C.clearErrors(),$.reset(),$.clearErrors(),j.value=null,I.value=null},pl=o=>o.map(t=>{const n={...t};for(const _ in n)(n[_]===null||n[_]===void 0)&&(n[_]="-");return n}),ml=[{title:"Name",key:"name",width:"15%",sortable:!0},{title:`Jährliche Rückmeldung ${new Date().getFullYear()} abgeschlossen`,key:"has_yearly_evaluations",width:"25%",sortable:!0},{title:"Zugelassen",key:"approved",width:"10%",sortable:!0},{title:"Träger",key:"operator_id",width:"10%",sortable:!0},{title:"Sonstiger Träger",key:"other_operator",width:"10%",sortable:!0},{title:"Typ",key:"type",width:"10%",sortable:!0},{title:"Postleitzahl",key:"zip_code",width:"10%",sortable:!0},{title:"Aktion",key:"actions",width:"10%",sortable:!1,align:"center"}],Pe=d(s==null?void 0:s.currentPage),vl=d(s==null?void 0:s.perPage);d(s==null?void 0:s.orderBy),d(s==null?void 0:s.sort),d(s==null?void 0:s.total),d(s==null?void 0:s.lastPage);const Te=d(""),D=d(((Be=s==null?void 0:s.filters)==null?void 0:Be.search)??null),K=d(((je=s==null?void 0:s.filters)==null?void 0:je.has_yearly_evaluations)??null),A=d(((Ie=s==null?void 0:s.filters)==null?void 0:Ie.approved)??null),M=d(null),N=d(((Je=s.filters)==null?void 0:Je.other_operator)??null),O=d(((Re=s==null?void 0:s.filters)==null?void 0:Re.type)??null),x=d(((qe=s==null?void 0:s.filters)==null?void 0:qe.zip_code)??null),_l=[{title:"Ja",value:"true"},{title:"Nein",value:"false"}],fl=[{title:"Ja",value:"true"},{title:"Nein",value:"false"}],X=d([]),he=d(!1),gl=te(()=>pl(s.trainingProposalKitas)),hl=te(()=>D.value===null&&K.value===null&&A.value===null&&M.value===null&&N.value===null&&O.value===null&&x.value===null),bl=te(()=>D.value!==null||K.value!==null||A.value!==null||M.value!==null||N.value!==null||O.value!==null||x.value!==null);z(D,be.debounce(o=>{J()},500)),z(K,o=>{J()}),z(A,o=>{J()}),z(M,o=>{J()}),z(N,be.debounce(o=>{J()},500)),z(O,o=>{J()}),z(x,be.debounce(o=>{J()},500));const J=o=>{f.value=!0,Te.value=String(Date.now())},yl=()=>{he.value=!0,X.value=s.usersEmails.map(o=>o.value)},kl=async({page:o,itemsPerPage:t,sortBy:n,clearFilters:_})=>{if(_&&(D.value=null,K.value=null,A.value=null,M.value=null,N.value=null,O.value=null,x.value=null),o===Pe.value&&_||hl||bl){f.value=!0;let i={page:o,per_page:t};n&&n.length>0?(i.order_by=n[0].key,i.sort=n[0].order):(i.order_by=null,i.sort=null),D.value&&(i.search=D.value),K.value&&(i.has_yearly_evaluations=K.value),A.value&&(i.approved=A.value),M.value&&(i.operator_id=M.value),N.value&&(i.other_operator=N.value),O.value&&(i.type=O.value),x.value&&(i.zip_code=x.value),await Fl.get(route(route().current(),{trainingProposal:v.id}),i,{preserveScroll:!0,preserveState:!0,onCancelToken:c=>{},onCancel:()=>{},onBefore:c=>{f.value=!0},onStart:c=>{},onProgress:c=>{},onSuccess:c=>{Pe.value=i.page,vl.value=i.per_page},onError:c=>{console.log(c)},onFinish:c=>{f.value=!1}})}};return(o,t)=>{const n=m("v-col"),_=m("v-btn"),i=m("v-hover"),c=m("v-row"),E=m("v-container"),U=m("v-text-field"),Le=m("v-date-picker"),Ye=m("v-menu"),We=m("v-locale-provider"),He=m("v-textarea"),Z=m("v-btn-primary"),H=m("v-select"),ee=m("v-icon"),de=m("v-tooltip"),Vl=m("v-data-table-server"),ce=m("v-card-title"),wl=m("v-list-item"),Pl=m("v-list"),R=m("v-card-text"),q=m("v-spacer"),L=m("v-card-actions"),Y=m("v-card"),W=m("v-dialog"),Ge=m("v-autocomplete");return y(),oe(ne,null,[e(g(Sl),{title:"Verwalte Terminvorschlag"}),e(zl,{errors:V.value},{header:l(()=>[Cl]),default:l(()=>[u("div",Ul,[e(E,null,{default:l(()=>[e(c,null,{default:l(()=>[e(n,{cols:"12",sm:"3"},{default:l(()=>[$l]),_:1}),e(n,{cols:"12",sm:"9",class:"text-right"},{default:l(()=>[b.value.status==="open"&&(o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin)?(y(),w(i,{key:0},{default:l(({isHovering:a,props:r})=>[e(_,p({class:"tw-ml-4 tw-mb-4"},r,{color:a?"accent":"primary",dark:"",onClick:ll}),{default:l(()=>[Dl]),_:2},1040,["color"])]),_:1})):P("",!0),sl.value?(y(),w(i,{key:1},{default:l(({isHovering:a,props:r})=>[e(_,p({class:"tw-ml-4 tw-mb-4"},r,{color:a?"accent":"success",dark:"",onClick:tl}),{default:l(()=>[Kl]),_:2},1040,["color"])]),_:1})):P("",!0),b.value.status==="reserved"?(y(),w(i,{key:2},{default:l(({isHovering:a,props:r})=>[e(_,p({class:"tw-ml-4 tw-mb-4"},r,{color:a?"background":"error",dark:"",onClick:ol}),{default:l(()=>[Al]),_:2},1040,["color"])]),_:1})):P("",!0)]),_:1})]),_:1})]),_:1}),e(E,null,{default:l(()=>[e(c,null,{default:l(()=>[e(n,{cols:"12",sm:"4"},{default:l(()=>[e(We,{locale:"de"},{default:l(()=>[e(Ye,{modelValue:_e.value,"onUpdate:modelValue":t[2]||(t[2]=a=>_e.value=a),"return-value":j.value,"close-on-content-click":!1,disabled:k.notEditable},{activator:l(({props:a})=>[e(U,p({label:"Erster Schulungstag*",class:"tw-cursor-pointer","model-value":Ve.value,"error-messages":V.value.first_date,"prepend-icon":"mdi-calendar"},a,{readonly:"",disabled:f.value}),null,16,["model-value","error-messages","disabled"])]),default:l(()=>[e(Le,{"onUpdate:modelValue":[t[0]||(t[0]=a=>_e.value=!1),t[1]||(t[1]=a=>j.value=a)],modelValue:j.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value","disabled"])]),_:1})]),_:1}),e(n,{cols:"12",sm:"4"},{default:l(()=>[e(We,{locale:"de"},{default:l(()=>[e(Ye,{modelValue:fe.value,"onUpdate:modelValue":t[5]||(t[5]=a=>fe.value=a),"return-value":I.value,"close-on-content-click":!1,disabled:k.notEditable},{activator:l(({props:a})=>[e(U,p({label:"Zweiter Schulungstag*",class:"tw-cursor-pointer","model-value":we.value,"error-messages":V.value.second_date,"prepend-icon":"mdi-calendar"},a,{readonly:"",disabled:f.value}),null,16,["model-value","error-messages","disabled"])]),default:l(()=>[e(Le,{"onUpdate:modelValue":[t[3]||(t[3]=a=>fe.value=!1),t[4]||(t[4]=a=>I.value=a)],modelValue:I.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value","disabled"])]),_:1})]),_:1}),e(n,{cols:"12",sm:"4"},{default:l(()=>[e(U,{type:"number",modelValue:g(v).participant_count,"onUpdate:modelValue":t[6]||(t[6]=a=>g(v).participant_count=a),"error-messages":V.value.participant_count,label:"Teilnehmerzahl*",clearable:"",readonly:k.notEditable,disabled:f.value},null,8,["modelValue","error-messages","readonly","disabled"])]),_:1})]),_:1}),e(c,null,{default:l(()=>[e(n,{cols:"12",sm:"3"},{default:l(()=>[e(U,{modelValue:g(v).street,"onUpdate:modelValue":t[7]||(t[7]=a=>g(v).street=a),"error-messages":V.value.street,label:"Straße*",disabled:f.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(n,{cols:"12",sm:"3"},{default:l(()=>[e(U,{modelValue:g(v).house_number,"onUpdate:modelValue":t[8]||(t[8]=a=>g(v).house_number=a),"error-messages":V.value.house_number,label:"Hausnummer*",disabled:f.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(n,{cols:"12",sm:"3"},{default:l(()=>[e(U,{modelValue:g(v).zip_code,"onUpdate:modelValue":t[9]||(t[9]=a=>g(v).zip_code=a),"error-messages":V.value.zip_code,label:"Postleitzahl*",disabled:f.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(n,{cols:"12",sm:"3"},{default:l(()=>[e(U,{modelValue:g(v).city,"onUpdate:modelValue":t[10]||(t[10]=a=>g(v).city=a),"error-messages":V.value.city,label:"Stadt*",disabled:f.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:1}),e(c,null,{default:l(()=>[e(n,{cols:"12",sm:"6"},{default:l(()=>[e(He,{modelValue:g(v).location,"onUpdate:modelValue":t[11]||(t[11]=a=>g(v).location=a),"error-messages":V.value.location,label:"Ort*",required:"",readonly:k.notEditable,disabled:f.value},null,8,["modelValue","error-messages","readonly","disabled"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(He,{modelValue:g(v).notes,"onUpdate:modelValue":t[12]||(t[12]=a=>g(v).notes=a),"error-messages":V.value.notes,label:"Notizen",required:"",readonly:k.notEditable,disabled:f.value},null,8,["modelValue","error-messages","readonly","disabled"])]),_:1})]),_:1}),e(c,null,{default:l(()=>[e(n,{cols:"12",sm:"6"},{default:l(()=>[!k.notEditable||o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin?(y(),w(i,{key:0},{default:l(({isHovering:a,props:r})=>[e(_,p({onClick:cl},r,{color:a?"primary":"accent"}),{default:l(()=>[h("Zurücksetzen")]),_:2},1040,["color"])]),_:1})):P("",!0)]),_:1}),e(n,{cols:"12",sm:"6",align:"right"},{default:l(()=>[e(i,null,{default:l(({isHovering:a,props:r})=>[e(g(ye),{href:o.route("training_proposals.index")},{default:l(()=>[e(_,p({class:"mr-2",variant:"text"},r,{color:a?"accent":"primary"}),{default:l(()=>[h("Zurück")]),_:2},1040,["color"])]),_:2},1032,["href"])]),_:1}),!k.notEditable||o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin?(y(),w(i,{key:0},{default:l(({isHovering:a,props:r})=>[e(Z,p({onClick:el},r,{color:a?"accent":"primary"}),{default:l(()=>[h(" Speichern ")]),_:2},1040,["color"])]),_:1})):P("",!0)]),_:1})]),_:1})]),_:1}),o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin||o.$page.props.auth.user.is_user_multiplier?(y(),oe(ne,{key:0},[e(E,null,{default:l(()=>[e(c,{class:"tw-border-t-8 tw-mt-8 tw-pt-8"},{default:l(()=>[e(n,{cols:"12",sm:"6"},{default:l(()=>[Ml]),_:1}),e(n,{cols:"12",sm:"6",class:"text-right"},{default:l(()=>[o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin?(y(),w(i,{key:0},{default:l(({isHovering:a,props:r})=>[e(_,p(r,{color:a?"accent":"primary",dark:"",onClick:nl}),{default:l(()=>[Nl]),_:2},1040,["color"])]),_:1})):P("",!0)]),_:1})]),_:1})]),_:1}),e(E,null,{default:l(()=>[e(c,null,{default:l(()=>[e(n,{cols:"12",sm:"4"},{default:l(()=>[e(U,{modelValue:D.value,"onUpdate:modelValue":t[13]||(t[13]=a=>D.value=a),label:"Name",disabled:f.value,clearable:""},null,8,["modelValue","disabled"])]),_:1}),e(n,{cols:"12",sm:"4"},{default:l(()=>[e(H,{modelValue:K.value,"onUpdate:modelValue":t[14]||(t[14]=a=>K.value=a),items:_l,label:`Jährliche Rückmeldung ${new Date().getFullYear()} abgeschlossen`,multiple:"",disabled:f.value,clearable:""},null,8,["modelValue","label","disabled"])]),_:1}),e(n,{cols:"12",sm:"4"},{default:l(()=>[e(H,{modelValue:A.value,"onUpdate:modelValue":t[15]||(t[15]=a=>A.value=a),items:fl,label:"Zugelassen",multiple:"",disabled:f.value,clearable:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),e(c,null,{default:l(()=>[e(n,{cols:"12",sm:"6"},{default:l(()=>[e(H,{modelValue:M.value,"onUpdate:modelValue":t[16]||(t[16]=a=>M.value=a),items:k.operators,"item-title":"name","item-value":"id",label:"Träger",multiple:"",disabled:f.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(U,{modelValue:N.value,"onUpdate:modelValue":t[17]||(t[17]=a=>N.value=a),label:"Sonstiger Träger",disabled:f.value,clearable:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),e(c,null,{default:l(()=>[e(n,{cols:"12",sm:"6"},{default:l(()=>[e(H,{modelValue:O.value,"onUpdate:modelValue":t[18]||(t[18]=a=>O.value=a),items:k.kitaTypes,label:"Typ",multiple:"",disabled:f.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(H,{modelValue:x.value,"onUpdate:modelValue":t[19]||(t[19]=a=>x.value=a),items:k.zipCodes,label:"Postleitzahl",multiple:"",disabled:f.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1}),e(c,null,{default:l(()=>[o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin?(y(),w(n,{key:0,cols:"12",class:"text-right"},{default:l(()=>[k.usersEmails&&k.usersEmails.length>0?(y(),w(i,{key:0},{default:l(({isHovering:a,props:r})=>[e(_,p(r,{color:a?"accent":"primary",dark:"",onClick:yl}),{default:l(()=>[e(ee,p(r,{size:"small",class:"tw-me-2"}),{default:l(()=>[h("mdi-email")]),_:2},1040),Ol]),_:2},1040,["color"])]),_:1})):P("",!0)]),_:1})):P("",!0),e(n,{cols:"12"},{default:l(()=>[e(Vl,{"items-per-page":-1,headers:ml,items:gl.value,search:Te.value,loading:f.value,class:"data-table-container data-table-container-hide-footer elevation-1","item-value":"name","onUpdate:options":kl},{item:l(({item:a})=>{var r,le;return[u("tr",{"data-id":a.id,"data-order":a.order},[u("td",null,S(a==null?void 0:a.name),1),u("td",null,S(a!=null&&a.has_yearly_evaluations?"Ja":"Nein"),1),u("td",null,S(a!=null&&a.approved?"Ja":"Nein"),1),u("td",null,S(((r=a==null?void 0:a.operator)==null?void 0:r.name)??"-"),1),u("td",null,S(!((le=a==null?void 0:a.operator)!=null&&le.name)&&(a!=null&&a.other_operator)?a==null?void 0:a.other_operator:"-"),1),u("td",null,S((a==null?void 0:a.formatted_type)??(a==null?void 0:a.type)),1),u("td",null,S(a==null?void 0:a.zip_code),1),u("td",Zl,[o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin?(y(),oe(ne,{key:0},[a!=null&&a.approved&&(a==null?void 0:a.users_emails.length)>0?(y(),w(de,{key:0,location:"top"},{activator:l(({props:B})=>[u("a",p({href:`mailto:?bcc=${a==null?void 0:a.users_emails.join(",")}`},B),[e(ee,p(B,{size:"small",class:"tw-me-2"}),{default:l(()=>[h("mdi-email")]),_:2},1040)],16,Bl)]),default:l(()=>[jl]),_:2},1024)):P("",!0)],64)):P("",!0),o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin?(y(),w(de,{key:1,location:"top"},{activator:l(({props:B})=>[e(g(ye),{href:o.route("kitas.show",{id:a.id})},{default:l(()=>[e(ee,p(B,{size:"small",class:"tw-me-2"}),{default:l(()=>[h("mdi-pencil")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[Il]),_:2},1024)):(y(),w(de,{key:2,location:"top"},{activator:l(({props:B})=>[e(g(ye),{href:o.route("kitas.show",{id:a.id})},{default:l(()=>[e(ee,p(B,{size:"small",class:"tw-me-2"}),{default:l(()=>[h("mdi-eye")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[Jl]),_:2},1024)),o.$page.props.auth.user.is_super_admin||o.$page.props.auth.user.is_admin?(y(),w(de,{key:3,location:"top"},{activator:l(({props:B})=>[e(ee,p(B,{size:"small",class:"tw-me-2",onClick:ta=>il(a)}),{default:l(()=>[h("mdi-delete ")]),_:2},1040,["onClick"])]),default:l(()=>[Rl]),_:2},1024)):P("",!0)])],8,xl)]}),"no-data":l(()=>[ql]),_:1},8,["items","search","loading"])]),_:1})]),_:1})]),_:1})],64)):P("",!0),e(E,null,{default:l(()=>[e(c,null,{default:l(()=>[e(W,{modelValue:ve.value,"onUpdate:modelValue":t[21]||(t[21]=a=>ve.value=a),width:"80vw"},{default:l(()=>[e(Y,{height:"80vw"},{default:l(()=>[e(ce,null,{default:l(()=>[Ll]),_:1}),e(R,null,{default:l(()=>[e(E,null,{default:l(()=>[e(c,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[(y(!0),oe(ne,null,Qe(Xe.value,a=>(y(),w(c,null,{default:l(()=>[e(n,{cols:"12",sm:"2"},{default:l(()=>[u("span",Yl,S(a==null?void 0:a.label)+":",1)]),_:2},1024),e(n,{cols:"12",sm:"10"},{default:l(()=>[u("span",null,S(a==null?void 0:a.value),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),k.trainingProposalKitas&&k.trainingProposalKitas.length?(y(),w(c,{key:0},{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[Wl]),_:1}),e(n,{cols:"12",class:"tw--mt-6"},{default:l(()=>[e(Pl,null,{default:l(()=>[(y(!0),oe(ne,null,Qe(k.trainingProposalKitas,a=>(y(),w(wl,{class:"hide-details",key:a.id},{default:l(()=>[h(S(a.name),1)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):P("",!0)]),_:1})]),_:1}),e(L,null,{default:l(()=>[e(q),e(i,null,{default:l(({isHovering:a,props:r})=>[e(_,p({onClick:T},r,{color:a?"accent":"primary"}),{default:l(()=>[h("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(i,null,{default:l(({isHovering:a,props:r})=>[e(Z,p({onClick:t[20]||(t[20]=le=>ge("confirmation_pending"))},r,{color:a?"accent":"primary"}),{default:l(()=>[h("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W,{modelValue:me.value,"onUpdate:modelValue":t[23]||(t[23]=a=>me.value=a),width:"20vw"},{default:l(()=>[e(Y,{height:"30vh"},{default:l(()=>[e(R,null,{default:l(()=>[e(E,null,{default:l(()=>[e(c,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[Hl]),_:1})]),_:1})]),_:1})]),_:1}),e(L,null,{default:l(()=>[e(q),e(i,null,{default:l(({isHovering:a,props:r})=>[e(_,p({onClick:T},r,{color:a?"accent":"primary"}),{default:l(()=>[h("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(i,null,{default:l(({isHovering:a,props:r})=>[e(Z,p({onClick:t[22]||(t[22]=le=>ge("reserved"))},r,{color:a?"accent":"primary"}),{default:l(()=>[h("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W,{modelValue:se.value,"onUpdate:modelValue":t[25]||(t[25]=a=>se.value=a),width:"20vw"},{default:l(()=>[e(Y,{height:"30vh"},{default:l(()=>[e(R,null,{default:l(()=>[e(E,null,{default:l(()=>[e(c,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[Gl]),_:1})]),_:1})]),_:1})]),_:1}),e(L,null,{default:l(()=>[e(q),e(i,null,{default:l(({isHovering:a,props:r})=>[e(_,p({onClick:T},r,{color:a?"accent":"primary"}),{default:l(()=>[h("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(i,null,{default:l(({isHovering:a,props:r})=>[e(Z,p({onClick:t[24]||(t[24]=le=>ge("open",null))},r,{color:a?"accent":"primary"}),{default:l(()=>[h("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W,{modelValue:re.value,"onUpdate:modelValue":t[27]||(t[27]=a=>re.value=a),width:"80vw"},{default:l(()=>[e(Y,{height:"80vh"},{default:l(()=>[e(ce,null,{default:l(()=>[Ql]),_:1}),e(R,null,{default:l(()=>[e(E,null,{default:l(()=>[e(c,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[Xl]),_:1})]),_:1}),e(c,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[e(Ge,{modelValue:g(Q).multi_id,"onUpdate:modelValue":t[26]||(t[26]=a=>g(Q).multi_id=a),items:k.multipliers,"error-messages":V.value.multi_id,"item-title":"full_name","item-value":"id",label:"Multiplikator",required:""},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(L,null,{default:l(()=>[e(q),e(i,null,{default:l(({isHovering:a,props:r})=>[e(_,p({onClick:T},r,{color:a?"accent":"primary"}),{default:l(()=>[h(" Zurück ")]),_:2},1040,["color"])]),_:1}),e(i,null,{default:l(({isHovering:a,props:r})=>[e(Z,p({onClick:al},r,{color:a?"accent":"primary"}),{default:l(()=>[h(" Speichern ")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W,{modelValue:ue.value,"onUpdate:modelValue":t[29]||(t[29]=a=>ue.value=a),width:"80vw"},{default:l(()=>[e(Y,{height:"80vh"},{default:l(()=>[e(ce,null,{default:l(()=>[ea]),_:1}),e(R,null,{default:l(()=>[e(E,null,{default:l(()=>[e(c,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[la]),_:1})]),_:1}),e(c,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[e(Ge,{modelValue:g(C).kitas,"onUpdate:modelValue":t[28]||(t[28]=a=>g(C).kitas=a),items:rl.value,"error-messages":V.value.kitas,"item-title":"name","item-value":"id",label:"Kita",multiple:"",required:""},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(L,null,{default:l(()=>[e(q),e(i,null,{default:l(({isHovering:a,props:r})=>[e(_,p({onClick:T},r,{color:a?"accent":"primary"}),{default:l(()=>[h(" Zurück ")]),_:2},1040,["color"])]),_:1}),e(i,null,{default:l(({isHovering:a,props:r})=>[e(Z,p({onClick:ul},r,{color:a?"accent":"primary",disabled:o.maxParticipantCountExceeded}),{default:l(()=>[h(" Speichern ")]),_:2},1040,["color","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W,{modelValue:ie.value,"onUpdate:modelValue":t[30]||(t[30]=a=>ie.value=a),width:"20vw"},{default:l(()=>[e(Y,{height:"30vh"},{default:l(()=>[e(R,null,{default:l(()=>[e(E,null,{default:l(()=>[e(c,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[u("p",null,"Möchten Sie die Einrichtung "+S(pe.value)+" wirklich aus der Ausbildung entfernen?",1)]),_:1})]),_:1})]),_:1})]),_:1}),e(L,null,{default:l(()=>[e(q),e(i,null,{default:l(({isHovering:a,props:r})=>[e(_,p({onClick:T},r,{color:a?"accent":"primary"}),{default:l(()=>[h("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(i,null,{default:l(({isHovering:a,props:r})=>[e(Z,p({onClick:dl},r,{color:a?"accent":"primary"}),{default:l(()=>[h("Löschen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(n,{cols:"12"},{default:l(()=>[e(W,{modelValue:he.value,"onUpdate:modelValue":t[32]||(t[32]=a=>he.value=a),width:"40vw"},{default:l(()=>[e(Y,{height:"80vh"},{default:l(()=>[e(ce,null,{default:l(()=>[aa]),_:1}),e(R,null,{default:l(()=>[e(E,null,{default:l(()=>[e(c,null,{default:l(()=>[e(n,{cols:"12"},{default:l(()=>[e(H,{modelValue:X.value,"onUpdate:modelValue":t[31]||(t[31]=a=>X.value=a),items:k.usersEmails,label:"Benutzer",multiple:"",disabled:f.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),e(L,null,{default:l(()=>[e(q),e(i,null,{default:l(({isHovering:a,props:r})=>[e(Z,p({href:`mailto:?bcc=${X.value.join(",")}`},r,{color:a?"accent":"primary",disabled:!X.value.length}),{default:l(()=>[h(" Öffnen Sie den Mail-Client ")]),_:2},1040,["href","color","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["errors"])],64)}}};export{da as default};
