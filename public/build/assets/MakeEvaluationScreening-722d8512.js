import{d as $}from"./index-e2b0f75d.js";import{K as j,k as m,s as K,T as O,r as o,o as V,f as P,a as e,u as c,w as a,F as q,Z as G,b as _,c as H,g as J,p as b,d as x,t as L}from"./app-46666987.js";import{p as D,a as Q}from"./common-4ebdec69.js";import{_ as W}from"./AuthenticatedLayout-6877e425.js";import{_ as z}from"./EvaluationDomainsList-539184fe.js";import"./ApplicationLogo-b74ed3cd.js";const X=_("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Screening-prüfung",-1),Y={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},ee=_("h3",null,"Eigenschaften",-1),ae={class:"tw-text-center"},te={class:"tw-uppercase text-primary tw-font-black tw-text-xl tw-mb-8"},ue={__name:"MakeEvaluationScreening",props:{domains:Array,dazDependent:{type:Boolean,default:!1},errors:Object},setup(p){const g=p;$.Inertia.on("success",l=>{l.detail.page.props,l.detail.page.component}),j().props.auth.user;const s=m(g.errors||{});m(!1);const v=m(!1),h=m(null),k=m(null);K(()=>{E()});const B=l=>{t.ratings=l},E=()=>{t.ratings=D(g.domains)},R=()=>{s.value={},v.value=!1},C=()=>{t.reset(),t.clearErrors(),s.value={},t.ratings=D(g.domains)},t=O({age:null,is_daz:!1,ratings:[]}),S=async()=>{t.processing=!0,t.post(route("screening.make"),{onSuccess:l=>{t.clearErrors(),s.value={},v.value=!0,h.value=l.props.data.evaluation,k.value=l.props.data.domain.name},onError:l=>{s.value=l},onFinish:()=>{t.processing=!1}})};return(l,u)=>{const r=o("v-col"),i=o("v-row"),f=o("v-container"),A=o("v-select"),N=o("v-checkbox"),F=o("v-btn"),w=o("v-hover"),y=o("v-btn-primary"),I=o("v-card-text"),U=o("v-spacer"),M=o("v-card-actions"),T=o("v-card"),Z=o("v-dialog");return V(),P(q,null,[e(c(G),{title:"Screening-prüfung"}),e(W,{errors:s.value},{header:a(()=>[X]),default:a(()=>[_("div",Y,[e(f,null,{default:a(()=>[e(i,null,{default:a(()=>[e(r,{cols:"12"},{default:a(()=>[ee]),_:1})]),_:1})]),_:1}),e(f,null,{default:a(()=>[e(i,null,{default:a(()=>[e(r,{cols:"12",sm:"3"},{default:a(()=>[e(A,{modelValue:c(t).age,"onUpdate:modelValue":u[0]||(u[0]=n=>c(t).age=n),items:c(Q),"error-messages":s.value.age,"item-title":"age_name","item-value":"age_number",label:"Altersgruppe"},null,8,["modelValue","items","error-messages"])]),_:1}),p.dazDependent?(V(),H(r,{key:0,cols:"12",sm:"2"},{default:a(()=>[e(N,{modelValue:c(t).is_daz,"onUpdate:modelValue":u[1]||(u[1]=n=>c(t).is_daz=n),label:"Ist Daz"},null,8,["modelValue"])]),_:1})):J("",!0)]),_:1}),e(i,{class:"manage-evaluation-domains"},{default:a(()=>[e(z,{onUpdateRatingData:B,ratings:c(t).ratings,domains:p.domains,errors:s.value},null,8,["ratings","domains","errors"])]),_:1})]),_:1}),e(f,null,{default:a(()=>[e(i,null,{default:a(()=>[e(r,{cols:"12",sm:"6"},{default:a(()=>[e(w,null,{default:a(({isHovering:n,props:d})=>[e(F,b({onClick:C},d,{color:n?"primary":"accent"}),{default:a(()=>[x(" Zurücksetzen ")]),_:2},1040,["color"])]),_:1})]),_:1}),e(r,{cols:"12",sm:"6",align:"right"},{default:a(()=>[e(w,null,{default:a(({isHovering:n,props:d})=>[e(y,b({onClick:S},d,{color:n?"accent":"primary"}),{default:a(()=>[x(" Ampel-Bewertung ")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1})]),e(Z,{modelValue:v.value,"onUpdate:modelValue":u[2]||(u[2]=n=>v.value=n),width:"95vw"},{default:a(()=>[e(T,{height:"95vh"},{default:a(()=>[e(I,null,{default:a(()=>[e(f,null,{default:a(()=>[e(i,{class:"result-evaluation-domains"},{default:a(()=>[e(r,{cols:"8",offset:"2"},{default:a(()=>[_("div",ae,[_("h1",te," Ampelergebnis der "+L(k.value),1)])]),_:1}),e(r,{cols:"12"},{default:a(()=>[e(z,{ratings:h.value,domains:p.domains,disabled:!0},null,8,["ratings","domains"])]),_:1})]),_:1})]),_:1})]),_:1}),e(M,null,{default:a(()=>[e(U),e(w,null,{default:a(({isHovering:n,props:d})=>[e(y,b({onClick:R},d,{color:n?"accent":"primary"}),{default:a(()=>[x("Abbrechen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["errors"])],64)}}};export{ue as default};
