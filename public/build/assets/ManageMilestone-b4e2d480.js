import{d as T}from"./index-61c15052.js";import{K as C,j as f,k as E,T as F,r as m,o as N,f as P,a as e,u as o,w as l,F as j,Z as B,b as V,m as g,d as b,i as Z}from"./app-3f67065f.js";import{a as D}from"./common-ea192878.js";import{_ as G}from"./AuthenticatedLayout-e8de234a.js";import"./ApplicationLogo-4ea15e85.js";const K=V("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Meilenstein verwalten",-1),O={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},J={__name:"ManageMilestone",props:{milestone:Object,errors:Object,from:String},setup(h){const c=h;T.Inertia.on("success",i=>{let a=i.detail.page.props;i.detail.page.component==="Domains/Partials/ManageMilestone"&&a&&(n.value=a.milestone)}),C().props.auth.user;const n=f(c.milestone),u=f(c.errors||{});f(!1);const y=E(()=>{var i;if(c.from){const a=c.from.split(";");if(a.length===3){const d=a[0],r={};return r[a[1]]=a[2],route(d,r)}}return route("subdomains.show",{id:(i=n.value)==null?void 0:i.subdomain_id})}),k=()=>{t.reset(),t.clearErrors(),u.value={}},z=()=>{t.reset(),t.clearErrors(),t.subdomain=null,t.abbreviation=null,t.title=null,t.text=null,t.emphasis=null,t.emphasis_daz=null,t.age=null},t=F({id:n.value.id,subdomain:n.value.subdomain_id,abbreviation:n.value.abbreviation,title:n.value.title,text:n.value.text,emphasis:n.value.emphasis,emphasis_daz:n.value.emphasis_daz,age:n.value.age}),M=async()=>{t.processing=!0,t.put(route("milestones.update",{milestone:t.id}),{preserveState:!1,onSuccess:i=>{k()},onError:i=>{u.value=i},onFinish:()=>{t.processing=!1}})};return(i,a)=>{const d=m("v-text-field"),r=m("v-col"),U=m("v-select"),_=m("v-row"),q=m("v-textarea"),x=m("v-container"),w=m("v-btn"),v=m("v-hover"),S=m("v-btn-primary");return N(),P(j,null,[e(o(B),{title:"Meilenstein verwalten"}),e(G,{errors:u.value},{header:l(()=>[K]),default:l(()=>[V("div",O,[e(x,null,{default:l(()=>[e(_,null,{default:l(()=>[e(r,{cols:"12",sm:"3"},{default:l(()=>[e(d,{modelValue:o(t).abbreviation,"onUpdate:modelValue":a[0]||(a[0]=s=>o(t).abbreviation=s),"error-messages":u.value.abbreviation,label:"Kürzel*",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(r,{cols:"12",sm:"3"},{default:l(()=>[e(U,{modelValue:o(t).age,"onUpdate:modelValue":a[1]||(a[1]=s=>o(t).age=s),items:o(D),"error-messages":u.value.age,"item-title":"age_name","item-value":"age_number",label:"Altersgruppe"},null,8,["modelValue","items","error-messages"])]),_:1}),e(r,{cols:"12",sm:"3"},{default:l(()=>[e(d,{modelValue:o(t).emphasis,"onUpdate:modelValue":a[2]||(a[2]=s=>o(t).emphasis=s),"error-messages":u.value.emphasis,type:"number",label:"Gewichtung*",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(r,{cols:"12",sm:"3"},{default:l(()=>[e(d,{modelValue:o(t).emphasis_daz,"onUpdate:modelValue":a[3]||(a[3]=s=>o(t).emphasis_daz=s),"error-messages":u.value.emphasis_daz,type:"number",label:"Gewichtung mit Daz*",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(r,{cols:"12"},{default:l(()=>[e(d,{modelValue:o(t).title,"onUpdate:modelValue":a[4]||(a[4]=s=>o(t).title=s),"error-messages":u.value.title,label:"Titel*",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(_,null,{default:l(()=>[e(r,{cols:"12"},{default:l(()=>[e(q,{modelValue:o(t).text,"onUpdate:modelValue":a[5]||(a[5]=s=>o(t).text=s),"error-messages":u.value.text,label:"Subtext*",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1}),e(x,null,{default:l(()=>[e(_,null,{default:l(()=>[e(r,{cols:"12",sm:"6"},{default:l(()=>[e(v,null,{default:l(({isHovering:s,props:p})=>[e(w,g({onClick:z},p,{color:s?"primary":"accent"}),{default:l(()=>[b("Zurücksetzen")]),_:2},1040,["color"])]),_:1})]),_:1}),e(r,{cols:"12",sm:"6",align:"right"},{default:l(()=>[e(v,null,{default:l(({isHovering:s,props:p})=>[e(o(Z),{href:y.value},{default:l(()=>[e(w,g({class:"mr-2",variant:"text"},p,{color:s?"accent":"primary"}),{default:l(()=>[b("Zurück")]),_:2},1040,["color"])]),_:2},1032,["href"])]),_:1}),e(v,null,{default:l(({isHovering:s,props:p})=>[e(S,g({onClick:M},p,{color:s?"accent":"primary"}),{default:l(()=>[b("Speichern ")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1},8,["errors"])],64)}}};export{J as default};
