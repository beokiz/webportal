import{d as Fl}from"./index-7e9b5cd6.js";import{K as Ul,h as c,k as U,T as me,j as le,A as ye,r as _,o as k,f as ae,a as e,u as h,w as l,F as te,Z as Kl,b as d,c as E,m as v,g as $,d as y,i as Xe,t as K,l as el,O as zl}from"./app-d87e99e6.js";import{_ as Dl}from"./AuthenticatedLayout-d9f6604b.js";import{c as Q}from"./common-b6d82cb9.js";import{s as ll}from"./VueTimepikcer.esm-a24dbf09.js";import"./ApplicationLogo-7729fd5c.js";const xl=d("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Verwalte Termin Eigenschaften",-1),Al={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},Pl=d("h3",null,"Termin",-1),Nl=d("span",null,"Schulungstermin bestätigen",-1),Ol=d("span",null,"Training abschließen und Einrichtungen zulassen",-1),Ml=d("span",null,"Training abbrechen",-1),jl=d("span",{class:"tw-inline-block tw-mt-4"},"von",-1),Zl=d("h3",null,"Teilnehmende Einrichtungen",-1),Bl=d("span",null,"Einrichtung hinzufügen",-1),Ll=d("span",null,"Schreibe E-Mail an Auswahl",-1),Il=["data-id","data-order"],Jl={class:"text-center"},Hl=["href"],Yl=d("span",null,"Schreibe E-Mail",-1),ql=d("span",null,"Einrichtung bearbeiten",-1),Rl=d("span",null,"Einrichtung löschen",-1),Wl=d("div",{class:"tw-py-6"},[d("h3",{class:"tw-mb-4"},"Die Tabelle ist leer.")],-1),Gl=d("span",{class:"tw-text-h5"},"Schulung gegenüber den Kitas bestätigen?",-1),Ql={class:"tw-font-bold tw-font-italic"},Xl=d("p",{class:"mb-4"},"Sind Sie sich sicher, dass Sie die Termine gegenüber den folgenden Kitas bestätigen wollen? Im Folgenden gibt es individuelle E-Mail-Vorschläge für jede Kita.",-1),ea=d("p",null,"Bitte klicken Sie auf den Namen der Kita, um diesen zu erhalten.",-1),la=d("p",null,"Möchten Sie die ausgewählte Ausbildung wirklich absolvieren?",-1),aa=d("p",null,"Sind Sie sicher, dass Sie die ausgewählte Schulung stornieren möchten?",-1),ta=d("span",{class:"tw-text-h5"},"Einrichtungen hinzufügen",-1),na=d("p",null,"Wählen Sie die Einrichtungen aus, die Sie zu dieser Schulung hinzufügen möchten",-1),ua=d("span",{class:"tw-text-h5"},"Schreibe E-Mail an Auswahl",-1),_a={__name:"ManageTraining",props:{training:Object,allKitas:Array,trainingKitas:Array,errors:Object,multipliers:Array,operators:Array,statuses:Array,types:Array,emailMessages:Object,currentPage:Number,perPage:Number,lastPage:Number,total:Number,paging:Boolean,orderBy:String,sort:String,filters:Object,zipCodes:Array,kitaTypes:Array,usersEmails:Array},setup(S){var Ee,$e,Ce,Fe,Ue,Ke,ze,De,xe,Ae,Pe,Ne,Oe,Me,je,Ze,Be,Le,Ie,Je,He,Ye,qe,Re;const s=S;Fl.Inertia.on("success",n=>{let t=n.detail.page.props;n.detail.page.component==="Trainings/Partials/ManageTraining"&&t&&(m.value=t.training)}),Ul().props.auth.user;const m=c(s.training),V=c(s.errors||{}),g=c(!1),_e=c(null),Ve=c(!1),ne=c(!1),ue=c(!1),se=c(!1),oe=c(!1),re=c(!1),ve=c(!1),pe=c(!1),ke=c(Q(s.training.first_date)),we=c(Q(s.training.second_date)),I=c(new Date(s.training.first_date).toString()),J=c(new Date(s.training.second_date).toString()),ie=c([]),al=c([{label:"Erster Schukungstag",value:`${Q((Ee=m.value)==null?void 0:Ee.first_date)} ${($e=m.value)==null?void 0:$e.first_date_start_and_end_time}`},{label:"Zweiter Schulungstag",value:`${Q((Ce=m.value)==null?void 0:Ce.second_date)} ${(Fe=m.value)==null?void 0:Fe.second_date_start_and_end_time}`},{label:"Ort",value:(Ue=m.value)==null?void 0:Ue.location},{label:"Typ",value:(Ke=m.value)==null?void 0:Ke.type},{label:"Teinhemheranzahl",value:(ze=m.value)==null?void 0:ze.participant_count}]);U(Ve,n=>{n||C()}),U(I,n=>{ke.value=Q(n)}),U(J,n=>{we.value=Q(n)});const C=()=>{Ve.value=!1,_e.value=null,oe.value=!1,re.value=!1,ne.value=!1,ue.value=!1,se.value=!1,z.reset(),z.clearErrors(),F.reset(),F.clearErrors(),D.reset(),D.clearErrors(),V.value={}},tl=()=>{b.reset(),b.clearErrors(),z.reset(),z.clearErrors(),F.reset(),F.clearErrors(),D.reset(),D.clearErrors()},b=me({id:(De=m.value)==null?void 0:De.id,multi_id:(xe=m.value)==null?void 0:xe.multi_id,first_date:(Ae=m.value)==null?void 0:Ae.first_date,first_date_start_and_end_time:(Pe=m.value)==null?void 0:Pe.first_date_start_and_end_time,second_date:(Ne=m.value)==null?void 0:Ne.second_date,second_date_start_and_end_time:(Oe=m.value)==null?void 0:Oe.second_date_start_and_end_time,location:(Me=m.value)==null?void 0:Me.location,max_participant_count:(je=m.value)==null?void 0:je.max_participant_count,type:(Ze=m.value)==null?void 0:Ze.type,notes:(Be=m.value)==null?void 0:Be.notes}),nl=async()=>{b.processing=!0,b.first_date=I.value?new Date(I.value).toLocaleString():null,b.second_date=J.value?new Date(J.value).toLocaleString():null;let n={onSuccess:t=>{C()},onError:t=>{V.value=t},onFinish:()=>{b.processing=!1}};b.put(route("trainings.update",{training:b.id}),n)},ul=()=>{ne.value=!0},sl=()=>{ue.value=!0},ol=()=>{se.value=!0},z=me({id:(Le=m.value)==null?void 0:Le.id,status:null}),fe=async n=>{z.processing=!0,z.status=n;let t={preserveState:!1,onSuccess:u=>{var p,r;if(n==="confirmed"){let i=[];if(ie.value.map(f=>{f==null||f.users_emails.map(w=>{i.push(w)})}),i=i.filter((f,w,T)=>T.indexOf(f)===w),i&&i.length){const f=document.createElement("a"),w=(p=s.emailMessages[n])==null?void 0:p.subject,T=(r=s.emailMessages[n])==null?void 0:r.body;f.href=`mailto:?bcc=${i.join(",")}&subject=${w}&body=${T}`,document.body.appendChild(f),f.click(),document.body.removeChild(f)}ie.value=[]}C()},onError:u=>{V.value=u},onFinish:()=>{z.processing=!1}};z.put(route("trainings.update",{training:z.id}),t)},rl=()=>{oe.value=!0},F=me({kitas:[]}),il=le(()=>{let n=s.trainingKitas.map(t=>t.id);return s.allKitas.filter(t=>!n.includes(t.id))}),dl=le(()=>{var p,r,i,f,w;let t=(s.allKitas.filter(T=>F.kitas.includes(T.id))??[]).map(T=>T.num_pedagogical_staff).reduce((T,de)=>T+de,0),u=t+((p=m.value)==null?void 0:p.participant_count)>((r=m.value)==null?void 0:r.max_participant_count);return u?V.value.kitas=`Sie haben die maximale Teilnehmerzahl (${t+((i=m.value)==null?void 0:i.participant_count)}/${(f=m.value)==null?void 0:f.max_participant_count}) überschritten.`:(w=V.value)==null||delete w.kitas,u}),cl=async()=>{F.processing=!0,F.post(route("trainings.add_kitas",{training:s.training.id}),{onSuccess:n=>{C()},onError:n=>{V.value=n},onFinish:()=>{F.processing=!1}})},ml=n=>{_e.value=n.name,D.kita=n.id,re.value=!0},D=me({kita:null}),_l=async()=>{D.processing=!0;let n={onSuccess:t=>{C()},onError:t=>{V.value=t},onFinish:()=>{D.processing=!1}};D.post(route("trainings.remove_kita",{id:s.training.id}),n)},vl=n=>n.map(t=>{const u={...t};for(const p in u)(u[p]===null||u[p]===void 0)&&(u[p]="-");return u}),pl=[{title:"Name",key:"name",width:"15%",sortable:!0},{title:`Jährliche Rückmeldung ${new Date().getFullYear()} abgeschlossen`,key:"has_yearly_evaluations",width:"25%",sortable:!0},{title:"Zugelassen",key:"approved",width:"10%",sortable:!0},{title:"Träger",key:"operator_id",width:"10%",sortable:!0},{title:"Sonstiger Träger",key:"other_operator",width:"10%",sortable:!0},{title:"Typ",key:"type",width:"10%",sortable:!0},{title:"Postleitzahl",key:"zip_code",width:"10%",sortable:!0},{title:"Aktion",key:"actions",width:"10%",sortable:!1,align:"center"}],Se=c(s==null?void 0:s.currentPage),fl=c(s==null?void 0:s.perPage);c(s==null?void 0:s.orderBy),c(s==null?void 0:s.sort),c(s==null?void 0:s.total),c(s==null?void 0:s.lastPage);const Te=c(""),x=c(((Ie=s==null?void 0:s.filters)==null?void 0:Ie.search)??null),A=c(((Je=s==null?void 0:s.filters)==null?void 0:Je.has_yearly_evaluations)??null),P=c(((He=s==null?void 0:s.filters)==null?void 0:He.approved)??null),N=c(null),O=c(((Ye=s.filters)==null?void 0:Ye.other_operator)??null),M=c(((qe=s==null?void 0:s.filters)==null?void 0:qe.type)??null),j=c(((Re=s==null?void 0:s.filters)==null?void 0:Re.zip_code)??null),gl=[{title:"Ja",value:"true"},{title:"Nein",value:"false"}],bl=[{title:"Ja",value:"true"},{title:"Nein",value:"false"}],X=c([]),ge=c(!1),hl=le(()=>vl(s.trainingKitas)),yl=le(()=>x.value===null&&A.value===null&&P.value===null&&N.value===null&&O.value===null&&M.value===null&&j.value===null),Vl=le(()=>x.value!==null||A.value!==null||P.value!==null||N.value!==null||O.value!==null||M.value!==null||j.value!==null);U(x,ye.debounce(n=>{B()},500)),U(A,n=>{B()}),U(P,n=>{B()}),U(N,n=>{B()}),U(O,ye.debounce(n=>{B()},500)),U(M,n=>{B()}),U(j,ye.debounce(n=>{B()},500));const B=n=>{g.value=!0,Te.value=String(Date.now())},kl=()=>{ge.value=!0,X.value=s.usersEmails.map(n=>n.value)},wl=async({page:n,itemsPerPage:t,sortBy:u,clearFilters:p})=>{if(p&&(x.value=null,A.value=null,P.value=null,N.value=null,O.value=null,M.value=null,j.value=null),n===Se.value&&p||yl||Vl){g.value=!0;let r={page:n,per_page:t};u&&u.length>0?(r.order_by=u[0].key,r.sort=u[0].order):(r.order_by=null,r.sort=null),x.value&&(r.search=x.value),A.value&&(r.has_yearly_evaluations=A.value),P.value&&(r.approved=P.value),N.value&&(r.operator_id=N.value),O.value&&(r.other_operator=O.value),M.value&&(r.type=M.value),j.value&&(r.zip_code=j.value),await zl.get(route(route().current(),{training:b.id}),r,{preserveScroll:!0,preserveState:!0,onCancelToken:i=>{},onCancel:()=>{},onBefore:i=>{g.value=!0},onStart:i=>{},onProgress:i=>{},onSuccess:i=>{Se.value=r.page,fl.value=r.per_page},onError:i=>{console.log(i)},onFinish:i=>{g.value=!1}})}};return(n,t)=>{const u=_("v-col"),p=_("v-btn"),r=_("v-hover"),i=_("v-row"),f=_("v-container"),w=_("v-text-field"),T=_("v-date-picker"),de=_("v-menu"),We=_("v-locale-provider"),Ge=_("v-label"),Z=_("v-select"),Qe=_("v-textarea"),L=_("v-btn-primary"),ce=_("v-icon"),be=_("v-tooltip"),Sl=_("v-data-table-server"),he=_("v-card-title"),Tl=_("v-checkbox"),El=_("v-list-item"),$l=_("v-list"),H=_("v-card-text"),Y=_("v-spacer"),q=_("v-card-actions"),R=_("v-card"),W=_("v-dialog"),Cl=_("v-autocomplete");return k(),ae(te,null,[e(h(Kl),{title:"Verwalte Termin Eigenschaften"}),e(Dl,{errors:V.value},{header:l(()=>[xl]),default:l(()=>[d("div",Al,[e(f,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"3"},{default:l(()=>[Pl]),_:1}),e(u,{cols:"12",sm:"9",class:"text-right"},{default:l(()=>[m.value.status==="planned"?(k(),E(r,{key:0},{default:l(({isHovering:a,props:o})=>[e(p,v({class:"tw-ml-4 tw-mb-4"},o,{color:a?"accent":"primary",dark:"",onClick:ul}),{default:l(()=>[Nl]),_:2},1040,["color"])]),_:1})):$("",!0),m.value.status==="confirmed"?(k(),E(r,{key:1},{default:l(({isHovering:a,props:o})=>[e(p,v({class:"tw-ml-4 tw-mb-4"},o,{color:a?"background":"success",dark:"",onClick:sl}),{default:l(()=>[Ol]),_:2},1040,["color"])]),_:1})):$("",!0),m.value.status!=="completed"&&m.value.status!=="cancelled"&&(n.$page.props.auth.user.is_super_admin||n.$page.props.auth.user.is_admin)?(k(),E(r,{key:2},{default:l(({isHovering:a,props:o})=>[e(p,v({class:"tw-ml-4 tw-mb-4"},o,{color:a?"background":"error",dark:"",onClick:ol}),{default:l(()=>[Ml]),_:2},1040,["color"])]),_:1})):$("",!0)]),_:1})]),_:1})]),_:1}),e(f,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"6"},{default:l(()=>[e(We,{locale:"de"},{default:l(()=>[e(de,{modelValue:ve.value,"onUpdate:modelValue":t[2]||(t[2]=a=>ve.value=a),"return-value":I.value,"close-on-content-click":!1},{activator:l(({props:a})=>[e(w,v({label:"Erster Schulungstag*",class:"tw-cursor-pointer","model-value":ke.value,"error-messages":V.value.first_date,"prepend-icon":"mdi-calendar",readonly:""},a,{disabled:g.value||n.$page.props.auth.user.is_user_multiplier}),null,16,["model-value","error-messages","disabled"])]),default:l(()=>[e(T,{"onUpdate:modelValue":[t[0]||(t[0]=a=>ve.value=!1),t[1]||(t[1]=a=>I.value=a)],modelValue:I.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1}),e(u,{cols:"12",sm:"6"},{default:l(()=>[e(Ge,{class:"tw-mt-6 tw-mr-2"},{default:l(()=>[y("Zeitraum erster Schulungstag*")]),_:1}),e(h(ll),{modelValue:h(b).first_date_start_and_end_time,"onUpdate:modelValue":t[3]||(t[3]=a=>h(b).first_date_start_and_end_time=a),hideClearButton:!0,format:"HH:mm",hourLabel:"Std.",minuteLabel:"Protokoll",disabled:g.value||n.$page.props.auth.user.is_user_multiplier},null,8,["modelValue","hourLabel","disabled"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"6"},{default:l(()=>[e(We,{locale:"de"},{default:l(()=>[e(de,{modelValue:pe.value,"onUpdate:modelValue":t[6]||(t[6]=a=>pe.value=a),"return-value":J.value,"close-on-content-click":!1},{activator:l(({props:a})=>[e(w,v({label:"Zweiter Schulungstag*",class:"tw-cursor-pointer","model-value":we.value,"error-messages":V.value.second_date,"prepend-icon":"mdi-calendar",readonly:""},a,{disabled:g.value||n.$page.props.auth.user.is_user_multiplier}),null,16,["model-value","error-messages","disabled"])]),default:l(()=>[e(T,{"onUpdate:modelValue":[t[4]||(t[4]=a=>pe.value=!1),t[5]||(t[5]=a=>J.value=a)],modelValue:J.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1}),e(u,{cols:"12",sm:"6"},{default:l(()=>[e(Ge,{class:"tw-mt-6 tw-mr-2"},{default:l(()=>[y("Zeitraum zweiter Schulungstag*")]),_:1}),e(h(ll),{modelValue:h(b).second_date_start_and_end_time,"onUpdate:modelValue":t[7]||(t[7]=a=>h(b).second_date_start_and_end_time=a),hideClearButton:!0,format:"HH:mm",hourLabel:"Std.",minuteLabel:"Protokoll",disabled:g.value||n.$page.props.auth.user.is_user_multiplier},null,8,["modelValue","hourLabel","disabled"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"2"},{default:l(()=>[e(w,{type:"number",modelValue:m.value.participant_count,"onUpdate:modelValue":t[8]||(t[8]=a=>m.value.participant_count=a),"error-messages":V.value.participant_count,label:"Teilnehmerzahl*",disabled:g.value||n.$page.props.auth.user.is_user_multiplier,readonly:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(u,{cols:"12",sm:"1",class:"tw-text-center"},{default:l(()=>[jl]),_:1}),e(u,{cols:"12",sm:"2"},{default:l(()=>[e(w,{type:"number",modelValue:h(b).max_participant_count,"onUpdate:modelValue":t[9]||(t[9]=a=>h(b).max_participant_count=a),"error-messages":V.value.max_participant_count,label:"Max. Teilnehmerzahl*",clearable:"",disabled:g.value||n.$page.props.auth.user.is_user_multiplier},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(u,{cols:"12",sm:"3"},{default:l(()=>[e(Z,{modelValue:h(b).type,"onUpdate:modelValue":t[10]||(t[10]=a=>h(b).type=a),"error-messages":V.value.type,items:S.types,"item-title":"title","item-value":"value",label:"Typ*",disabled:g.value||n.$page.props.auth.user.is_user_multiplier,clearable:""},null,8,["modelValue","error-messages","items","disabled"])]),_:1}),e(u,{cols:"12",sm:"4"},{default:l(()=>[e(Z,{modelValue:h(b).multi_id,"onUpdate:modelValue":t[11]||(t[11]=a=>h(b).multi_id=a),"error-messages":V.value.multi_id,items:S.multipliers,"item-title":"full_name","item-value":"id",label:"Multiplikator*",disabled:g.value||n.$page.props.auth.user.is_user_multiplier,clearable:""},null,8,["modelValue","error-messages","items","disabled"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"6"},{default:l(()=>[e(Qe,{modelValue:h(b).location,"onUpdate:modelValue":t[12]||(t[12]=a=>h(b).location=a),"error-messages":V.value.location,label:"Ort*",required:"",disabled:g.value||n.$page.props.auth.user.is_user_multiplier},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(u,{cols:"12",sm:"6"},{default:l(()=>[e(Qe,{modelValue:h(b).notes,"onUpdate:modelValue":t[13]||(t[13]=a=>h(b).notes=a),"error-messages":V.value.notes,label:"Notizen",required:"",disabled:g.value||n.$page.props.auth.user.is_user_multiplier},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"6"},{default:l(()=>[n.$page.props.auth.user.is_super_admin||n.$page.props.auth.user.is_admin?(k(),E(r,{key:0},{default:l(({isHovering:a,props:o})=>[e(p,v({onClick:tl},o,{color:a?"primary":"accent"}),{default:l(()=>[y("Zurücksetzen")]),_:2},1040,["color"])]),_:1})):$("",!0)]),_:1}),e(u,{cols:"12",sm:"6",align:"right"},{default:l(()=>[e(r,null,{default:l(({isHovering:a,props:o})=>[e(h(Xe),{href:n.route("trainings.index")},{default:l(()=>[e(p,v({class:"mr-2",variant:"text"},o,{color:a?"accent":"primary"}),{default:l(()=>[y("Zurück")]),_:2},1040,["color"])]),_:2},1032,["href"])]),_:1}),n.$page.props.auth.user.is_super_admin||n.$page.props.auth.user.is_admin?(k(),E(r,{key:0},{default:l(({isHovering:a,props:o})=>[e(L,v({onClick:nl},o,{color:a?"accent":"primary"}),{default:l(()=>[y(" Speichern ")]),_:2},1040,["color"])]),_:1})):$("",!0)]),_:1})]),_:1})]),_:1}),n.$page.props.auth.user.is_super_admin||n.$page.props.auth.user.is_admin?(k(),ae(te,{key:0},[e(f,null,{default:l(()=>[e(i,{class:"tw-border-t-8 tw-mt-8 tw-pt-8"},{default:l(()=>[e(u,{cols:"12",sm:"6"},{default:l(()=>[Zl]),_:1}),e(u,{cols:"12",sm:"6",class:"text-right"},{default:l(()=>[e(r,null,{default:l(({isHovering:a,props:o})=>[e(p,v(o,{color:a?"accent":"primary",dark:"",onClick:rl}),{default:l(()=>[Bl]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1}),e(f,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"4"},{default:l(()=>[e(w,{modelValue:x.value,"onUpdate:modelValue":t[14]||(t[14]=a=>x.value=a),label:"Name",disabled:g.value,clearable:""},null,8,["modelValue","disabled"])]),_:1}),e(u,{cols:"12",sm:"4"},{default:l(()=>[e(Z,{modelValue:A.value,"onUpdate:modelValue":t[15]||(t[15]=a=>A.value=a),items:gl,label:`Jährliche Rückmeldung ${new Date().getFullYear()} abgeschlossen`,multiple:"",disabled:g.value,clearable:""},null,8,["modelValue","label","disabled"])]),_:1}),e(u,{cols:"12",sm:"4"},{default:l(()=>[e(Z,{modelValue:P.value,"onUpdate:modelValue":t[16]||(t[16]=a=>P.value=a),items:bl,label:"Zugelassen",multiple:"",disabled:g.value,clearable:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"6"},{default:l(()=>[e(Z,{modelValue:N.value,"onUpdate:modelValue":t[17]||(t[17]=a=>N.value=a),items:S.operators,"item-title":"name","item-value":"id",label:"Träger",multiple:"",disabled:g.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1}),e(u,{cols:"12",sm:"6"},{default:l(()=>[e(w,{modelValue:O.value,"onUpdate:modelValue":t[18]||(t[18]=a=>O.value=a),label:"Sonstiger Träger",disabled:g.value,clearable:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12",sm:"6"},{default:l(()=>[e(Z,{modelValue:M.value,"onUpdate:modelValue":t[19]||(t[19]=a=>M.value=a),items:S.kitaTypes,label:"Typ",multiple:"",disabled:g.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1}),e(u,{cols:"12",sm:"6"},{default:l(()=>[e(Z,{modelValue:j.value,"onUpdate:modelValue":t[20]||(t[20]=a=>j.value=a),items:S.zipCodes,label:"Postleitzahl",multiple:"",disabled:g.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12",class:"text-right"},{default:l(()=>[S.usersEmails&&S.usersEmails.length>0?(k(),E(r,{key:0},{default:l(({isHovering:a,props:o})=>[e(p,v(o,{color:a?"accent":"primary",dark:"",onClick:kl}),{default:l(()=>[e(ce,v(o,{size:"small",class:"tw-me-2"}),{default:l(()=>[y("mdi-email")]),_:2},1040),Ll]),_:2},1040,["color"])]),_:1})):$("",!0)]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(Sl,{"items-per-page":-1,headers:pl,items:hl.value,search:Te.value,loading:g.value,class:"data-table-container data-table-container-hide-footer elevation-1","item-value":"name","onUpdate:options":wl},{item:l(({item:a})=>{var o,ee;return[d("tr",{"data-id":a.id,"data-order":a.order},[d("td",null,K(a==null?void 0:a.name),1),d("td",null,K(a!=null&&a.has_yearly_evaluations?"Ja":"Nein"),1),d("td",null,K(a!=null&&a.approved?"Ja":"Nein"),1),d("td",null,K(((o=a==null?void 0:a.operator)==null?void 0:o.name)??"-"),1),d("td",null,K(!((ee=a==null?void 0:a.operator)!=null&&ee.name)&&(a!=null&&a.other_operator)?a==null?void 0:a.other_operator:"-"),1),d("td",null,K((a==null?void 0:a.formatted_type)??(a==null?void 0:a.type)),1),d("td",null,K(a==null?void 0:a.zip_code),1),d("td",Jl,[n.$page.props.auth.user.is_super_admin?(k(),ae(te,{key:0},[a!=null&&a.approved&&(a==null?void 0:a.users_emails.length)>0?(k(),E(be,{key:0,location:"top"},{activator:l(({props:G})=>[d("a",v({href:`mailto:?bcc=${a==null?void 0:a.users_emails.join(",")}`},G),[e(ce,v(G,{size:"small",class:"tw-me-2"}),{default:l(()=>[y("mdi-email")]),_:2},1040)],16,Hl)]),default:l(()=>[Yl]),_:2},1024)):$("",!0)],64)):$("",!0),e(be,{location:"top"},{activator:l(({props:G})=>[e(h(Xe),{href:n.route("kitas.show",{id:a.id})},{default:l(()=>[e(ce,v(G,{size:"small",class:"tw-me-2"}),{default:l(()=>[y("mdi-pencil")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[ql]),_:2},1024),!n.$page.props.auth.user.is_manager&&!n.$page.props.auth.user.is_user_multiplier?(k(),E(be,{key:1,location:"top"},{activator:l(({props:G})=>[e(ce,v(G,{size:"small",class:"tw-me-2",onClick:sa=>ml(a)}),{default:l(()=>[y("mdi-delete ")]),_:2},1040,["onClick"])]),default:l(()=>[Rl]),_:2},1024)):$("",!0)])],8,Il)]}),"no-data":l(()=>[Wl]),_:1},8,["items","search","loading"])]),_:1})]),_:1})]),_:1})],64)):$("",!0),e(f,null,{default:l(()=>[e(i,null,{default:l(()=>[e(W,{modelValue:ne.value,"onUpdate:modelValue":t[23]||(t[23]=a=>ne.value=a),width:"80vw"},{default:l(()=>[e(R,{height:"80vw"},{default:l(()=>[e(he,null,{default:l(()=>[Gl]),_:1}),e(H,null,{default:l(()=>[e(f,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[(k(!0),ae(te,null,el(al.value,a=>(k(),E(i,null,{default:l(()=>[e(u,{cols:"12",sm:"2"},{default:l(()=>[d("span",Ql,K(a==null?void 0:a.label)+":",1)]),_:2},1024),e(u,{cols:"12",sm:"10"},{default:l(()=>[d("span",null,K(a==null?void 0:a.value),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),S.trainingKitas&&S.trainingKitas.length?(k(),E(i,{key:0},{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[Xl,ea]),_:1}),e(u,{cols:"12",class:"tw--mt-6"},{default:l(()=>[e($l,null,{default:l(()=>[(k(!0),ae(te,null,el(S.trainingKitas,a=>(k(),E(El,{class:"hide-details",key:a.id},{default:l(()=>[e(Tl,{class:"!tw-font-bold !tw-font-italic !tw-text-black",label:a.name,value:a,modelValue:ie.value,"onUpdate:modelValue":t[21]||(t[21]=o=>ie.value=o)},null,8,["label","value","modelValue"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):$("",!0)]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(Y),e(r,null,{default:l(({isHovering:a,props:o})=>[e(p,v({onClick:C},o,{color:a?"accent":"primary"}),{default:l(()=>[y("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(r,null,{default:l(({isHovering:a,props:o})=>[e(L,v({onClick:t[22]||(t[22]=ee=>fe("confirmed"))},o,{color:a?"accent":"primary"}),{default:l(()=>[y("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W,{modelValue:ue.value,"onUpdate:modelValue":t[25]||(t[25]=a=>ue.value=a),width:"20vw"},{default:l(()=>[e(R,{height:"30vh"},{default:l(()=>[e(H,null,{default:l(()=>[e(f,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[la]),_:1})]),_:1})]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(Y),e(r,null,{default:l(({isHovering:a,props:o})=>[e(p,v({onClick:C},o,{color:a?"accent":"primary"}),{default:l(()=>[y("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(r,null,{default:l(({isHovering:a,props:o})=>[e(L,v({onClick:t[24]||(t[24]=ee=>fe("completed"))},o,{color:a?"accent":"primary"}),{default:l(()=>[y("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W,{modelValue:se.value,"onUpdate:modelValue":t[27]||(t[27]=a=>se.value=a),width:"20vw"},{default:l(()=>[e(R,{height:"30vh"},{default:l(()=>[e(H,null,{default:l(()=>[e(f,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[aa]),_:1})]),_:1})]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(Y),e(r,null,{default:l(({isHovering:a,props:o})=>[e(p,v({onClick:C},o,{color:a?"accent":"primary"}),{default:l(()=>[y("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(r,null,{default:l(({isHovering:a,props:o})=>[e(L,v({onClick:t[26]||(t[26]=ee=>fe("cancelled"))},o,{color:a?"accent":"primary"}),{default:l(()=>[y("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W,{modelValue:oe.value,"onUpdate:modelValue":t[29]||(t[29]=a=>oe.value=a),width:"80vw"},{default:l(()=>[e(R,{height:"80vh"},{default:l(()=>[e(he,null,{default:l(()=>[ta]),_:1}),e(H,null,{default:l(()=>[e(f,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[na]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[e(Cl,{modelValue:h(F).kitas,"onUpdate:modelValue":t[28]||(t[28]=a=>h(F).kitas=a),items:il.value,"error-messages":V.value.kitas,"item-title":"name","item-value":"id",label:"Kita",multiple:"",required:""},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(Y),e(r,null,{default:l(({isHovering:a,props:o})=>[e(p,v({onClick:C},o,{color:a?"accent":"primary"}),{default:l(()=>[y(" Zurück ")]),_:2},1040,["color"])]),_:1}),e(r,null,{default:l(({isHovering:a,props:o})=>[e(L,v({onClick:cl},o,{color:a?"accent":"primary",disabled:dl.value}),{default:l(()=>[y(" Speichern ")]),_:2},1040,["color","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W,{modelValue:re.value,"onUpdate:modelValue":t[30]||(t[30]=a=>re.value=a),width:"20vw"},{default:l(()=>[e(R,{height:"30vh"},{default:l(()=>[e(H,null,{default:l(()=>[e(f,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[d("p",null,"Möchten Sie die Einrichtung "+K(_e.value)+" wirklich aus der Ausbildung entfernen?",1)]),_:1})]),_:1})]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(Y),e(r,null,{default:l(({isHovering:a,props:o})=>[e(p,v({onClick:C},o,{color:a?"accent":"primary"}),{default:l(()=>[y("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(r,null,{default:l(({isHovering:a,props:o})=>[e(L,v({onClick:_l},o,{color:a?"accent":"primary"}),{default:l(()=>[y("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(u,{cols:"12"},{default:l(()=>[e(W,{modelValue:ge.value,"onUpdate:modelValue":t[32]||(t[32]=a=>ge.value=a),width:"40vw"},{default:l(()=>[e(R,{height:"80vh"},{default:l(()=>[e(he,null,{default:l(()=>[ua]),_:1}),e(H,null,{default:l(()=>[e(f,null,{default:l(()=>[e(i,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[e(Z,{modelValue:X.value,"onUpdate:modelValue":t[31]||(t[31]=a=>X.value=a),items:S.usersEmails,label:"Benutzer",multiple:"",disabled:g.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(Y),e(r,null,{default:l(({isHovering:a,props:o})=>[e(L,v({href:`mailto:?bcc=${X.value.join(",")}`},o,{color:a?"accent":"primary",disabled:!X.value.length}),{default:l(()=>[y(" Öffnen Sie den Mail-Client ")]),_:2},1040,["href","color","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["errors"])],64)}}};export{_a as default};
