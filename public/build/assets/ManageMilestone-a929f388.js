import{d as q}from"./index-f44e1c94.js";import{K as T,k as c,T as F,r as u,o as S,f as j,a as e,u as o,w as t,F as B,Z as C,b as v,i as E,p as w,d as x}from"./app-42fb9fc0.js";import{_ as N}from"./AuthenticatedLayout-c82b7e00.js";import{a as P}from"./common-ba477221.js";import"./ApplicationLogo-8c3c93ee.js";const D=v("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Meilenstein verwalten",-1),G={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},K={class:"tw-flex tw-justify-between"},H={__name:"ManageMilestone",props:{milestone:Object,errors:Object},setup(V){const f=V;q.Inertia.on("success",i=>{let l=i.detail.page.props;i.detail.page.component==="Domains/Partials/ManageMilestone"&&l&&(r.value=l.milestone)}),T().props.auth.user;const r=c(f.milestone),n=c(f.errors||{});c(!1);const h=()=>{a.reset(),a.clearErrors(),n.value={}},a=F({id:r.value.id,subdomain:r.value.subdomain_id,abbreviation:r.value.abbreviation,title:r.value.title,text:r.value.text,emphasis:r.value.emphasis,emphasis_daz:r.value.emphasis_daz,age:r.value.age}),y=async()=>{a.processing=!0,a.put(route("milestones.update",{milestone:a.id}),{preserveState:!1,onSuccess:i=>{h()},onError:i=>{n.value=i},onFinish:()=>{a.processing=!1}})};return(i,l)=>{const d=u("v-text-field"),m=u("v-col"),M=u("v-select"),p=u("v-row"),z=u("v-textarea"),g=u("v-container"),k=u("v-btn"),b=u("v-hover"),U=u("v-btn-primary");return S(),j(B,null,[e(o(C),{title:"Meilenstein verwalten"}),e(N,{errors:n.value},{header:t(()=>[D]),default:t(()=>[v("div",G,[e(g,null,{default:t(()=>[e(p,null,{default:t(()=>[e(m,{cols:"12",sm:"3"},{default:t(()=>[e(d,{modelValue:o(a).abbreviation,"onUpdate:modelValue":l[0]||(l[0]=s=>o(a).abbreviation=s),"error-messages":n.value.abbreviation,label:"Kürzel*",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(m,{cols:"12",sm:"3"},{default:t(()=>[e(M,{modelValue:o(a).age,"onUpdate:modelValue":l[1]||(l[1]=s=>o(a).age=s),items:o(P),"error-messages":n.value.age,"item-title":"age_name","item-value":"age_number",label:"Altersgruppe"},null,8,["modelValue","items","error-messages"])]),_:1}),e(m,{cols:"12",sm:"3"},{default:t(()=>[e(d,{modelValue:o(a).emphasis,"onUpdate:modelValue":l[2]||(l[2]=s=>o(a).emphasis=s),"error-messages":n.value.emphasis,type:"number",label:"Gewichtung*",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(m,{cols:"12",sm:"3"},{default:t(()=>[e(d,{modelValue:o(a).emphasis_daz,"onUpdate:modelValue":l[3]||(l[3]=s=>o(a).emphasis_daz=s),"error-messages":n.value.emphasis_daz,type:"number",label:"Gewichtung mit Daz*",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(p,null,{default:t(()=>[e(m,{cols:"12"},{default:t(()=>[e(d,{modelValue:o(a).title,"onUpdate:modelValue":l[4]||(l[4]=s=>o(a).title=s),"error-messages":n.value.title,label:"Titel*",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(p,null,{default:t(()=>[e(m,{cols:"12"},{default:t(()=>[e(z,{modelValue:o(a).text,"onUpdate:modelValue":l[5]||(l[5]=s=>o(a).text=s),"error-messages":n.value.text,label:"Subtext*",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1}),e(g,null,{default:t(()=>[e(p,null,{default:t(()=>[e(m,{cols:"12",md:"3",sm:"4"},{default:t(()=>[v("div",K,[e(b,null,{default:t(({isHovering:s,props:_})=>[e(o(E),{href:i.route("subdomains.show",{id:r.value.subdomain_id})},{default:t(()=>[e(k,w(_,{color:s?"primary":"accent"}),{default:t(()=>[x("Zurück")]),_:2},1040,["color"])]),_:2},1032,["href"])]),_:1}),e(b,null,{default:t(({isHovering:s,props:_})=>[e(U,w({onClick:y},_,{color:s?"accent":"primary"}),{default:t(()=>[x("Speichern")]),_:2},1040,["color"])]),_:1})])]),_:1})]),_:1})]),_:1})])]),_:1},8,["errors"])],64)}}};export{H as default};
