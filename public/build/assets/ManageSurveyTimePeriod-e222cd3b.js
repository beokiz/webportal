import{d as C}from"./index-56fc51a5.js";import{K as N,h as s,k as U,T as j,r as o,f as z,a as e,u as c,w as t,F as L,o as R,Z,b as S,t as q,m as _,i as I,d as F}from"./app-62b1176d.js";import{_ as J}from"./AuthenticatedLayout-0a50e495.js";import{c as p}from"./common-b6d82cb9.js";import"./ApplicationLogo-049a63df.js";const K={class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},A={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},G=S("h3",null,"Eigenschaften",-1),ee={__name:"ManageSurveyTimePeriod",props:{surveyTimePeriod:Object,errors:Object},setup(y){const u=y;C.Inertia.on("success",l=>{let a=l.detail.page.props;l.detail.page.component==="SurveyTimePeriods/Partials/ManageSurveyTimePeriod"&&a&&(f.value=a.surveyTimePeriod)}),N().props.auth.user;const f=s(u.surveyTimePeriod),i=s(u.errors||{});s(!1);const g=s(!1),w=s(!1),b=s(p(u.surveyTimePeriod.survey_start_date)),x=s(p(u.surveyTimePeriod.survey_end_date)),v=s(new Date(u.surveyTimePeriod.survey_start_date).toString()),m=s(new Date(u.surveyTimePeriod.survey_end_date).toString());U(v,l=>{b.value=p(l)}),U(m,l=>{x.value=p(l)});const n=j({id:f.value.id,year:f.value.year,survey_start_date:null,survey_end_date:null}),M=async()=>{n.processing=!0,n.survey_start_date=new Date(v.value).toLocaleString(),n.survey_end_date=new Date(m.value).toLocaleString();let l={preserveState:!1,onSuccess:a=>{},onError:a=>{i.value=a},onFinish:()=>{n.processing=!1}};n.put(route("survey_time_periods.update",{id:n.id}),l)};return(l,a)=>{const d=o("v-col"),V=o("v-row"),k=o("v-container"),T=o("v-text-field"),h=o("v-date-picker"),E=o("v-menu"),D=o("v-locale-provider"),$=o("v-btn"),O=o("v-hover"),B=o("v-btn-primary");return R(),z(L,null,[e(c(Z),{title:`Verwalte Rückmeldezeitraum ${y.surveyTimePeriod.year}`},null,8,["title"]),e(J,{errors:i.value},{header:t(()=>[S("h2",K,"Verwalte Rückmeldezeitraum "+q(y.surveyTimePeriod.year),1)]),default:t(()=>[S("div",A,[e(k,null,{default:t(()=>[e(V,null,{default:t(()=>[e(d,{cols:"12"},{default:t(()=>[G]),_:1})]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(V,null,{default:t(()=>[e(d,{cols:"12",sm:"4"},{default:t(()=>[e(T,{modelValue:c(n).year,"onUpdate:modelValue":a[0]||(a[0]=r=>c(n).year=r),"error-messages":i.value.year,label:"Jahr*",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",sm:"4"},{default:t(()=>[e(D,{locale:"de"},{default:t(()=>[e(E,{modelValue:g.value,"onUpdate:modelValue":a[3]||(a[3]=r=>g.value=r),"return-value":v.value,"close-on-content-click":!1},{activator:t(({props:r})=>[e(T,_({label:"Erhebungsbeginn*",class:"tw-cursor-pointer","model-value":b.value,"prepend-icon":"mdi-calendar",readonly:""},r,{"error-messages":i.value.survey_start_date}),null,16,["model-value","error-messages"])]),default:t(()=>[e(h,{"onUpdate:modelValue":[a[1]||(a[1]=r=>g.value=!1),a[2]||(a[2]=r=>v.value=r)],modelValue:v.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1}),e(d,{cols:"12",sm:"4"},{default:t(()=>[e(D,{locale:"de"},{default:t(()=>[e(E,{modelValue:w.value,"onUpdate:modelValue":a[6]||(a[6]=r=>w.value=r),"return-value":m.value,"close-on-content-click":!1},{activator:t(({props:r})=>[e(T,_({label:"Erhebungsende*",class:"tw-cursor-pointer","model-value":x.value,"prepend-icon":"mdi-calendar",readonly:""},r,{"error-messages":i.value.survey_end_date}),null,16,["model-value","error-messages"])]),default:t(()=>[e(h,{"onUpdate:modelValue":[a[4]||(a[4]=r=>w.value=!1),a[5]||(a[5]=r=>m.value=r)],modelValue:m.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1})]),_:1}),e(V,null,{default:t(()=>[e(d,{cols:"12",sm:"12",align:"right"},{default:t(()=>[e(O,null,{default:t(({isHovering:r,props:P})=>[e(c(I),{href:l.route("survey_time_periods.index")},{default:t(()=>[e($,_({class:"mr-2",variant:"text"},P,{color:r?"accent":"primary"}),{default:t(()=>[F("Zurück")]),_:2},1040,["color"])]),_:2},1032,["href"])]),_:1}),e(O,null,{default:t(({isHovering:r,props:P})=>[e(B,_({onClick:M},P,{color:r?"accent":"primary"}),{default:t(()=>[F("Speichern ")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1},8,["errors"])],64)}}};export{ee as default};
