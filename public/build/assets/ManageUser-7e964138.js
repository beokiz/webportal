import{d as B}from"./index-b18ae77a.js";import{K as C,x as _,h as U,k as P,T,r as d,o as j,f as A,a as e,u as r,w as l,F as I,Z as O,b as v,i as S,A as h,d as k}from"./app-e941b204.js";import{_ as $}from"./AuthenticatedLayout-d88382df.js";import"./ApplicationLogo-d23b7f20.js";const K=v("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Manage User",-1),L={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},R={class:"tw-flex tw-justify-between"},H={__name:"ManageUser",props:{user:Object,errors:Object,roles:Array},setup(w){const c=w;B.Inertia.on("success",t=>{let a=t.detail.page.props;t.detail.page.component==="Users/ManageUser"&&a&&(m.value=a.user)}),C().props.auth.user;const m=_(c.user),u=_(c.errors||{});_(!1);const g=_(!1),b=_(-1);U(()=>c.items.map(t=>{const a={...t};for(const n in a)(a[n]===null||a[n]===void 0)&&(a[n]="-");return a})),U(()=>b.value===-1?"New Manager":"Edit Manager"),P(g,t=>{t||V()});const V=()=>{g.value=!1,o.reset(),o.clearErrors(),b.value=-1,u.value={}},o=T({id:m.value.id,first_name:m.value.first_name,last_name:m.value.last_name,email:m.value.email,role:m.value.primary_role_id,two_factor_auth_enabled:m.value.two_factor_auth_enabled}),q=async()=>{o.processing=!0;let t={preserveState:!1,onSuccess:a=>{V()},onError:a=>{u.value=a},onFinish:()=>{o.processing=!1}};o.put(route("users.update",{user:o.id}),t)};return(t,a)=>{const n=d("v-text-field"),i=d("v-col"),p=d("v-row"),F=d("v-select"),M=d("v-checkbox"),x=d("v-container"),N=d("v-btn"),y=d("v-hover"),E=d("v-btn-primary");return j(),A(I,null,[e(r(O),{title:"Manage User"}),e($,{errors:u.value},{header:l(()=>[K]),default:l(()=>[v("div",L,[e(x,null,{default:l(()=>[e(p,null,{default:l(()=>[e(i,{cols:"12",sm:"4"},{default:l(()=>[e(n,{modelValue:r(o).first_name,"onUpdate:modelValue":a[0]||(a[0]=s=>r(o).first_name=s),"error-messages":u.value.first_name,label:"First Name",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",sm:"4"},{default:l(()=>[e(n,{modelValue:r(o).last_name,"onUpdate:modelValue":a[1]||(a[1]=s=>r(o).last_name=s),"error-messages":u.value.last_name,label:"Last Name",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",sm:"4"},{default:l(()=>[e(n,{modelValue:r(o).email,"onUpdate:modelValue":a[2]||(a[2]=s=>r(o).email=s),"error-messages":u.value.email,label:"Email",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(p,null,{default:l(()=>[e(i,{cols:"12",sm:"4"},{default:l(()=>[e(n,{type:"password",autocomplete:"new-password",modelValue:r(o).password,"onUpdate:modelValue":a[3]||(a[3]=s=>r(o).password=s),"error-messages":u.value.password,label:"Password",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",sm:"4"},{default:l(()=>[e(n,{type:"password",modelValue:r(o).password_confirmation,"onUpdate:modelValue":a[4]||(a[4]=s=>r(o).password_confirmation=s),"error-messages":u.value.password_confirmation,label:"Password Confirmation",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",sm:"4"},{default:l(()=>[e(F,{disabled:t.$page.props.auth.user.id===m.value.id,modelValue:r(o).role,"onUpdate:modelValue":a[5]||(a[5]=s=>r(o).role=s),items:w.roles,"error-messages":u.value.role,"item-title":"name","item-value":"id",label:"Role",required:""},null,8,["disabled","modelValue","items","error-messages"])]),_:1})]),_:1}),e(p,null,{default:l(()=>[e(i,{cols:"12",sm:"4"},{default:l(()=>[e(M,{modelValue:r(o).two_factor_auth_enabled,"onUpdate:modelValue":a[6]||(a[6]=s=>r(o).two_factor_auth_enabled=s),label:"2-Factor Authentication",value:!0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(x,null,{default:l(()=>[e(p,null,{default:l(()=>[e(i,{cols:"12",md:"3",sm:"4"},{default:l(()=>[v("div",R,[e(y,null,{default:l(({isHovering:s,props:f})=>[e(r(S),{href:t.route("users.index")},{default:l(()=>[e(N,h(f,{color:s?"primary":"accent"}),{default:l(()=>[k("Back")]),_:2},1040,["color"])]),_:2},1032,["href"])]),_:1}),e(y,null,{default:l(({isHovering:s,props:f})=>[e(E,h({onClick:q},f,{color:s?"accent":"primary"}),{default:l(()=>[k("Save")]),_:2},1040,["color"])]),_:1})])]),_:1})]),_:1})]),_:1})])]),_:1},8,["errors"])],64)}}};export{H as default};
