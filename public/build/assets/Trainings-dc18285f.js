import{d as nl}from"./index-d70e546f.js";import{K as sl,j as o,k as ce,l as S,A as $e,T as xe,r as m,o as T,f as le,a as e,u as i,w as l,F as ke,Z as ol,b as r,m as f,d as g,c as Z,h as R,t as D,i as rl,g as Be,O as dl}from"./app-6728af36.js";import{_ as il}from"./AuthenticatedLayout-85bac3b8.js";import{s as je}from"./VueTimepikcer.esm-de70ced9.js";import{c as ae,f as Ie,d as cl,b as ml}from"./common-ea192878.js";import"./ApplicationLogo-406831ea.js";const vl=r("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Schulungen",-1),pl={class:"tw-flex tw-items-center tw-justify-end"},_l=r("span",{class:"tw-text-h5"},"Verwalte Schulungen",-1),fl=r("p",null,"Sind Sie sicher, dass Sie die ausgewählte Schulung löschen möchten?",-1),gl={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},bl={key:0,class:"tw-bg-white tw-flex tw-justify-between tw-px-6 tw-py-6"},Vl={class:"tw-w-full"},hl=["data-id","data-order"],wl={class:"tw-cursor-pointer"},yl={class:"text-center"},kl=["onClick"],Sl=r("span",null,"Schulungstermin bestätigen",-1),Tl=["onClick"],Fl=r("span",null,"Training abschließen und Einrichtungen zulassen",-1),Dl=["onClick"],Cl=r("span",null,"Training abbrechen",-1),Ul=r("span",null,"Schulung bearbeiten",-1),$l=r("span",null,"Schulung löschen",-1),xl={class:"tw-py-6"},Pl={key:0,class:"tw-mb-4"},zl=r("h3",{class:"tw-mb-4"},"Die Tabelle ist leer. Bitte setzen Sie die Suchfilter zurück.",-1),El=r("span",{class:"tw-text-h5"},"Schulung gegenüber den KiTas bestätigen?",-1),Ol={class:"tw-font-bold tw-font-italic"},Al=r("p",{class:"mb-4"},"Sind Sie sich sicher, dass Sie die Termine gegenüber den folgenden KiTas bestätigen wollen? Im Folgenden gibt es individuelle E-Mail-Vorschläge für jede KiTa.",-1),Bl=r("p",null,"Bitte klicken Sie auf den Namen der KiTa, um diesen zu erhalten.",-1),jl=r("p",null,"Möchten Sie die ausgewählte Ausbildung wirklich absolvieren?",-1),Il=r("p",null,"Sind Sie sicher, dass Sie die ausgewählte Schulung stornieren möchten?",-1),ql={__name:"Trainings",props:{items:Array,currentPage:Number,perPage:Number,lastPage:Number,total:Number,paging:Boolean,orderBy:String,sort:String,filters:Object,errors:Object,multipliers:Array,kitas:Array,statuses:Array,types:Array},setup(J){const w=J;nl.Inertia.on("success",u=>{let a=u.detail.page.props;u.detail.page.component==="Trainings/Trainings"&&a&&(me.value=a.currentPage,te.value=a.perPage,Ne.value=a.orderBy,Le.value=a.sort,Pe.value=a.total,Ke.value=a.lastPage)});const q=sl().props.auth.user??{},me=o(w.currentPage),te=o(w.perPage),Ne=o(w.orderBy),Le=o(w.sort),Pe=o(w.total),Ke=o(w.lastPage),O=o(w.filters.location??null),A=o(w.filters.participant_count??null),B=o(w.filters.max_participant_count??null),j=o(w.filters.type??null),I=o(w.filters.multi_id??null),N=o(w.filters.status??null),L=o(w.filters.with_kitas??null),ze=o(""),y=o(w.errors||{}),Se=o(!1),Te=o(!1),Fe=o(!1),De=o(!1),v=o(!1),ve=o(!1),pe=o(!1),_e=o(!1),fe=o(!1),ge=o(!1),He=o(null),be=o(null),Ve=o(null),$=o(null),x=o(null),he=o(null),we=o(null),K=o(null),H=o(null),C=o(null),ue=o([]),ye=o([]),Me=[{title:"Erster Schulungstag",key:"first_date",width:"4%",sortable:!0},{title:"Zweiter Schulungstag",key:"second_date",width:"4%",sortable:!0},{title:"Ort",key:"location",width:"19%",sortable:!0},{title:"Teilnehmer ",key:"prepared_participant_count",width:"5%",sortable:!0},{title:"KiTa",key:"kitas_list",width:"17%",sortable:!1},{title:"Typ",key:"type",width:"7%",sortable:!0},{title:"Status",key:"status",width:"5%",sortable:!0},{title:"Multiplikator",key:"multi_id",width:"7%",sortable:!0},{title:"Geändert am",key:"updated_at",width:"7%",sortable:!0},{title:"Aktion",key:"actions",width:"10%",sortable:!1,align:"center"}],Ze=ce(()=>w.items.map(u=>{const a={...u};for(const V in a)(a[V]===null||a[V]===void 0)&&(a[V]="-");return a})),qe=ce(()=>q!=null&&q.is_user_multiplier?w.types.filter(u=>u.value==="in-house"):w.types),Ee=ce(()=>$.value===null&&x.value===null&&O.value===null&&A.value===null&&B.value===null&&j.value===null&&I.value===null&&N.value===null&&L.value===null),Ge=ce(()=>$.value!==null||x.value!==null||O.value!==null||A.value!==null||B.value!==null||j.value!==null||I.value!==null||N.value!==null||L.value!==null),Re=ce(()=>{var u,a,V,p,c,h,k;return[{label:"Erster Schulungstag",value:`${ae((u=C.value)==null?void 0:u.first_date)} ${(a=C.value)==null?void 0:a.first_date_start_and_end_time}`},{label:"Zweiter Schulungstag",value:`${ae((V=C.value)==null?void 0:V.second_date)} ${(p=C.value)==null?void 0:p.second_date_start_and_end_time}`},{label:"Ort",value:(c=C.value)==null?void 0:c.formatted_location},{label:"Typ",value:(h=C.value)==null?void 0:h.type},{label:"Teilnehmerzahl",value:(k=C.value)==null?void 0:k.participant_count}]});S(ve,u=>{u||P()}),S($,u=>{be.value=u?ae(u):null,U()}),S(x,u=>{Ve.value=u?ae(u):null,U()}),S(be,u=>{U()}),S(Ve,u=>{U()}),S(O,$e.debounce(u=>{U()},500)),S(A,$e.debounce(u=>{U()},500)),S(B,$e.debounce(u=>{U()},500)),S(j,u=>{U()}),S(I,u=>{U()}),S(N,u=>{U()}),S(K,u=>{he.value=ae(u)}),S(H,u=>{we.value=ae(u)}),S(L,u=>{U()});const U=()=>{v.value=!0,ze.value=String(Date.now())},Je=()=>{$.value=null,be.value=null},Qe=()=>{x.value=null,Ve.value=null},Oe=async({page:u,itemsPerPage:a,sortBy:V,clearFilters:p})=>{if(p&&($.value=null,x.value=null,O.value=null,A.value=null,B.value=null,j.value=null,I.value=null,N.value=null,L.value=null),u===me.value&&p||Ee||Ge){v.value=!0;let c={page:u,per_page:a};V&&V.length>0?(c.order_by=V[0].key,c.sort=V[0].order):(c.order_by=null,c.sort=null),$.value&&(c.first_date=$.value.toLocaleString()),x.value&&(c.second_date=x.value.toLocaleString()),O.value&&(c.location=O.value),A.value&&(c.participant_count=A.value),B.value&&(c.max_participant_count=B.value),j.value&&(c.type=j.value),I.value&&(c.with_multipliers=I.value),N.value&&(c.status=N.value),L.value&&(c.with_kitas=L.value),await dl.get(route(route().current()),c,{preserveScroll:!0,preserveState:!0,onCancelToken:h=>{},onCancel:()=>{},onBefore:h=>{v.value=!0},onStart:h=>{},onProgress:h=>{},onSuccess:h=>{me.value=c.page,te.value=c.per_page},onError:h=>{console.log(h)},onFinish:h=>{v.value=!1}})}},We=u=>{He.value=u.name,ne.id=u.id,ge.value=!0},ne=xe({id:null}),Xe=async()=>{ne.processing=!0;let u={onSuccess:a=>{P()},onError:a=>{P(),y.value=a},onFinish:()=>{ne.processing=!1}};ne.delete(route("trainings.destroy",{id:ne.id}),u)},P=()=>{ve.value=!1,pe.value=!1,_e.value=!1,fe.value=!1,ge.value=!1,d.reset(),d.clearErrors(),z.reset(),z.clearErrors(),he.value=null,we.value=null,K.value=null,H.value=null,C.value=null,ue.value=null,y.value={}},Ye=()=>{d.reset(),d.clearErrors(),he.value=null,we.value=null,K.value=null,H.value=null},d=xe({multi_id:q!=null&&q.is_user_multiplier?q.id:null,first_date:null,first_date_start_and_end_time:"12:00",second_date:null,second_date_start_and_end_time:"12:00",location:null,max_participant_count:null,type:null,street:null,house_number:null,zip_code:null,city:null,district:null,notes:null}),el=async()=>{d.processing=!0,d.first_date=K.value?new Date(new Date(K.value).setHours(12,0,0,0)).toISOString():null,d.second_date=H.value?new Date(new Date(H.value).setHours(12,0,0,0)).toISOString():null,d.post(route("trainings.store"),{onSuccess:u=>{P()},onError:u=>{y.value=u},onFinish:()=>{d.processing=!1}})},Ce=(u,a)=>{switch(a){case"confirmed":pe.value=!0;break;case"completed":_e.value=!0;break;case"cancelled":fe.value=!0;break}z.id=u==null?void 0:u.id,z.status=a,C.value=u,ue.value=u==null?void 0:u.kitas},z=xe({id:null,status:null}),Ue=async u=>{z.processing=!0,z.status=u,z.put(route("trainings.update",{training:z.id}),{onSuccess:a=>{var V,p,c,h;if(u==="confirmed"){let k=[];if(ye.value.map(s=>{s==null||s.users_emails.map(M=>{k.push(M)})}),k=k.filter((s,M,b)=>b.indexOf(s)===M),k&&k.length){const s=document.createElement("a"),M=(p=(V=C.value)==null?void 0:V.email_messages[u])==null?void 0:p.subject,b=(h=(c=C.value)==null?void 0:c.email_messages[u])==null?void 0:h.body;s.href=`mailto:?bcc=${k.join(",")}&subject=${M}&body=${b}`,document.body.appendChild(s),s.click(),document.body.removeChild(s)}ye.value=[]}P()},onError:a=>{y.value=a},onFinish:()=>{z.processing=!1}})};return(u,a)=>{const V=m("v-card-title"),p=m("v-text-field"),c=m("v-date-picker"),h=m("v-menu"),k=m("v-locale-provider"),s=m("v-col"),M=m("v-label"),b=m("v-row"),Q=m("v-select"),Ae=m("v-textarea"),W=m("v-container"),se=m("v-card-text"),X=m("v-btn-primary"),F=m("v-hover"),oe=m("v-spacer"),G=m("v-btn"),re=m("v-card-actions"),de=m("v-card"),ie=m("v-dialog"),Y=m("v-icon"),ee=m("v-tooltip"),ll=m("v-data-table-server"),al=m("v-checkbox"),tl=m("v-list-item"),ul=m("v-list");return T(),le(ke,null,[e(i(ol),{title:"Schulungen"}),e(il,{errors:y.value},{header:l(()=>[vl,r("div",pl,[e(F,null,{default:l(({isHovering:t,props:_})=>[e(G,f(_,{color:t?"accent":"primary",dark:""}),{default:l(()=>[g(" Anlegen "),e(ie,{modelValue:ve.value,"onUpdate:modelValue":a[18]||(a[18]=n=>ve.value=n),activator:"parent",width:"80vw"},{default:l(()=>[e(de,{height:"80vh"},{default:l(()=>[e(V,null,{default:l(()=>[_l]),_:1}),e(se,null,{default:l(()=>[e(W,null,{default:l(()=>[e(b,null,{default:l(()=>[e(s,{cols:"12",sm:"6"},{default:l(()=>[e(k,{locale:"de"},{default:l(()=>[e(h,{modelValue:Fe.value,"onUpdate:modelValue":a[2]||(a[2]=n=>Fe.value=n),"return-value":K.value,"close-on-content-click":!1},{activator:l(({props:n})=>[e(p,f({label:"Erster Schulungstag*",class:"tw-cursor-pointer","model-value":he.value,"error-messages":y.value.first_date,"prepend-icon":"mdi-calendar",readonly:"",clearable:""},n,{disabled:v.value}),null,16,["model-value","error-messages","disabled"])]),default:l(()=>[e(c,{"onUpdate:modelValue":[a[0]||(a[0]=n=>Fe.value=!1),a[1]||(a[1]=n=>K.value=n)],modelValue:K.value},null,8,["modelValue"])]),_:2},1032,["modelValue","return-value"])]),_:2},1024)]),_:2},1024),e(s,{cols:"12",sm:"6"},{default:l(()=>[e(M,{class:"tw-mt-6 tw-mr-2"},{default:l(()=>[g("Beginn erster Schulungstag (Uhrzeit)*")]),_:1}),e(i(je),{modelValue:i(d).first_date_start_and_end_time,"onUpdate:modelValue":a[3]||(a[3]=n=>i(d).first_date_start_and_end_time=n),hideClearButton:!0,format:"HH:mm",hourLabel:"Std.",minuteLabel:"Protokoll",disabled:v.value},null,8,["modelValue","hourLabel","disabled"])]),_:1})]),_:2},1024),e(b,null,{default:l(()=>[e(s,{cols:"12",sm:"6"},{default:l(()=>[e(k,{locale:"de"},{default:l(()=>[e(h,{modelValue:De.value,"onUpdate:modelValue":a[6]||(a[6]=n=>De.value=n),"return-value":H.value,"close-on-content-click":!1},{activator:l(({props:n})=>[e(p,f({label:"Zweiter Schulungstag*",class:"tw-cursor-pointer","model-value":we.value,"error-messages":y.value.second_date,"prepend-icon":"mdi-calendar",readonly:"",clearable:""},n,{disabled:v.value}),null,16,["model-value","error-messages","disabled"])]),default:l(()=>[e(c,{"onUpdate:modelValue":[a[4]||(a[4]=n=>De.value=!1),a[5]||(a[5]=n=>H.value=n)],modelValue:H.value},null,8,["modelValue"])]),_:2},1032,["modelValue","return-value"])]),_:2},1024)]),_:2},1024),e(s,{cols:"12",sm:"6"},{default:l(()=>[e(M,{class:"tw-mt-6 tw-mr-2"},{default:l(()=>[g("Beginn zweiter Schulungstag (Uhrzeit)*")]),_:1}),e(i(je),{modelValue:i(d).second_date_start_and_end_time,"onUpdate:modelValue":a[7]||(a[7]=n=>i(d).second_date_start_and_end_time=n),hideClearButton:!0,format:"HH:mm",hourLabel:"Std.",minuteLabel:"Protokoll",disabled:v.value},null,8,["modelValue","hourLabel","disabled"])]),_:1})]),_:2},1024),e(b,null,{default:l(()=>[e(s,{cols:"12",sm:"4"},{default:l(()=>[e(p,{type:"number",modelValue:i(d).max_participant_count,"onUpdate:modelValue":a[8]||(a[8]=n=>i(d).max_participant_count=n),"error-messages":y.value.max_participant_count,label:"Max. Teilnehmerzahl*",disabled:v.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(s,{cols:"12",sm:"4"},{default:l(()=>[e(Q,{modelValue:i(d).type,"onUpdate:modelValue":a[9]||(a[9]=n=>i(d).type=n),"error-messages":y.value.type,items:qe.value,"item-title":"title","item-value":"value",label:"Typ*",disabled:v.value,clearable:""},null,8,["modelValue","error-messages","items","disabled"])]),_:1}),e(s,{cols:"12",sm:"4"},{default:l(()=>[e(Q,{modelValue:i(d).multi_id,"onUpdate:modelValue":a[10]||(a[10]=n=>i(d).multi_id=n),"error-messages":y.value.multi_id,items:J.multipliers,"item-title":"full_name","item-value":"id",label:"Multiplikator*",disabled:v.value||u.$page.props.auth.user.is_user_multiplier,clearable:""},null,8,["modelValue","error-messages","items","disabled"])]),_:2},1024)]),_:2},1024),e(b,null,{default:l(()=>[e(s,{cols:"12",sm:"4"},{default:l(()=>[e(p,{modelValue:i(d).street,"onUpdate:modelValue":a[11]||(a[11]=n=>i(d).street=n),"error-messages":y.value.street,label:"Straße*",disabled:v.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(s,{cols:"12",sm:"4"},{default:l(()=>[e(p,{modelValue:i(d).house_number,"onUpdate:modelValue":a[12]||(a[12]=n=>i(d).house_number=n),"error-messages":y.value.house_number,label:"Hausnummer*",disabled:v.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(s,{cols:"12",sm:"4"},{default:l(()=>[e(p,{modelValue:i(d).zip_code,"onUpdate:modelValue":a[13]||(a[13]=n=>i(d).zip_code=n),"error-messages":y.value.zip_code,label:"Postleitzahl*",disabled:v.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:1}),e(b,null,{default:l(()=>[e(s,{cols:"12",sm:"6"},{default:l(()=>[e(p,{modelValue:i(d).district,"onUpdate:modelValue":a[14]||(a[14]=n=>i(d).district=n),"error-messages":y.value.district,label:"Bezirk",disabled:v.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(s,{cols:"12",sm:"6"},{default:l(()=>[e(p,{modelValue:i(d).city,"onUpdate:modelValue":a[15]||(a[15]=n=>i(d).city=n),"error-messages":y.value.city,label:"Stadt*",disabled:v.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:1}),e(b,null,{default:l(()=>[e(s,{cols:"12",sm:"6"},{default:l(()=>[e(Ae,{modelValue:i(d).location,"onUpdate:modelValue":a[16]||(a[16]=n=>i(d).location=n),"error-messages":y.value.location,label:"Schulungsort*",disabled:v.value,required:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(s,{cols:"12",sm:"6"},{default:l(()=>[e(Ae,{modelValue:i(d).notes,"onUpdate:modelValue":a[17]||(a[17]=n=>i(d).notes=n),"error-messages":y.value.notes,label:"Notizen",disabled:v.value,required:""},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:1})]),_:2},1024)]),_:2},1024),e(re,null,{default:l(()=>[e(F,null,{default:l(({isHovering:n,props:E})=>[e(X,f({onClick:Ye},E,{color:n?"accent":"primary"}),{default:l(()=>[g("Zurücksetzen")]),_:2},1040,["color"])]),_:2},1024),e(oe),e(F,null,{default:l(({isHovering:n,props:E})=>[e(G,f({onClick:P},E,{color:n?"accent":"primary"}),{default:l(()=>[g("Stornieren")]),_:2},1040,["color"])]),_:2},1024),e(F,null,{default:l(({isHovering:n,props:E})=>[e(X,f({onClick:el},E,{color:n?"accent":"primary"}),{default:l(()=>[g("Speichern")]),_:2},1040,["color"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1040,["color"])]),_:1})]),e(ie,{modelValue:ge.value,"onUpdate:modelValue":a[19]||(a[19]=t=>ge.value=t),width:"20vw"},{default:l(()=>[e(de,{height:"30vh"},{default:l(()=>[e(se,null,{default:l(()=>[e(W,null,{default:l(()=>[e(b,null,{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[fl]),_:1})]),_:1})]),_:1})]),_:1}),e(re,null,{default:l(()=>[e(oe),e(F,null,{default:l(({isHovering:t,props:_})=>[e(G,f({onClick:P},_,{color:t?"accent":"primary"}),{default:l(()=>[g("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(F,null,{default:l(({isHovering:t,props:_})=>[e(X,f({onClick:Xe},_,{color:t?"accent":"primary"}),{default:l(()=>[g("Löschen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),default:l(()=>[r("div",gl,[u.$page.props.auth.user.is_super_admin||u.$page.props.auth.user.is_admin?(T(),le("div",bl,[r("div",Vl,[e(b,null,{default:l(()=>[e(s,{cols:"12",sm:"4"},{default:l(()=>[e(k,{locale:"de"},{default:l(()=>[e(h,{modelValue:Se.value,"onUpdate:modelValue":a[22]||(a[22]=t=>Se.value=t),"return-value":$.value,"close-on-content-click":!1},{activator:l(({props:t})=>[e(p,f({label:"Erster Schulungstag",class:"tw-cursor-pointer","model-value":be.value,"prepend-icon":"mdi-calendar",readonly:"",clearable:""},t,{"onClick:clear":Je}),null,16,["model-value"])]),default:l(()=>[e(c,{"onUpdate:modelValue":[a[20]||(a[20]=t=>Se.value=!1),a[21]||(a[21]=t=>$.value=t)],modelValue:$.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1}),e(s,{cols:"12",sm:"4"},{default:l(()=>[e(k,{locale:"de"},{default:l(()=>[e(h,{modelValue:Te.value,"onUpdate:modelValue":a[25]||(a[25]=t=>Te.value=t),"return-value":x.value,"close-on-content-click":!1},{activator:l(({props:t})=>[e(p,f({label:"Zweiter Schulungstag",class:"tw-cursor-pointer","model-value":Ve.value,"prepend-icon":"mdi-calendar",readonly:"",clearable:""},t,{"onClick:clear":Qe}),null,16,["model-value"])]),default:l(()=>[e(c,{modelValue:x.value,"onUpdate:modelValue":[a[23]||(a[23]=t=>x.value=t),a[24]||(a[24]=t=>Te.value=!1)]},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1}),e(s,{cols:"12",sm:"4"},{default:l(()=>[e(p,{modelValue:O.value,"onUpdate:modelValue":a[26]||(a[26]=t=>O.value=t),label:"Ort",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,null,{default:l(()=>[e(s,{cols:"12",sm:"4"},{default:l(()=>[e(p,{type:"number",modelValue:A.value,"onUpdate:modelValue":a[27]||(a[27]=t=>A.value=t),label:"Teilnehmerzahl",clearable:""},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",sm:"4"},{default:l(()=>[e(p,{type:"number",modelValue:B.value,"onUpdate:modelValue":a[28]||(a[28]=t=>B.value=t),label:"Max. Teilnehmerzahl",clearable:""},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",sm:"4"},{default:l(()=>[e(Q,{modelValue:j.value,"onUpdate:modelValue":a[29]||(a[29]=t=>j.value=t),items:J.types,"item-title":"title","item-value":"value",label:"Typ",multiple:"",disabled:v.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1}),e(b,null,{default:l(()=>[e(s,{cols:"12",sm:"4"},{default:l(()=>[e(Q,{modelValue:N.value,"onUpdate:modelValue":a[30]||(a[30]=t=>N.value=t),items:J.statuses,"item-title":"title","item-value":"value",label:"Status",multiple:"",disabled:v.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1}),e(s,{cols:"12",sm:"4"},{default:l(()=>[u.$page.props.auth.user.is_super_admin||u.$page.props.auth.user.is_admin?(T(),Z(Q,{key:0,modelValue:I.value,"onUpdate:modelValue":a[31]||(a[31]=t=>I.value=t),items:J.multipliers,"item-title":"full_name","item-value":"id",label:"Multiplikator",multiple:"",disabled:v.value,clearable:""},null,8,["modelValue","items","disabled"])):R("",!0)]),_:1}),e(s,{cols:"12",sm:"4"},{default:l(()=>[e(Q,{modelValue:L.value,"onUpdate:modelValue":a[32]||(a[32]=t=>L.value=t),items:J.kitas,"item-title":"name","item-value":"id",label:"KiTa",multiple:"",disabled:v.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})])])):R("",!0),e(ll,{"items-per-page":te.value,"onUpdate:itemsPerPage":a[34]||(a[34]=t=>te.value=t),"items-per-page-options":[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],"items-per-page-text":"Objekte pro Seite:",headers:Me,page:me.value,"items-length":Pe.value,items:Ze.value,search:ze.value,loading:v.value,class:"data-table-container elevation-1","item-value":"name","onUpdate:options":Oe},{item:l(({item:t})=>{var _;return[r("tr",{"data-id":t.id,"data-order":t.order},[r("td",null,D(!t.first_date||t.first_date==="-"?t.first_date:i(Ie)(t.first_date,"de-DE")),1),r("td",null,D(!t.second_date||t.second_date==="-"?t.second_date:i(Ie)(t.second_date,"de-DE")),1),r("td",null,D(t.formatted_location),1),r("td",null,D(t.prepared_participant_count),1),r("td",null,D(t!=null&&t.kitas_list&&(t!=null&&t.kitas_list.length)?t==null?void 0:t.kitas_list.join(","):"-"),1),r("td",null,D(t.formatted_type),1),r("td",null,[e(ee,{location:"top"},{activator:l(({props:n})=>[r("span",wl,[e(Y,f(n,{size:"small",class:"tw-me-2"}),{default:l(()=>[g(D(i(cl)(t.status)),1)]),_:2},1040)])]),default:l(()=>[r("span",null,D(t.formatted_status),1)]),_:2},1024)]),r("td",null,D(t!=null&&t.multiplier?(_=t==null?void 0:t.multiplier)==null?void 0:_.full_name:"-"),1),r("td",null,D(!t.updated_at||t.updated_at==="-"?t.updated_at:i(ml)(t.updated_at,"de-DE")),1),r("td",yl,[t.status==="planned"?(T(),Z(ee,{key:0,location:"top"},{activator:l(({props:n})=>[r("span",{class:"tw-cursor-pointer",onClick:E=>Ce(t,"confirmed")},[e(Y,f(n,{size:"small",class:"tw-me-2"}),{default:l(()=>[g("mdi-progress-check")]),_:2},1040)],8,kl)]),default:l(()=>[Sl]),_:2},1024)):R("",!0),t.status==="confirmed"?(T(),Z(ee,{key:1,location:"top"},{activator:l(({props:n})=>[r("span",{class:"tw-cursor-pointer",onClick:E=>Ce(t,"completed")},[e(Y,f(n,{size:"small",class:"tw-me-2"}),{default:l(()=>[g("mdi-check")]),_:2},1040)],8,Tl)]),default:l(()=>[Fl]),_:2},1024)):R("",!0),t.status!=="completed"&&t.status!=="cancelled"&&(u.$page.props.auth.user.is_super_admin||u.$page.props.auth.user.is_admin)?(T(),Z(ee,{key:2,location:"top"},{activator:l(({props:n})=>[r("span",{class:"tw-cursor-pointer",onClick:E=>Ce(t,"cancelled")},[e(Y,f(n,{size:"small",class:"tw-me-2"}),{default:l(()=>[g("mdi-close")]),_:2},1040)],8,Dl)]),default:l(()=>[Cl]),_:2},1024)):R("",!0),e(ee,{location:"top"},{activator:l(({props:n})=>[e(i(rl),{href:u.route("trainings.show",{id:t.id})},{default:l(()=>[e(Y,f(n,{size:"small",class:"tw-me-2"}),{default:l(()=>[g("mdi-pencil")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[Ul]),_:2},1024),u.$page.props.auth.user.is_super_admin||u.$page.props.auth.user.is_admin?(T(),Z(ee,{key:3,location:"top"},{activator:l(({props:n})=>[e(Y,f(n,{size:"small",class:"tw-me-2",onClick:E=>We(t)}),{default:l(()=>[g("mdi-delete")]),_:2},1040,["onClick"])]),default:l(()=>[$l]),_:2},1024)):R("",!0)])],8,hl)]}),"no-data":l(()=>[r("div",xl,[Ee.value?(T(),le("h3",Pl,"Die Tabelle ist leer.")):(T(),le(ke,{key:1},[zl,e(G,{color:"primary",onClick:a[33]||(a[33]=t=>Oe({page:1,itemsPerPage:te.value,clearFilters:!0}))},{default:l(()=>[g("Reset")]),_:1})],64))])]),_:1},8,["items-per-page","items-per-page-options","page","items-length","items","search","loading"]),e(W,null,{default:l(()=>[e(b,null,{default:l(()=>[e(ie,{modelValue:pe.value,"onUpdate:modelValue":a[37]||(a[37]=t=>pe.value=t),width:"80vw"},{default:l(()=>[e(de,{height:"80vw"},{default:l(()=>[e(V,null,{default:l(()=>[El]),_:1}),e(se,null,{default:l(()=>[e(W,null,{default:l(()=>[e(b,null,{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[(T(!0),le(ke,null,Be(Re.value,t=>(T(),Z(b,null,{default:l(()=>[e(s,{cols:"12",sm:"2"},{default:l(()=>[r("span",Ol,D(t==null?void 0:t.label)+":",1)]),_:2},1024),e(s,{cols:"12",sm:"10"},{default:l(()=>[r("span",null,D(t==null?void 0:t.value),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),ue.value&&ue.value.length?(T(),Z(b,{key:0},{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[Al,Bl]),_:1}),e(s,{cols:"12",class:"tw--mt-6"},{default:l(()=>[e(ul,null,{default:l(()=>[(T(!0),le(ke,null,Be(ue.value,t=>(T(),Z(tl,{class:"hide-details",key:t.id},{default:l(()=>[e(al,{class:"!tw-font-bold !tw-font-italic !tw-text-black",label:t.name,value:t,modelValue:ye.value,"onUpdate:modelValue":a[35]||(a[35]=_=>ye.value=_)},null,8,["label","value","modelValue"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):R("",!0)]),_:1})]),_:1}),e(re,null,{default:l(()=>[e(oe),e(F,null,{default:l(({isHovering:t,props:_})=>[e(G,f({onClick:P},_,{color:t?"accent":"primary"}),{default:l(()=>[g("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(F,null,{default:l(({isHovering:t,props:_})=>[e(X,f({onClick:a[36]||(a[36]=n=>Ue("confirmed"))},_,{color:t?"accent":"primary"}),{default:l(()=>[g("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ie,{modelValue:_e.value,"onUpdate:modelValue":a[39]||(a[39]=t=>_e.value=t),width:"20vw"},{default:l(()=>[e(de,{height:"30vh"},{default:l(()=>[e(se,null,{default:l(()=>[e(W,null,{default:l(()=>[e(b,null,{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[jl]),_:1})]),_:1})]),_:1})]),_:1}),e(re,null,{default:l(()=>[e(oe),e(F,null,{default:l(({isHovering:t,props:_})=>[e(G,f({onClick:P},_,{color:t?"accent":"primary"}),{default:l(()=>[g("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(F,null,{default:l(({isHovering:t,props:_})=>[e(X,f({onClick:a[38]||(a[38]=n=>Ue("completed"))},_,{color:t?"accent":"primary"}),{default:l(()=>[g("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ie,{modelValue:fe.value,"onUpdate:modelValue":a[41]||(a[41]=t=>fe.value=t),width:"20vw"},{default:l(()=>[e(de,{height:"30vh"},{default:l(()=>[e(se,null,{default:l(()=>[e(W,null,{default:l(()=>[e(b,null,{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[Il]),_:1})]),_:1})]),_:1})]),_:1}),e(re,null,{default:l(()=>[e(oe),e(F,null,{default:l(({isHovering:t,props:_})=>[e(G,f({onClick:P},_,{color:t?"accent":"primary"}),{default:l(()=>[g("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(F,null,{default:l(({isHovering:t,props:_})=>[e(X,f({onClick:a[40]||(a[40]=n=>Ue("cancelled"))},_,{color:t?"accent":"primary"}),{default:l(()=>[g("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["errors"])],64)}}};export{ql as default};
