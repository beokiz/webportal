import{d as Le}from"./index-571ccafa.js";import{K as Ge,k as p,m as T,T as X,h as se,A as re,r as h,n as He,f as Se,a as e,u as s,w as l,F as Ce,o as $,Z as Je,b as i,t as D,p as v,d as b,i as Fe,c as Y,g as ee,q as We,y as Qe,O as Xe}from"./app-4345c949.js";import{_ as Ye}from"./AuthenticatedLayout-2769fb0f.js";import"./ApplicationLogo-f71885ec.js";const el={class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},ll={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},al=i("h3",null,"Eigenschaften",-1),tl=i("h4",null,"Adresse",-1),ol=i("h4",null,"Eigenschaften",-1),sl=i("h3",null,"Zugeordnete Benutzer",-1),rl={class:"tw-flex tw-items-center tw-justify-end"},ul=i("span",{class:"tw-text-h5"},"Verbinden Benutzer",-1),nl=i("p",null,"Wählen Sie die Benutzer aus, die Sie diesem Einrichtung hinzufügen möchten",-1),il=i("span",{class:"tw-text-h5"},"Neue Benutzer",-1),dl={class:"tw-bg-white tw-flex tw-justify-between tw-px-6 tw-py-6"},ml={class:"tw-w-full"},cl=i("span",null,"Schreibe E-Mail an Auswahl",-1),_l=["data-id","data-order"],fl={align:"center"},pl={align:"right"},vl=["href"],gl=i("span",null,"Schreibe E-Mail",-1),bl=i("span",null,"Benutzer bearbeiten",-1),hl=i("span",null,"Benutzer löschen",-1),Vl=i("div",{class:"tw-py-6"},[i("h3",{class:"tw-mb-4"},"Die Tabelle ist leer.")],-1),yl=i("span",{class:"tw-text-h5"},"Schreibe E-Mail an Auswahl",-1),Sl={__name:"ManageKita",props:{kita:Object,kitaUsers:Array,errors:Object,roles:Array,types:Array,operators:Array,users:Array,currentPage:Number,perPage:Number,lastPage:Number,total:Number,paging:Boolean,orderBy:String,sort:String,filters:Object,usersEmails:Array},setup(U){var de,me,ce,_e,fe,pe,ve,ge,be,he,Ve;const V=U;Le.Inertia.on("success",r=>{let a=r.detail.page.props;r.detail.page.component==="Kitas/Partials/ManageKita"&&a&&(w.value=a.kita)}),Ge().props.auth.user;const w=p(V.kita),_=p(V.errors||{}),C=p(!1),ue=p(null),j=p(!1),le=p(!1),I=p(!1);T(j,r=>{r||E()});const E=()=>{j.value=!1,le.value=!1,I.value=!1,L.value=!1,g.reset(),g.clearErrors(),z.reset(),z.clearErrors(),_.value={}},ae=()=>{g.reset(),g.clearErrors(),z.reset(),z.clearErrors(),u.reset(),u.clearErrors(),u.zip_code=null,u.name=null,u.number=null,u.provider_of_the_kita=null,u.street=null,u.house_number=null,u.additional_info=null,u.city=null},xe=r=>{ue.value=r.full_name,R.user=r.id,I.value=!0},R=X({user:null}),Ne=async()=>{R.processing=!0;let r={onSuccess:a=>{E()},onError:a=>{_.value=a},onFinish:()=>{R.processing=!1}};R.post(route("kitas.disconnect_user",{id:V.kita.id}),r)},u=X({id:w.value.id,name:(de=w.value)==null?void 0:de.name,number:(me=w.value)==null?void 0:me.number,street:(ce=w.value)==null?void 0:ce.street,house_number:(_e=w.value)==null?void 0:_e.house_number,additional_info:(fe=w.value)==null?void 0:fe.additional_info,zip_code:(pe=w.value)==null?void 0:pe.zip_code,operator_id:(ve=w.value)==null?void 0:ve.operator_id,city:(ge=w.value)==null?void 0:ge.city,num_pedagogical_staff:(be=w.value)==null?void 0:be.num_pedagogical_staff,approved:(he=w.value)==null?void 0:he.approved,type:(Ve=w.value)==null?void 0:Ve.type}),Be=async()=>{u.processing=!0;let r={preserveState:!1,onSuccess:a=>{E()},onError:a=>{_.value=a},onFinish:()=>{u.processing=!1}};u.put(route("kitas.update",{kita:u.id}),r)},g=X({first_name:null,last_name:null,email:null,role:null,two_factor_auth_enabled:!1,phone_number:null,kitas:[w.value.id]}),qe=async()=>{g.processing=!0,g.post(route("users.store_from_kita"),{onSuccess:r=>{E()},onError:r=>{_.value=r},onFinish:()=>{g.processing=!1}})},z=X({users:null,kitas:[w.value.id]}),Ae=async()=>{z.processing=!0,z.post(route("kitas.connect_users",{kita:g.kitas}),{onSuccess:r=>{E()},onError:r=>{_.value=r},onFinish:()=>{z.processing=!1}})},Ke=[{title:"Status",key:"is_online",width:"5%",sortable:!1,align:"center"},{title:"Vorname",key:"first_name",width:"17.5%",sortable:!0},{title:"Nachname",key:"last_name",width:"17.5%",sortable:!0},{title:"E-Mail",key:"email",width:"25%",sortable:!0},{title:"Rolle",key:"primary_role_name",width:"20%",sortable:!0},{title:"Aktion",key:"actions",width:"15%",sortable:!1,align:"center"}],Pe=[{title:"Ja",value:"true"},{title:"Nein",value:"false"}],ne=p(V.currentPage),Te=p(V.perPage);p(V.orderBy),p(V.sort),p(V.total),p(V.lastPage);const F=p(V.filters.status??null),x=p(V.filters.first_name??null),N=p(V.filters.last_name??null),B=p(V.filters.email??null),q=p(V.filters.roles??null),ie=p(""),Z=p([]),L=p(!1),$e=se(()=>V.kitaUsers.map(r=>{const a={...r};for(const o in a)(a[o]===null||a[o]===void 0)&&(a[o]="-");return a})),De=se(()=>F.value===null&&x.value===null&&N.value===null&&B.value===null&&q.value===null),Ze=se(()=>F.value!==null||x.value!==null||N.value!==null||B.value!==null||q.value!==null);T(F,r=>{M()}),T(x,re.debounce(r=>{M()},500)),T(N,re.debounce(r=>{M()},500)),T(B,re.debounce(r=>{M()},500)),T(q,r=>{M()});const M=()=>{C.value=!0,ie.value=String(Date.now())},Me=()=>{L.value=!0,Z.value=V.usersEmails.map(r=>r.value)},Oe=async({page:r,itemsPerPage:a,sortBy:o,clearFilters:d})=>{if(d&&(F.value=null,x.value=null,N.value=null,B.value=null,q.value=null),r===ne.value&&d||De||Ze){C.value=!0;let f={page:r,per_page:a};o&&o.length>0?(f.order_by=o[0].key,f.sort=o[0].order):(f.order_by=null,f.sort=null),F.value&&(f.status=F.value),x.value&&(f.first_name=x.value),N.value&&(f.last_name=N.value),B.value&&(f.email=B.value),q.value&&(f.with_roles=q.value),await Xe.get(route(route().current(),{kita:u.id}),f,{preserveScroll:!0,preserveState:!0,onCancelToken:m=>{},onCancel:()=>{},onBefore:m=>{C.value=!0},onStart:m=>{},onProgress:m=>{},onSuccess:m=>{ne.value=f.page,Te.value=f.per_page},onError:m=>{console.log(m)},onFinish:m=>{C.value=!1}})}};return(r,a)=>{const o=h("v-col"),d=h("v-row"),f=h("v-container"),m=h("v-text-field"),K=h("v-select"),ye=h("v-checkbox"),S=h("v-btn"),y=h("v-hover"),A=h("v-btn-primary"),te=h("v-card-title"),je=h("v-autocomplete"),G=h("v-card-text"),H=h("v-spacer"),J=h("v-card-actions"),W=h("v-card"),Q=h("v-dialog"),O=h("v-icon"),oe=h("v-tooltip"),Ie=h("v-data-table-server"),Re=He("sortable-data-table");return $(),Se(Ce,null,[e(s(Je),{title:`Verwalte Einrichtung ${U.kita.name}`},null,8,["title"]),e(Ye,{errors:_.value},{header:l(()=>[i("h2",el,"Verwalte Einrichtung "+D(U.kita.name),1)]),default:l(()=>[i("div",ll,[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[al]),_:1})]),_:1})]),_:1}),e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[tl]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(u).name,"onUpdate:modelValue":a[0]||(a[0]=t=>s(u).name=t),"error-messages":_.value.name,label:"Name der Einrichtung / Einrichtung*",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(u).number,"onUpdate:modelValue":a[1]||(a[1]=t=>s(u).number=t),"error-messages":_.value.number,label:"Kita Nummer*",type:"number",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(u).street,"onUpdate:modelValue":a[2]||(a[2]=t=>s(u).street=t),"error-messages":_.value.street,label:"Straße*",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(u).house_number,"onUpdate:modelValue":a[3]||(a[3]=t=>s(u).house_number=t),"error-messages":_.value.house_number,label:"Hausnummer*",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[e(m,{modelValue:s(u).additional_info,"onUpdate:modelValue":a[4]||(a[4]=t=>s(u).additional_info=t),"error-messages":_.value.additional_info,label:"Sonstiges",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(u).zip_code,"onUpdate:modelValue":a[5]||(a[5]=t=>s(u).zip_code=t),"error-messages":_.value.zip_code,label:"Postleitzahl*",type:"number",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(u).city,"onUpdate:modelValue":a[6]||(a[6]=t=>s(u).city=t),"error-messages":_.value.city,label:"Stadt*",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[ol]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(K,{modelValue:s(u).operator_id,"onUpdate:modelValue":a[7]||(a[7]=t=>s(u).operator_id=t),items:U.operators,"error-messages":_.value.operator_id,"item-title":"name","item-value":"id",label:"Träger der Einrichtung*",required:""},null,8,["modelValue","items","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(u).num_pedagogical_staff,"onUpdate:modelValue":a[8]||(a[8]=t=>s(u).num_pedagogical_staff=t),"error-messages":_.value.num_pedagogical_staff,label:"Größe pädagogisches Team",type:"number"},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(ye,{modelValue:s(u).approved,"onUpdate:modelValue":a[9]||(a[9]=t=>s(u).approved=t),label:"Kita zur Ampel zugelassen",value:!0},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(K,{modelValue:s(u).type,"onUpdate:modelValue":a[10]||(a[10]=t=>s(u).type=t),items:U.types,"error-messages":_.value.type,label:"Typ*",required:""},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(y,null,{default:l(({isHovering:t,props:c})=>[e(S,v({onClick:ae},c,{color:t?"primary":"accent"}),{default:l(()=>[b("Zurücksetzen")]),_:2},1040,["color"])]),_:1})]),_:1}),e(o,{cols:"12",sm:"6",align:"right"},{default:l(()=>[e(y,null,{default:l(({isHovering:t,props:c})=>[e(s(Fe),{href:r.route("kitas.index")},{default:l(()=>[e(S,v({class:"mr-2",variant:"text"},c,{color:t?"accent":"primary"}),{default:l(()=>[b("Zurück")]),_:2},1040,["color"])]),_:2},1032,["href"])]),_:1}),e(y,null,{default:l(({isHovering:t,props:c})=>[e(A,v({onClick:Be},c,{color:t?"accent":"primary"}),{default:l(()=>[b("Speichern ")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1}),r.$page.props.auth.user.is_super_admin||r.$page.props.auth.user.is_admin||r.$page.props.auth.user.is_manager?($(),Se(Ce,{key:0},[e(f,null,{default:l(()=>[e(d,{class:"tw-border-t-8 tw-mt-8 tw-pt-8"},{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[sl]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[i("div",rl,[r.$page.props.auth.user.is_super_admin||r.$page.props.auth.user.is_admin?($(),Y(y,{key:0},{default:l(({isHovering:t,props:c})=>[e(S,v(c,{color:t?"accent":"primary",dark:"",class:"mr-2"}),{default:l(()=>[b(" Benutzer verbinden "),e(Q,{modelValue:le.value,"onUpdate:modelValue":a[12]||(a[12]=n=>le.value=n),activator:"parent",width:"80vw"},{default:l(()=>[e(W,{height:"80vh"},{default:l(()=>[e(te,null,{default:l(()=>[ul]),_:1}),e(G,null,{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[nl]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[e(je,{modelValue:s(z).users,"onUpdate:modelValue":a[11]||(a[11]=n=>s(z).users=n),items:U.users,"error-messages":_.value.users,"item-title":"full_name","item-value":"id",label:"User",multiple:"",required:""},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(J,null,{default:l(()=>[e(y,null,{default:l(({isHovering:n,props:k})=>[e(A,v({onClick:ae},k,{color:n?"primary":"accent"}),{default:l(()=>[b("Zurücksetzen")]),_:2},1040,["color"])]),_:2},1024),e(H),e(y,null,{default:l(({isHovering:n,props:k})=>[e(S,v({onClick:E},k,{color:n?"accent":"primary"}),{default:l(()=>[b("Zurück")]),_:2},1040,["color"])]),_:2},1024),e(y,null,{default:l(({isHovering:n,props:k})=>[e(A,v({onClick:Ae},k,{color:n?"accent":"primary"}),{default:l(()=>[b("Speichern")]),_:2},1040,["color"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1040,["color"])]),_:1})):ee("",!0),e(y,null,{default:l(({isHovering:t,props:c})=>[e(S,v(c,{color:t?"accent":"primary",dark:""}),{default:l(()=>[b(" Benutzer hinzufügen "),e(Q,{modelValue:j.value,"onUpdate:modelValue":a[19]||(a[19]=n=>j.value=n),activator:"parent",width:"80vw"},{default:l(()=>[e(W,{height:"80vh"},{default:l(()=>[e(te,null,{default:l(()=>[il]),_:1}),e(G,null,{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(g).first_name,"onUpdate:modelValue":a[13]||(a[13]=n=>s(g).first_name=n),"error-messages":_.value.first_name,label:"Vorname",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(g).last_name,"onUpdate:modelValue":a[14]||(a[14]=n=>s(g).last_name=n),"error-messages":_.value.last_name,label:"Nachname",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(g).email,"onUpdate:modelValue":a[15]||(a[15]=n=>s(g).email=n),"error-messages":_.value.email,label:"Email",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:s(g).phone_number,"onUpdate:modelValue":a[16]||(a[16]=n=>s(g).phone_number=n),"error-messages":_.value.phone_number,label:"Telefonnummer"},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(K,{modelValue:s(g).role,"onUpdate:modelValue":a[17]||(a[17]=n=>s(g).role=n),items:U.roles,"error-messages":_.value.role,"item-title":"human_name","item-value":"id",label:"Role",required:""},null,8,["modelValue","items","error-messages"])]),_:1}),e(o,{cols:"12",md:"4",sm:"6"},{default:l(()=>[e(ye,{modelValue:s(g).two_factor_auth_enabled,"onUpdate:modelValue":a[18]||(a[18]=n=>s(g).two_factor_auth_enabled=n),label:"Zwei-Faktor-Authentifizierung",value:!0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(J,null,{default:l(()=>[e(y,null,{default:l(({isHovering:n,props:k})=>[e(A,v({onClick:ae},k,{color:n?"primary":"accent"}),{default:l(()=>[b("Zurücksetzen")]),_:2},1040,["color"])]),_:2},1024),e(H),e(y,null,{default:l(({isHovering:n,props:k})=>[e(S,v({onClick:E},k,{color:n?"accent":"primary"}),{default:l(()=>[b("Zurück")]),_:2},1040,["color"])]),_:2},1024),e(y,null,{default:l(({isHovering:n,props:k})=>[e(A,v({onClick:qe},k,{color:n?"accent":"primary"}),{default:l(()=>[b("Speichern")]),_:2},1040,["color"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1040,["color"])]),_:1})])]),_:1})]),_:1})]),_:1}),e(f,null,{default:l(()=>[e(Q,{modelValue:I.value,"onUpdate:modelValue":a[20]||(a[20]=t=>I.value=t),width:"20vw"},{default:l(()=>[e(W,{height:"30vh"},{default:l(()=>[e(G,null,{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[i("p",null,"Sind Sie sicher, dass Sie den Benutzer "+D(ue.value)+" aus Einrichtung Liste löschen möchten? (Der Benutzer wird vom aktuellen Einrichtung getrennt)",1)]),_:1})]),_:1})]),_:1})]),_:1}),e(J,null,{default:l(()=>[e(H),e(y,null,{default:l(({isHovering:t,props:c})=>[e(S,v({onClick:E},c,{color:t?"accent":"primary"}),{default:l(()=>[b("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(y,null,{default:l(({isHovering:t,props:c})=>[e(A,v({onClick:Ne},c,{color:t?"accent":"primary"}),{default:l(()=>[b("Löschen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[i("div",dl,[i("div",ml,[e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"4"},{default:l(()=>[e(K,{modelValue:F.value,"onUpdate:modelValue":a[21]||(a[21]=t=>F.value=t),items:Pe,"item-title":"title","item-value":"value",label:"Status",multiple:"",disabled:C.value,clearable:""},null,8,["modelValue","disabled"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(m,{modelValue:x.value,"onUpdate:modelValue":a[22]||(a[22]=t=>x.value=t),label:"Vorname",clearable:""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(m,{modelValue:N.value,"onUpdate:modelValue":a[23]||(a[23]=t=>N.value=t),label:"Nachname",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(m,{modelValue:B.value,"onUpdate:modelValue":a[24]||(a[24]=t=>B.value=t),label:"Email",clearable:""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(K,{modelValue:q.value,"onUpdate:modelValue":a[25]||(a[25]=t=>q.value=t),items:U.roles,"item-title":"human_name","item-value":"name",label:"Rolle",multiple:"",disabled:C.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})])])]),_:1}),e(o,{cols:"12",class:"text-right"},{default:l(()=>[U.usersEmails&&U.usersEmails.length>0?($(),Y(y,{key:0},{default:l(({isHovering:t,props:c})=>[e(S,v(c,{color:t?"accent":"primary",dark:"",onClick:Me}),{default:l(()=>[e(O,v(c,{size:"small",class:"tw-me-2"}),{default:l(()=>[b("mdi-email")]),_:2},1040),cl]),_:2},1040,["color"])]),_:1})):ee("",!0)]),_:1}),e(o,{cols:"12"},{default:l(()=>[We(($(),Y(Ie,{"items-per-page":-1,headers:Ke,items:$e.value,"sort-by":r.sortItem,search:ie.value,loading:C.value,class:"data-table-container data-table-container-hide-footer elevation-1","item-value":"name","onUpdate:options":Oe},{item:l(({item:t})=>{var c,n,k,we,ke,Ue,Ee,ze;return[i("tr",{"data-id":(c=t.selectable)==null?void 0:c.id,"data-order":(n=t.selectable)==null?void 0:n.order},[i("td",fl,[e(O,{size:"medium",class:Qe({active:t==null?void 0:t.selectable.is_online})},{default:l(()=>[b("mdi-circle")]),_:2},1032,["class"])]),i("td",null,D((k=t.selectable)==null?void 0:k.first_name),1),i("td",null,D((we=t.selectable)==null?void 0:we.last_name),1),i("td",null,D((ke=t.selectable)==null?void 0:ke.email),1),i("td",null,D((Ue=t.selectable)==null?void 0:Ue.primary_role_human_name),1),i("td",pl,[(Ee=U.kita)!=null&&Ee.approved&&((ze=t.selectable)!=null&&ze.is_manager)?($(),Y(oe,{key:0,location:"top"},{activator:l(({props:P})=>[i("a",v({href:`mailto:?bcc=${t.selectable.email}`},P),[e(O,v(P,{size:"small",class:"tw-me-2"}),{default:l(()=>[b("mdi-email")]),_:2},1040)],16,vl)]),default:l(()=>[gl]),_:2},1024)):ee("",!0),e(oe,{location:"top"},{activator:l(({props:P})=>[e(s(Fe),{href:`${r.route("users.edit",{id:t.selectable.id})}?from=kitas.show;${U.kita.id}`},{default:l(()=>[e(O,v(P,{size:"small",class:"tw-me-2"}),{default:l(()=>[b("mdi-pencil")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[bl]),_:2},1024),e(oe,{location:"top"},{activator:l(({props:P})=>[e(O,v(P,{size:"small",class:"tw-me-2",onClick:wl=>xe(t.raw)}),{default:l(()=>[b("mdi-delete ")]),_:2},1040,["onClick"])]),default:l(()=>[hl]),_:2},1024)])],8,_l)]}),"no-data":l(()=>[Vl]),_:1},8,["items","sort-by","search","loading"])),[[Re]])]),_:1})]),_:1})]),_:1}),e(Q,{modelValue:L.value,"onUpdate:modelValue":a[27]||(a[27]=t=>L.value=t),width:"40vw"},{default:l(()=>[e(W,{height:"80vh"},{default:l(()=>[e(te,null,{default:l(()=>[yl]),_:1}),e(G,null,{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[e(K,{modelValue:Z.value,"onUpdate:modelValue":a[26]||(a[26]=t=>Z.value=t),items:U.usersEmails,label:"Benutzer",multiple:"",disabled:C.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),e(J,null,{default:l(()=>[e(y,null,{default:l(({isHovering:t,props:c})=>[e(S,v({onClick:E},c,{color:t?"accent":"primary"}),{default:l(()=>[b(" Abbrechen ")]),_:2},1040,["color"])]),_:1}),e(H),e(y,null,{default:l(({isHovering:t,props:c})=>[e(A,v({href:`mailto:?bcc=${Z.value.join(",")}`},c,{color:t?"accent":"primary",disabled:!Z.value.length}),{default:l(()=>[b(" Öffnen Sie den Mail-Client ")]),_:2},1040,["href","color","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)):ee("",!0)])]),_:1},8,["errors"])],64)}}};export{Sl as default};
