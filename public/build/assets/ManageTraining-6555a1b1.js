import{d as Nl}from"./index-035529e4.js";import{K as Ml,k as c,m as U,T as ce,h as ee,A as sl,r as p,n as Ol,f as le,a as e,u as g,w as l,F as ae,o as w,Z as Ll,b as d,c as S,p as _,g as $,d as b,i as ul,q as jl,t as D,x as ol,O as Zl}from"./app-cc71f302.js";import{_ as Bl}from"./AuthenticatedLayout-ebf251b0.js";import{b as H}from"./common-1f9d3448.js";import{s as il}from"./VueTimepikcer.esm-bf75c5eb.js";import"./ApplicationLogo-c10514e0.js";const Il=d("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Verwalte Termin Eigenschaften",-1),Jl={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},ql=d("h3",null,"Termin",-1),Yl=d("span",null,"Schulungstermin bestätigen",-1),Rl=d("span",null,"Training abschließen und Einrichtungen zulassen",-1),Wl=d("span",null,"Training abbrechen",-1),Gl=d("span",{class:"tw-inline-block tw-mt-4"},"von",-1),Hl=d("h3",null,"Teilnehmende Einrichtungen",-1),Ql=d("span",null,"Einrichtung hinzufügen",-1),Xl=d("span",null,"Schreibe E-Mail an Auswahl",-1),ea=["data-id","data-order"],la={class:"text-center"},aa=["href"],ta=d("span",null,"Schreibe E-Mail",-1),na=d("span",null,"Einrichtung bearbeiten",-1),sa=d("span",null,"Einrichtung löschen",-1),ua=d("div",{class:"tw-py-6"},[d("h3",{class:"tw-mb-4"},"Die Tabelle ist leer.")],-1),oa=d("span",{class:"tw-text-h5"},"Schulung gegenüber den Kitas bestätigen?",-1),ia={class:"tw-font-bold tw-font-italic"},ra=d("p",{class:"mb-4"},"Sind Sie sich sicher, dass Sie die Termine gegenüber den folgenden Kitas bestätigen wollen? Im Folgenden gibt es individuelle E-Mail-Vorschläge für jede Kita.",-1),da=d("p",null,"Bitte klicken Sie auf den Namen der Kita, um diesen zu erhalten.",-1),ca=d("p",null,"Möchten Sie die ausgewählte Ausbildung wirklich absolvieren?",-1),ma=d("p",null,"Sind Sie sicher, dass Sie die ausgewählte Schulung stornieren möchten?",-1),_a=d("span",{class:"tw-text-h5"},"Einrichtungen hinzufügen",-1),va=d("p",null,"Wählen Sie die Einrichtungen aus, die Sie zu dieser Schulung hinzufügen möchten",-1),pa=d("span",{class:"tw-text-h5"},"Schreibe E-Mail an Auswahl",-1),wa={__name:"ManageTraining",props:{training:Object,allKitas:Array,trainingKitas:Array,errors:Object,multipliers:Array,operators:Array,statuses:Array,types:Array,emailMessages:Object,currentPage:Number,perPage:Number,lastPage:Number,total:Number,paging:Boolean,orderBy:String,sort:String,filters:Object,zipCodes:Array,kitaTypes:Array,usersEmails:Array},setup(T){var Te,Ee,$e,Ce,Fe,Ue,De,Ke,ze,xe,Ae,Pe,Ne,Me,Oe,Le,je,Ze,Be,Ie,Je,qe,Ye;const u=T;Nl.Inertia.on("success",n=>{let t=n.detail.page.props;n.detail.page.component==="Trainings/Partials/ManageTraining"&&t&&(console.log(t),m.value=t.training)}),Ml().props.auth.user;const m=c(u.training),V=c(u.errors||{}),h=c(!1),me=c(null),ye=c(!1),te=c(!1),ne=c(!1),se=c(!1),ue=c(!1),oe=c(!1),_e=c(!1),ve=c(!1),Ve=c(H(u.training.first_date)),we=c(H(u.training.second_date)),Z=c(new Date(u.training.first_date).toString()),B=c(new Date(u.training.second_date).toString()),ie=c([]),rl=c([{label:"Erster Schukungstag",value:`${H((Te=m.value)==null?void 0:Te.first_date)} ${(Ee=m.value)==null?void 0:Ee.first_date_start_and_end_time}`},{label:"Zweiter Schulungstag",value:`${H(($e=m.value)==null?void 0:$e.second_date)} ${(Ce=m.value)==null?void 0:Ce.second_date_start_and_end_time}`},{label:"Ort",value:(Fe=m.value)==null?void 0:Fe.location},{label:"Typ",value:(Ue=m.value)==null?void 0:Ue.type},{label:"Teinhemheranzahl",value:(De=m.value)==null?void 0:De.participant_count}]);U(ye,n=>{n||E()}),U(Z,n=>{Ve.value=H(n)}),U(B,n=>{we.value=H(n)});const E=()=>{ye.value=!1,me.value=null,ue.value=!1,oe.value=!1,te.value=!1,ne.value=!1,se.value=!1,F.reset(),F.clearErrors(),C.reset(),C.clearErrors(),K.reset(),K.clearErrors(),V.value={}},dl=()=>{f.reset(),f.clearErrors(),F.reset(),F.clearErrors(),C.reset(),C.clearErrors(),K.reset(),K.clearErrors()},f=ce({id:(Ke=m.value)==null?void 0:Ke.id,multi_id:(ze=m.value)==null?void 0:ze.multi_id,first_date:(xe=m.value)==null?void 0:xe.first_date,first_date_start_and_end_time:(Ae=m.value)==null?void 0:Ae.first_date_start_and_end_time,second_date:(Pe=m.value)==null?void 0:Pe.second_date,second_date_start_and_end_time:(Ne=m.value)==null?void 0:Ne.second_date_start_and_end_time,location:(Me=m.value)==null?void 0:Me.location,max_participant_count:(Oe=m.value)==null?void 0:Oe.max_participant_count,type:(Le=m.value)==null?void 0:Le.type,notes:(je=m.value)==null?void 0:je.notes}),cl=async()=>{f.processing=!0,f.first_date=Z.value?new Date(Z.value).toLocaleString():null,f.second_date=B.value?new Date(B.value).toLocaleString():null;let n={onSuccess:t=>{E()},onError:t=>{V.value=t},onFinish:()=>{f.processing=!1}};f.put(route("trainings.update",{training:f.id}),n)},ml=()=>{te.value=!0},_l=()=>{ne.value=!0},vl=()=>{se.value=!0},F=ce({id:(Ze=m.value)==null?void 0:Ze.id,status:null}),pe=async n=>{F.processing=!0,F.status=n;let t={preserveState:!1,onSuccess:s=>{E()},onError:s=>{V.value=s},onFinish:()=>{var s,v;if(F.processing=!1,n==="confirmed"){let i=[];if(ie.value.map(r=>{r==null||r.users_emails.map(y=>{i.push(y)})}),i=i.filter((r,y,k)=>k.indexOf(r)===y),i&&i.length){const r=document.createElement("a"),y=(s=u.emailMessages[n])==null?void 0:s.subject,k=(v=u.emailMessages[n])==null?void 0:v.body;r.href=`mailto:?bcc=${i.join(",")}&subject=${y}&body=${k}`,document.body.appendChild(r),r.click(),document.body.removeChild(r)}ie.value=[]}}};F.put(route("trainings.update",{training:F.id}),t)},pl=()=>{ue.value=!0},C=ce({kitas:[]}),fl=ee(()=>{let n=u.trainingKitas.map(t=>t.id);return u.allKitas.filter(t=>!n.includes(t.id))}),gl=ee(()=>{var v,i,r,y,k;let t=(u.allKitas.filter(O=>C.kitas.includes(O.id))??[]).map(O=>O.num_pedagogical_staff).reduce((O,re)=>O+re,0),s=t+((v=m.value)==null?void 0:v.participant_count)>((i=m.value)==null?void 0:i.max_participant_count);return s?V.value.kitas=`Sie haben die maximale Teilnehmerzahl (${t+((r=m.value)==null?void 0:r.participant_count)}/${(y=m.value)==null?void 0:y.max_participant_count}) überschritten.`:(k=V.value)==null||delete k.kitas,s}),bl=async()=>{C.processing=!0,C.post(route("trainings.add_kitas",{training:u.training.id}),{onSuccess:n=>{E()},onError:n=>{V.value=n},onFinish:()=>{C.processing=!1}})},hl=n=>{me.value=n.name,K.kita=n.id,oe.value=!0},K=ce({kita:null}),yl=async()=>{K.processing=!0;let n={onSuccess:t=>{E()},onError:t=>{V.value=t},onFinish:()=>{K.processing=!1}};K.post(route("trainings.remove_kita",{id:u.training.id}),n)},Vl=n=>n.map(t=>{const s={...t};for(const v in s)(s[v]===null||s[v]===void 0)&&(s[v]="-");return s}),wl=[{title:"Name",key:"name",width:"15%",sortable:!0},{title:`Jährliche Rückmeldung ${new Date().getFullYear()} abgeschlossen`,key:"has_yearly_evaluations",width:"35%",sortable:!0},{title:"Zugelassen",key:"approved",width:"10%",sortable:!0},{title:"Träger",key:"operator_id",width:"10%",sortable:!0},{title:"Typ",key:"type",width:"10%",sortable:!0},{title:"Postleitzahl",key:"zip_code",width:"10%",sortable:!0},{title:"Aktion",key:"actions",width:"10%",sortable:!1,align:"center"}],ke=c(u==null?void 0:u.currentPage),kl=c(u==null?void 0:u.perPage);c(u==null?void 0:u.orderBy),c(u==null?void 0:u.sort),c(u==null?void 0:u.total),c(u==null?void 0:u.lastPage);const Se=c(""),z=c(((Be=u==null?void 0:u.filters)==null?void 0:Be.search)??null),x=c(((Ie=u==null?void 0:u.filters)==null?void 0:Ie.has_yearly_evaluations)??null),A=c(((Je=u==null?void 0:u.filters)==null?void 0:Je.approved)??null),P=c(null),N=c(((qe=u==null?void 0:u.filters)==null?void 0:qe.type)??null),M=c(((Ye=u==null?void 0:u.filters)==null?void 0:Ye.zip_code)??null),Sl=[{title:"Ja",value:"true"},{title:"Nein",value:"false"}],Tl=[{title:"Ja",value:"true"},{title:"Nein",value:"false"}],Q=c([]),fe=c(!1),El=ee(()=>Vl(u.trainingKitas)),$l=ee(()=>z.value===null&&x.value===null&&A.value===null&&P.value===null&&N.value===null&&M.value===null),Cl=ee(()=>z.value!==null||x.value!==null||A.value!==null||P.value!==null||N.value!==null||M.value!==null);U(z,sl.debounce(n=>{I()},500)),U(x,n=>{I()}),U(A,n=>{I()}),U(P,n=>{I()}),U(N,n=>{I()}),U(M,sl.debounce(n=>{I()},500));const I=n=>{h.value=!0,Se.value=String(Date.now())},Fl=()=>{fe.value=!0,Q.value=u.usersEmails.map(n=>n.value)},Ul=async({page:n,itemsPerPage:t,sortBy:s,clearFilters:v})=>{if(v&&(z.value=null,x.value=null,A.value=null,P.value=null,N.value=null,M.value=null),n===ke.value&&v||$l||Cl){h.value=!0;let i={page:n,per_page:t};s&&s.length>0?(i.order_by=s[0].key,i.sort=s[0].order):(i.order_by=null,i.sort=null),z.value&&(i.search=z.value),x.value&&(i.has_yearly_evaluations=x.value),A.value&&(i.approved=A.value),P.value&&(i.operator_id=P.value),N.value&&(i.type=N.value),M.value&&(i.zip_code=M.value),await Zl.get(route(route().current(),{training:f.id}),i,{preserveScroll:!0,preserveState:!0,onCancelToken:r=>{},onCancel:()=>{},onBefore:r=>{h.value=!0},onStart:r=>{},onProgress:r=>{},onSuccess:r=>{ke.value=i.page,kl.value=i.per_page},onError:r=>{console.log(r)},onFinish:r=>{h.value=!1}})}};return(n,t)=>{const s=p("v-col"),v=p("v-btn"),i=p("v-hover"),r=p("v-row"),y=p("v-container"),k=p("v-text-field"),O=p("v-date-picker"),re=p("v-menu"),Re=p("v-locale-provider"),We=p("v-label"),L=p("v-select"),Ge=p("v-textarea"),j=p("v-btn-primary"),de=p("v-icon"),ge=p("v-tooltip"),Dl=p("v-data-table-server"),be=p("v-card-title"),Kl=p("v-checkbox"),zl=p("v-list-item"),xl=p("v-list"),J=p("v-card-text"),q=p("v-spacer"),Y=p("v-card-actions"),R=p("v-card"),W=p("v-dialog"),Al=p("v-autocomplete"),Pl=Ol("sortable-data-table");return w(),le(ae,null,[e(g(Ll),{title:"Verwalte Termin Eigenschaften"}),e(Bl,{errors:V.value},{header:l(()=>[Il]),default:l(()=>[d("div",Jl,[e(y,null,{default:l(()=>[e(r,null,{default:l(()=>[e(s,{cols:"12",sm:"3"},{default:l(()=>[ql]),_:1}),e(s,{cols:"12",sm:"9",class:"text-right"},{default:l(()=>[m.value.status==="planned"?(w(),S(i,{key:0},{default:l(({isHovering:a,props:o})=>[e(v,_({class:"tw-ml-4 tw-mb-4"},o,{color:a?"accent":"primary",dark:"",onClick:ml}),{default:l(()=>[Yl]),_:2},1040,["color"])]),_:1})):$("",!0),m.value.status==="confirmed"?(w(),S(i,{key:1},{default:l(({isHovering:a,props:o})=>[e(v,_({class:"tw-ml-4 tw-mb-4"},o,{color:a?"background":"success",dark:"",onClick:_l}),{default:l(()=>[Rl]),_:2},1040,["color"])]),_:1})):$("",!0),m.value.status!=="completed"&&m.value.status!=="cancelled"&&(n.$page.props.auth.user.is_super_admin||n.$page.props.auth.user.is_admin)?(w(),S(i,{key:2},{default:l(({isHovering:a,props:o})=>[e(v,_({class:"tw-ml-4 tw-mb-4"},o,{color:a?"background":"error",dark:"",onClick:vl}),{default:l(()=>[Wl]),_:2},1040,["color"])]),_:1})):$("",!0)]),_:1})]),_:1})]),_:1}),e(y,null,{default:l(()=>[e(r,null,{default:l(()=>[e(s,{cols:"12",sm:"6"},{default:l(()=>[e(Re,{locale:"de"},{default:l(()=>[e(re,{modelValue:_e.value,"onUpdate:modelValue":t[2]||(t[2]=a=>_e.value=a),"return-value":Z.value,"close-on-content-click":!1},{activator:l(({props:a})=>[e(k,_({label:"Erster Schulungstag*",class:"tw-cursor-pointer","model-value":Ve.value,"error-messages":V.value.first_date,"prepend-icon":"mdi-calendar",readonly:""},a,{disabled:h.value||n.$page.props.auth.user.is_user_multiplier}),null,16,["model-value","error-messages","disabled"])]),default:l(()=>[e(O,{"onUpdate:modelValue":[t[0]||(t[0]=a=>_e.value=!1),t[1]||(t[1]=a=>Z.value=a)],modelValue:Z.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1}),e(s,{cols:"12",sm:"6"},{default:l(()=>[e(We,{class:"tw-mt-6 tw-mr-2"},{default:l(()=>[b("Zeitraum erster Schulungstag*")]),_:1}),e(g(il),{modelValue:g(f).first_date_start_and_end_time,"onUpdate:modelValue":t[3]||(t[3]=a=>g(f).first_date_start_and_end_time=a),hideClearButton:!0,hourLabel:"Std.",minuteLabel:"Protokoll",disabled:h.value||n.$page.props.auth.user.is_user_multiplier},null,8,["modelValue","hourLabel","disabled"])]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(s,{cols:"12",sm:"6"},{default:l(()=>[e(Re,{locale:"de"},{default:l(()=>[e(re,{modelValue:ve.value,"onUpdate:modelValue":t[6]||(t[6]=a=>ve.value=a),"return-value":B.value,"close-on-content-click":!1},{activator:l(({props:a})=>[e(k,_({label:"Zweiter Schulungstag*",class:"tw-cursor-pointer","model-value":we.value,"error-messages":V.value.second_date,"prepend-icon":"mdi-calendar",readonly:""},a,{disabled:h.value||n.$page.props.auth.user.is_user_multiplier}),null,16,["model-value","error-messages","disabled"])]),default:l(()=>[e(O,{"onUpdate:modelValue":[t[4]||(t[4]=a=>ve.value=!1),t[5]||(t[5]=a=>B.value=a)],modelValue:B.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1}),e(s,{cols:"12",sm:"6"},{default:l(()=>[e(We,{class:"tw-mt-6 tw-mr-2"},{default:l(()=>[b("Zeitraum zweiter Schulungstag*")]),_:1}),e(g(il),{modelValue:g(f).second_date_start_and_end_time,"onUpdate:modelValue":t[7]||(t[7]=a=>g(f).second_date_start_and_end_time=a),hideClearButton:!0,hourLabel:"Std.",minuteLabel:"Protokoll",disabled:h.value||n.$page.props.auth.user.is_user_multiplier},null,8,["modelValue","hourLabel","disabled"])]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(s,{cols:"12",sm:"2"},{default:l(()=>[e(k,{type:"number",modelValue:m.value.participant_count,"onUpdate:modelValue":t[8]||(t[8]=a=>m.value.participant_count=a),"error-messages":V.value.participant_count,label:"Teilnehmerzahl*",disabled:h.value||n.$page.props.auth.user.is_user_multiplier,readonly:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(s,{cols:"12",sm:"1",class:"tw-text-center"},{default:l(()=>[Gl]),_:1}),e(s,{cols:"12",sm:"2"},{default:l(()=>[e(k,{type:"number",modelValue:g(f).max_participant_count,"onUpdate:modelValue":t[9]||(t[9]=a=>g(f).max_participant_count=a),"error-messages":V.value.max_participant_count,label:"Max. Teilnehmerzahl*",clearable:"",disabled:h.value||n.$page.props.auth.user.is_user_multiplier},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(s,{cols:"12",sm:"3"},{default:l(()=>[e(L,{modelValue:g(f).type,"onUpdate:modelValue":t[10]||(t[10]=a=>g(f).type=a),"error-messages":V.value.type,items:T.types,"item-title":"title","item-value":"value",label:"Typ*",disabled:h.value||n.$page.props.auth.user.is_user_multiplier,clearable:""},null,8,["modelValue","error-messages","items","disabled"])]),_:1}),e(s,{cols:"12",sm:"4"},{default:l(()=>[e(L,{modelValue:g(f).multi_id,"onUpdate:modelValue":t[11]||(t[11]=a=>g(f).multi_id=a),"error-messages":V.value.multi_id,items:T.multipliers,"item-title":"full_name","item-value":"id",label:"Multiplikator*",disabled:h.value||n.$page.props.auth.user.is_user_multiplier,clearable:""},null,8,["modelValue","error-messages","items","disabled"])]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(s,{cols:"12",sm:"6"},{default:l(()=>[e(Ge,{modelValue:g(f).location,"onUpdate:modelValue":t[12]||(t[12]=a=>g(f).location=a),"error-messages":V.value.location,label:"Ort*",required:"",disabled:n.$page.props.auth.user.is_user_multiplier},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(s,{cols:"12",sm:"6"},{default:l(()=>[e(Ge,{modelValue:g(f).notes,"onUpdate:modelValue":t[13]||(t[13]=a=>g(f).notes=a),"error-messages":V.value.notes,label:"Notizen",required:"",disabled:n.$page.props.auth.user.is_user_multiplier},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(s,{cols:"12",sm:"6"},{default:l(()=>[n.$page.props.auth.user.is_super_admin||n.$page.props.auth.user.is_admin?(w(),S(i,{key:0},{default:l(({isHovering:a,props:o})=>[e(v,_({onClick:dl},o,{color:a?"primary":"accent"}),{default:l(()=>[b("Zurücksetzen")]),_:2},1040,["color"])]),_:1})):$("",!0)]),_:1}),e(s,{cols:"12",sm:"6",align:"right"},{default:l(()=>[e(i,null,{default:l(({isHovering:a,props:o})=>[e(g(ul),{href:n.route("trainings.index")},{default:l(()=>[e(v,_({class:"mr-2",variant:"text"},o,{color:a?"accent":"primary"}),{default:l(()=>[b("Zurück")]),_:2},1040,["color"])]),_:2},1032,["href"])]),_:1}),n.$page.props.auth.user.is_super_admin||n.$page.props.auth.user.is_admin?(w(),S(i,{key:0},{default:l(({isHovering:a,props:o})=>[e(j,_({onClick:cl},o,{color:a?"accent":"primary"}),{default:l(()=>[b("Speichern ")]),_:2},1040,["color"])]),_:1})):$("",!0)]),_:1})]),_:1})]),_:1}),n.$page.props.auth.user.is_super_admin||n.$page.props.auth.user.is_admin?(w(),le(ae,{key:0},[e(y,null,{default:l(()=>[e(r,{class:"tw-border-t-8 tw-mt-8 tw-pt-8"},{default:l(()=>[e(s,{cols:"12",sm:"6"},{default:l(()=>[Hl]),_:1}),e(s,{cols:"12",sm:"6",class:"text-right"},{default:l(()=>[e(i,null,{default:l(({isHovering:a,props:o})=>[e(v,_(o,{color:a?"accent":"primary",dark:"",onClick:pl}),{default:l(()=>[Ql]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1}),e(y,null,{default:l(()=>[e(r,null,{default:l(()=>[e(s,{cols:"12",sm:"4"},{default:l(()=>[e(k,{modelValue:z.value,"onUpdate:modelValue":t[14]||(t[14]=a=>z.value=a),label:"Name",disabled:h.value,clearable:""},null,8,["modelValue","disabled"])]),_:1}),e(s,{cols:"12",sm:"4"},{default:l(()=>[e(L,{modelValue:x.value,"onUpdate:modelValue":t[15]||(t[15]=a=>x.value=a),items:Sl,label:`Jährliche Rückmeldung ${new Date().getFullYear()} abgeschlossen`,multiple:"",disabled:h.value,clearable:""},null,8,["modelValue","label","disabled"])]),_:1}),e(s,{cols:"12",sm:"4"},{default:l(()=>[e(L,{modelValue:A.value,"onUpdate:modelValue":t[16]||(t[16]=a=>A.value=a),items:Tl,label:"Zugelassen",multiple:"",disabled:h.value,clearable:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(s,{cols:"12",sm:"4"},{default:l(()=>[e(L,{modelValue:P.value,"onUpdate:modelValue":t[17]||(t[17]=a=>P.value=a),items:T.operators,"item-title":"name","item-value":"id",label:"Träger",multiple:"",disabled:h.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1}),e(s,{cols:"12",sm:"4"},{default:l(()=>[e(L,{modelValue:N.value,"onUpdate:modelValue":t[18]||(t[18]=a=>N.value=a),items:T.kitaTypes,label:"Typ",multiple:"",disabled:h.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1}),e(s,{cols:"12",sm:"4"},{default:l(()=>[e(L,{modelValue:M.value,"onUpdate:modelValue":t[19]||(t[19]=a=>M.value=a),items:T.zipCodes,label:"Postleitzahl",multiple:"",disabled:h.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(s,{cols:"12",class:"text-right"},{default:l(()=>[T.usersEmails&&T.usersEmails.length>0?(w(),S(i,{key:0},{default:l(({isHovering:a,props:o})=>[e(v,_(o,{color:a?"accent":"primary",dark:"",onClick:Fl}),{default:l(()=>[e(de,_(o,{size:"small",class:"tw-me-2"}),{default:l(()=>[b("mdi-email")]),_:2},1040),Xl]),_:2},1040,["color"])]),_:1})):$("",!0)]),_:1}),e(s,{cols:"12"},{default:l(()=>[jl((w(),S(Dl,{"items-per-page":-1,headers:wl,items:El.value,search:Se.value,loading:h.value,class:"data-table-container data-table-container-hide-footer elevation-1","item-value":"name","onUpdate:options":Ul},{item:l(({item:a})=>{var o,X,He,Qe,Xe,el,ll,al,tl,nl;return[d("tr",{"data-id":a.selectable.id,"data-order":a.selectable.order},[d("td",null,D((o=a.selectable)==null?void 0:o.name),1),d("td",null,D((X=a.selectable)!=null&&X.has_yearly_evaluations?"Ja":"Nein"),1),d("td",null,D((He=a.selectable)!=null&&He.approved?"Ja":"Nein"),1),d("td",null,D(((Xe=(Qe=a.selectable)==null?void 0:Qe.operator)==null?void 0:Xe.name)??"-"),1),d("td",null,D(((el=a.selectable)==null?void 0:el.formatted_type)??((ll=a.selectable)==null?void 0:ll.type)),1),d("td",null,D((al=a.selectable)==null?void 0:al.zip_code),1),d("td",la,[n.$page.props.auth.user.is_super_admin?(w(),le(ae,{key:0},[(tl=a.selectable)!=null&&tl.approved&&((nl=a.selectable)==null?void 0:nl.users_emails.length)>0?(w(),S(ge,{key:0,location:"top"},{activator:l(({props:G})=>{var he;return[d("a",_({href:`mailto:?bcc=${(he=a.selectable)==null?void 0:he.users_emails.join(",")}`},G),[e(de,_(G,{size:"small",class:"tw-me-2"}),{default:l(()=>[b("mdi-email")]),_:2},1040)],16,aa)]}),default:l(()=>[ta]),_:2},1024)):$("",!0)],64)):$("",!0),e(ge,{location:"top"},{activator:l(({props:G})=>[e(g(ul),{href:n.route("kitas.show",{id:a.selectable.id})},{default:l(()=>[e(de,_(G,{size:"small",class:"tw-me-2"}),{default:l(()=>[b("mdi-pencil")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[na]),_:2},1024),!n.$page.props.auth.user.is_manager&&!n.$page.props.auth.user.is_user_multiplier?(w(),S(ge,{key:1,location:"top"},{activator:l(({props:G})=>[e(de,_(G,{size:"small",class:"tw-me-2",onClick:he=>hl(a.raw)}),{default:l(()=>[b("mdi-delete ")]),_:2},1040,["onClick"])]),default:l(()=>[sa]),_:2},1024)):$("",!0)])],8,ea)]}),"no-data":l(()=>[ua]),_:1},8,["items","search","loading"])),[[Pl]])]),_:1})]),_:1})]),_:1})],64)):$("",!0),e(y,null,{default:l(()=>[e(r,null,{default:l(()=>[e(W,{modelValue:te.value,"onUpdate:modelValue":t[22]||(t[22]=a=>te.value=a),width:"80vw"},{default:l(()=>[e(R,{height:"80vw"},{default:l(()=>[e(be,null,{default:l(()=>[oa]),_:1}),e(J,null,{default:l(()=>[e(y,null,{default:l(()=>[e(r,null,{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[(w(!0),le(ae,null,ol(rl.value,a=>(w(),S(r,null,{default:l(()=>[e(s,{cols:"12",sm:"2"},{default:l(()=>[d("span",ia,D(a==null?void 0:a.label)+":",1)]),_:2},1024),e(s,{cols:"12",sm:"10"},{default:l(()=>[d("span",null,D(a==null?void 0:a.value),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),T.trainingKitas?(w(),S(r,{key:0},{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[ra,da]),_:1}),e(s,{cols:"12",class:"tw--mt-6"},{default:l(()=>[e(xl,null,{default:l(()=>[(w(!0),le(ae,null,ol(T.trainingKitas,a=>(w(),S(zl,{class:"hide-details",key:a.id},{default:l(()=>[e(Kl,{class:"!tw-font-bold !tw-font-italic !tw-text-black",label:a.name,value:a,modelValue:ie.value,"onUpdate:modelValue":t[20]||(t[20]=o=>ie.value=o)},null,8,["label","value","modelValue"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):$("",!0)]),_:1})]),_:1}),e(Y,null,{default:l(()=>[e(q),e(i,null,{default:l(({isHovering:a,props:o})=>[e(v,_({onClick:E},o,{color:a?"accent":"primary"}),{default:l(()=>[b("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(i,null,{default:l(({isHovering:a,props:o})=>[e(j,_({onClick:t[21]||(t[21]=X=>pe("confirmed"))},o,{color:a?"accent":"primary"}),{default:l(()=>[b("Löschen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W,{modelValue:ne.value,"onUpdate:modelValue":t[24]||(t[24]=a=>ne.value=a),width:"20vw"},{default:l(()=>[e(R,{height:"30vh"},{default:l(()=>[e(J,null,{default:l(()=>[e(y,null,{default:l(()=>[e(r,null,{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[ca]),_:1})]),_:1})]),_:1})]),_:1}),e(Y,null,{default:l(()=>[e(q),e(i,null,{default:l(({isHovering:a,props:o})=>[e(v,_({onClick:E},o,{color:a?"accent":"primary"}),{default:l(()=>[b("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(i,null,{default:l(({isHovering:a,props:o})=>[e(j,_({onClick:t[23]||(t[23]=X=>pe("completed"))},o,{color:a?"accent":"primary"}),{default:l(()=>[b("Löschen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W,{modelValue:se.value,"onUpdate:modelValue":t[26]||(t[26]=a=>se.value=a),width:"20vw"},{default:l(()=>[e(R,{height:"30vh"},{default:l(()=>[e(J,null,{default:l(()=>[e(y,null,{default:l(()=>[e(r,null,{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[ma]),_:1})]),_:1})]),_:1})]),_:1}),e(Y,null,{default:l(()=>[e(q),e(i,null,{default:l(({isHovering:a,props:o})=>[e(v,_({onClick:E},o,{color:a?"accent":"primary"}),{default:l(()=>[b("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(i,null,{default:l(({isHovering:a,props:o})=>[e(j,_({onClick:t[25]||(t[25]=X=>pe("cancelled"))},o,{color:a?"accent":"primary"}),{default:l(()=>[b("Löschen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W,{modelValue:ue.value,"onUpdate:modelValue":t[28]||(t[28]=a=>ue.value=a),width:"80vw"},{default:l(()=>[e(R,{height:"80vh"},{default:l(()=>[e(be,null,{default:l(()=>[_a]),_:1}),e(J,null,{default:l(()=>[e(y,null,{default:l(()=>[e(r,null,{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[va]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[e(Al,{modelValue:g(C).kitas,"onUpdate:modelValue":t[27]||(t[27]=a=>g(C).kitas=a),items:fl.value,"error-messages":V.value.kitas,"item-title":"name","item-value":"id",label:"Kita",multiple:"",required:""},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),e(Y,null,{default:l(()=>[e(q),e(i,null,{default:l(({isHovering:a,props:o})=>[e(v,_({onClick:E},o,{color:a?"accent":"primary"}),{default:l(()=>[b(" Zurück ")]),_:2},1040,["color"])]),_:1}),e(i,null,{default:l(({isHovering:a,props:o})=>[e(j,_({onClick:bl},o,{color:a?"accent":"primary",disabled:gl.value}),{default:l(()=>[b(" Speichern ")]),_:2},1040,["color","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W,{modelValue:oe.value,"onUpdate:modelValue":t[29]||(t[29]=a=>oe.value=a),width:"20vw"},{default:l(()=>[e(R,{height:"30vh"},{default:l(()=>[e(J,null,{default:l(()=>[e(y,null,{default:l(()=>[e(r,null,{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[d("p",null,"Möchten Sie die Einrichtung "+D(me.value)+" wirklich aus der Ausbildung entfernen?",1)]),_:1})]),_:1})]),_:1})]),_:1}),e(Y,null,{default:l(()=>[e(q),e(i,null,{default:l(({isHovering:a,props:o})=>[e(v,_({onClick:E},o,{color:a?"accent":"primary"}),{default:l(()=>[b("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(i,null,{default:l(({isHovering:a,props:o})=>[e(j,_({onClick:yl},o,{color:a?"accent":"primary"}),{default:l(()=>[b("Löschen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(s,{cols:"12"},{default:l(()=>[e(W,{modelValue:fe.value,"onUpdate:modelValue":t[31]||(t[31]=a=>fe.value=a),width:"40vw"},{default:l(()=>[e(R,{height:"80vh"},{default:l(()=>[e(be,null,{default:l(()=>[pa]),_:1}),e(J,null,{default:l(()=>[e(y,null,{default:l(()=>[e(r,null,{default:l(()=>[e(s,{cols:"12"},{default:l(()=>[e(L,{modelValue:Q.value,"onUpdate:modelValue":t[30]||(t[30]=a=>Q.value=a),items:T.usersEmails,label:"Benutzer",multiple:"",disabled:h.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),e(Y,null,{default:l(()=>[e(i,null,{default:l(({isHovering:a,props:o})=>[e(v,_({onClick:E},o,{color:a?"accent":"primary"}),{default:l(()=>[b(" Abbrechen ")]),_:2},1040,["color"])]),_:1}),e(q),e(i,null,{default:l(({isHovering:a,props:o})=>[e(j,_({href:`mailto:?bcc=${Q.value.join(",")}`},o,{color:a?"accent":"primary",disabled:!Q.value.length}),{default:l(()=>[b(" Öffnen Sie den Mail-Client ")]),_:2},1040,["href","color","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["errors"])],64)}}};export{wa as default};
