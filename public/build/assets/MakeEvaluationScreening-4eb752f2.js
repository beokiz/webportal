import{d as Z}from"./index-5d364f83.js";import{K as $,k as g,s as j,T as K,r as o,o as V,f as O,a as e,u as c,w as t,F as P,Z as q,b as m,c as G,g as H,p as x,d as b}from"./app-6c3fc213.js";import{p as y,a as J}from"./common-4ebdec69.js";import{_ as L}from"./AuthenticatedLayout-9ef0fe14.js";import{_ as D}from"./EvaluationDomainsList-34194e57.js";import"./ApplicationLogo-5280591d.js";const Q=m("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Screening-prüfung",-1),W={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},X=m("h3",null,"Eigenschaften",-1),Y=m("div",{class:"tw-text-center"},[m("h1",{class:"tw-uppercase text-primary tw-font-black tw-text-xl tw-mb-8"}," Screening wurde eingereicht ")],-1),se={__name:"MakeEvaluationScreening",props:{domains:Array,dazDependent:{type:Boolean,default:!1},errors:Object},setup(_){const v=_;Z.Inertia.on("success",l=>{l.detail.page.props,l.detail.page.component}),$().props.auth.user;const s=g(v.errors||{});g(!1);const p=g(!1),h=g(null);j(()=>{B()});const z=l=>{a.ratings=l},B=()=>{a.ratings=y(v.domains)},E=()=>{s.value={},p.value=!1},C=()=>{a.reset(),a.clearErrors(),s.value={},a.ratings=y(v.domains)},a=K({age:null,is_daz:!1,ratings:[]}),R=async()=>{a.processing=!0,a.post(route("screening.make"),{onSuccess:l=>{a.clearErrors(),s.value={},p.value=!0,h.value=l.props.data},onError:l=>{s.value=l},onFinish:()=>{a.processing=!1}})};return(l,u)=>{const r=o("v-col"),i=o("v-row"),f=o("v-container"),S=o("v-select"),A=o("v-checkbox"),F=o("v-btn"),w=o("v-hover"),k=o("v-btn-primary"),I=o("v-card-text"),N=o("v-spacer"),U=o("v-card-actions"),M=o("v-card"),T=o("v-dialog");return V(),O(P,null,[e(c(q),{title:"Screening-prüfung"}),e(L,{errors:s.value},{header:t(()=>[Q]),default:t(()=>[m("div",W,[e(f,null,{default:t(()=>[e(i,null,{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[X]),_:1})]),_:1})]),_:1}),e(f,null,{default:t(()=>[e(i,null,{default:t(()=>[e(r,{cols:"12",sm:"3"},{default:t(()=>[e(S,{modelValue:c(a).age,"onUpdate:modelValue":u[0]||(u[0]=n=>c(a).age=n),items:c(J),"error-messages":s.value.age,"item-title":"age_name","item-value":"age_number",label:"Altersgruppe"},null,8,["modelValue","items","error-messages"])]),_:1}),_.dazDependent?(V(),G(r,{key:0,cols:"12",sm:"2"},{default:t(()=>[e(A,{modelValue:c(a).is_daz,"onUpdate:modelValue":u[1]||(u[1]=n=>c(a).is_daz=n),label:"Ist Daz"},null,8,["modelValue"])]),_:1})):H("",!0)]),_:1}),e(i,{class:"manage-evaluation-domains"},{default:t(()=>[e(D,{onUpdateRatingData:z,ratings:c(a).ratings,domains:_.domains,errors:s.value},null,8,["ratings","domains","errors"])]),_:1})]),_:1}),e(f,null,{default:t(()=>[e(i,null,{default:t(()=>[e(r,{cols:"12",sm:"6"},{default:t(()=>[e(w,null,{default:t(({isHovering:n,props:d})=>[e(F,x({onClick:C},d,{color:n?"primary":"accent"}),{default:t(()=>[b(" Zurücksetzen ")]),_:2},1040,["color"])]),_:1})]),_:1}),e(r,{cols:"12",sm:"6",align:"right"},{default:t(()=>[e(w,null,{default:t(({isHovering:n,props:d})=>[e(k,x({onClick:R},d,{color:n?"accent":"primary"}),{default:t(()=>[b(" Ampel-Bewertung ")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1})]),e(T,{modelValue:p.value,"onUpdate:modelValue":u[2]||(u[2]=n=>p.value=n),width:"95vw"},{default:t(()=>[e(M,{height:"95vh"},{default:t(()=>[e(I,null,{default:t(()=>[e(f,null,{default:t(()=>[e(i,{class:"result-evaluation-domains"},{default:t(()=>[e(r,{cols:"8",offset:"2"},{default:t(()=>[Y]),_:1}),e(r,{cols:"12"},{default:t(()=>[e(D,{ratings:h.value,domains:_.domains,disabled:!0},null,8,["ratings","domains"])]),_:1})]),_:1})]),_:1})]),_:1}),e(U,null,{default:t(()=>[e(N),e(w,null,{default:t(({isHovering:n,props:d})=>[e(k,x({onClick:E},d,{color:n?"accent":"primary"}),{default:t(()=>[b("Abbrechen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["errors"])],64)}}};export{se as default};
