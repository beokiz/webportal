import{d as Ye}from"./index-d0e54abd.js";import{K as el,j as u,k as ve,l as S,A as Pe,T as De,r as v,o as f,f as j,a,u as r,w as l,F as W,Z as ll,b as n,c as P,m as i,d as p,h as V,t as h,i as Ae,O as al}from"./app-2083a496.js";import{_ as tl}from"./AuthenticatedLayout-6c6b702e.js";import{c as _e,f as me,g as je,b as Ie}from"./common-ea192878.js";import"./ApplicationLogo-7d218cc6.js";const sl=n("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Terminvorschläge",-1),ol={class:"tw-flex tw-items-center tw-justify-end"},nl=n("span",{class:"tw-text-h5"},"Verwalte Terminvorschläge",-1),ul=n("p",null,"Sind Sie sicher, dass Sie die ausgewählte Terminvorschlag löschen möchten?",-1),rl={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},il={key:0,class:"tw-bg-white tw-flex tw-justify-between tw-px-6 tw-py-6"},dl={class:"tw-w-full"},cl={key:1,class:"tw-mx-4 tw-mb-8"},pl=n("h2",{class:"tw-font-semibold tw-text-base tw-text-gray-800 tw-leading-tight"}," Offene Terminvorschläge ",-1),vl=[pl],_l=["data-id","data-order"],ml={class:"tw-cursor-pointer"},fl={class:"text-center"},gl=["href"],bl=n("span",null,"Mail an KiTa(s) schreiben",-1),hl=["onClick"],wl=n("span",null,"Termin reservieren",-1),kl=["onClick"],yl=n("span",null,"Reservierung aufheben",-1),Vl=n("span",null,"Schulung bearbeiten",-1),Sl=n("span",null,"Schulung löschen",-1),Tl={class:"tw-py-6"},Pl={key:0,class:"tw-mb-4"},Dl=n("h3",{class:"tw-mb-4"},"Die Tabelle ist leer. Bitte setzen Sie die Suchfilter zurück.",-1),Fl=n("div",{class:"tw-border-t-8 tw-mt-16 tw-pt-8"},null,-1),$l=n("div",{class:"tw-mx-4 tw-mb-8"},[n("h2",{class:"tw-font-semibold tw-text-base tw-text-gray-800 tw-leading-tight"}," Meine Terminvorschläge ")],-1),Cl=["data-id","data-order"],Ul={class:"tw-cursor-pointer"},zl={class:"text-center"},El=["href"],Ol=n("span",null,"Mail an KiTa(s) schreiben",-1),Al=["onClick"],jl=n("span",null,"Reservierung aufheben",-1),Il=n("span",null,"Schulung bearbeiten",-1),Nl={class:"tw-py-6"},Bl={key:0,class:"tw-mb-4"},xl=n("h3",{class:"tw-mb-4"},"Die Tabelle ist leer. Bitte setzen Sie die Suchfilter zurück.",-1),Kl=n("p",null,"Möchten Sie die ausgewählten Terminvorschläge wirklich akzeptieren?",-1),Ml=n("p",null,"Sind Sie sicher, dass Sie die ausgewählten Terminvorschläge widerrufen möchten?",-1),Gl={__name:"TrainingProposals",props:{items:Array,currentPage:Number,perPage:Number,lastPage:Number,total:Number,paging:Boolean,orderBy:String,sort:String,filters:Object,errors:Object,userTrainingProposals:Array,kitas:Array,multipliers:Array,statuses:Array},setup(X){const k=X;Ye.Inertia.on("success",s=>{let t=s.detail.page.props;s.detail.page.component==="TrainingProposals/TrainingProposals"&&t&&(Y.value=t.currentPage,L.value=t.perPage,Ne.value=t.orderBy,Be.value=t.sort,Fe.value=t.total,xe.value=t.lastPage)}),el().props.auth.user;const Y=u(k.currentPage),L=u(k.perPage),Ne=u(k.orderBy),Be=u(k.sort),Fe=u(k.total),xe=u(k.lastPage),I=u(k.filters.location??null),N=u(k.filters.participant_count??null),q=u(k.filters.type??null),B=u(k.filters.multi_id??null),x=u(k.filters.status??null),K=u(k.filters.with_kitas??null),fe=u(""),y=u(k.errors||{}),ge=u(!1),be=u(!1),he=u(!1),we=u(!1),g=u(!1),ee=u(!1),le=u(!1),ae=u(!1),ke=u(!1),Ke=u(null),te=u(null),se=u(null),D=u(null),F=u(null),oe=u(null),ne=u(null),M=u(null),Z=u(null),$e=u(null),Ce=u([]),Me=[{title:"Erster Schulungstag",key:"first_date",width:"4%",sortable:!0},{title:"Zweiter Schulungstag",key:"second_date",width:"4%",sortable:!0},{title:"Ort",key:"location",width:"25%",sortable:!0},{title:"Teilnehmer ",key:"participant_count",width:"5%",sortable:!0},{title:"KiTa",key:"kitas_list",width:"26%",sortable:!1},{title:"Status",key:"status",width:"5%",sortable:!0},{title:"Multiplikator",key:"multi_id",width:"7%",sortable:!0},{title:"Geändert am",key:"updated_at",width:"16%",sortable:!0},{title:"Aktion",key:"actions",width:"15%",sortable:!1,align:"center"}],Ze=[{title:"Erster Schulungstag",key:"first_date",width:"4%",sortable:!1},{title:"Zweiter Schulungstag",key:"second_date",width:"4%",sortable:!1},{title:"Ort",key:"location",width:"25%",sortable:!1},{title:"Teilnehmer ",key:"participant_count",width:"5%",sortable:!1},{title:"KiTa",key:"kitas_list",width:"26%",sortable:!1},{title:"Status",key:"status",width:"5%",sortable:!1},{title:"Geändert am",key:"updated_at",width:"16%",sortable:!1},{title:"Aktion",key:"actions",width:"15%",sortable:!1,align:"center"}],Ue=s=>s&&s.length>0?s.map(t=>{const w={...t};for(const b in w)(w[b]===null||w[b]===void 0)&&(w[b]="-");return w}):[],He=ve(()=>Ue(k.items)),Re=ve(()=>Ue(k.userTrainingProposals)),ye=ve(()=>D.value===null&&F.value===null&&I.value===null&&N.value===null&&q.value===null&&B.value===null&&x.value===null&&K.value===null),Le=ve(()=>D.value!==null||F.value!==null||I.value!==null||N.value!==null||q.value!==null||B.value!==null||x.value!==null||K.value!==null);S(ee,s=>{s||A()}),S(D,s=>{te.value=s?_e(s):null,$()}),S(F,s=>{se.value=s?_e(s):null,$()}),S(te,s=>{$()}),S(se,s=>{$()}),S(I,Pe.debounce(s=>{$()},500)),S(N,Pe.debounce(s=>{$()},500)),S(q,s=>{$()}),S(B,s=>{$()}),S(x,s=>{$()}),S(K,Pe.debounce(s=>{$()},500)),S(M,s=>{oe.value=s?_e(s):null}),S(Z,s=>{ne.value=s?_e(s):null});const $=()=>{g.value=!0,fe.value=String(Date.now())},qe=()=>{D.value=null,te.value=null},Ge=()=>{F.value=null,se.value=null},Ve=async({page:s,itemsPerPage:t,sortBy:w,clearFilters:b})=>{if(b&&(D.value=null,F.value=null,I.value=null,N.value=null,q.value=null,B.value=null,x.value=null,K.value=null),s===Y.value&&b||ye||Le){g.value=!0;let _={page:s,per_page:t};w&&w.length>0?(_.order_by=w[0].key,_.sort=w[0].order):(_.order_by=null,_.sort=null),D.value&&(_.first_date=D.value.toLocaleString()),F.value&&(_.second_date=F.value.toLocaleString()),I.value&&(_.location=I.value),N.value&&(_.participant_count=N.value),q.value&&(_.type=q.value),B.value&&(_.with_multipliers=B.value),x.value&&(_.status=x.value),K.value&&(_.with_kitas=K.value),await al.get(route(route().current()),_,{preserveScroll:!0,preserveState:!0,onCancelToken:T=>{},onCancel:()=>{},onBefore:T=>{g.value=!0},onStart:T=>{},onProgress:T=>{},onSuccess:T=>{Y.value=_.page,L.value=_.per_page},onError:T=>{console.log(T)},onFinish:T=>{g.value=!1}})}},Je=s=>{Ke.value=s.name,G.id=s.id,ke.value=!0},G=De({id:null}),Qe=async()=>{G.processing=!0;let s={onSuccess:t=>{A()},onError:t=>{A(),y.value=t},onFinish:()=>{G.processing=!1}};G.delete(route("training_proposals.destroy",{id:G.id}),s)},A=()=>{ee.value=!1,le.value=!1,ae.value=!1,d.reset(),d.clearErrors(),C.reset(),C.clearErrors(),oe.value=null,ne.value=null,M.value=null,Z.value=null,$e.value=null,Ce.value=null,y.value={}},We=()=>{d.reset(),d.clearErrors(),oe.value=null,ne.value=null,M.value=null,Z.value=null},d=De({first_date:null,second_date:null,location:null,participant_count:null,street:null,house_number:null,zip_code:null,city:null,district:null,notes:null}),Xe=async()=>{d.processing=!0,d.first_date=M.value?new Date(new Date(M.value).setHours(12,0,0,0)).toISOString():null,d.second_date=Z.value?new Date(new Date(Z.value).setHours(12,0,0,0)).toISOString():null,d.post(route("training_proposals.store"),{onSuccess:s=>{A()},onError:s=>{y.value=s},onFinish:()=>{d.processing=!1}})},Se=(s,t)=>{switch(t){case"reserved":le.value=!0;break;case"open":ae.value=!0;break}C.id=s==null?void 0:s.id,C.status=t,$e.value=s,Ce.value=s==null?void 0:s.kitas},C=De({id:null,multi_id:null,status:null}),ze=async(s,t)=>{C.processing=!0,C.multi_id=t,C.status=s,C.put(route("training_proposals.update",{trainingProposal:C.id}),{onSuccess:w=>{A()},onError:w=>{y.value=w},onFinish:()=>{C.processing=!1}})};return(s,t)=>{const w=v("v-card-title"),b=v("v-text-field"),_=v("v-date-picker"),T=v("v-menu"),ue=v("v-locale-provider"),m=v("v-col"),U=v("v-row"),Ee=v("v-textarea"),J=v("v-container"),re=v("v-card-text"),Q=v("v-btn-primary"),z=v("v-hover"),ie=v("v-spacer"),R=v("v-btn"),de=v("v-card-actions"),ce=v("v-card"),pe=v("v-dialog"),Te=v("v-select"),E=v("v-icon"),O=v("v-tooltip"),Oe=v("v-data-table-server");return f(),j(W,null,[a(r(ll),{title:"Terminvorschläge"}),a(tl,{errors:y.value},{header:l(()=>[sl,n("div",ol,[s.$page.props.auth.user.is_super_admin||s.$page.props.auth.user.is_admin?(f(),P(z,{key:0},{default:l(({isHovering:e,props:c})=>[a(R,i(c,{color:e?"accent":"primary",dark:""}),{default:l(()=>[p(" Anlegen "),a(pe,{modelValue:ee.value,"onUpdate:modelValue":t[14]||(t[14]=o=>ee.value=o),activator:"parent",width:"80vw"},{default:l(()=>[a(ce,{height:"80vh"},{default:l(()=>[a(w,null,{default:l(()=>[nl]),_:1}),a(re,null,{default:l(()=>[a(J,null,{default:l(()=>[a(U,null,{default:l(()=>[a(m,{cols:"12",sm:"4"},{default:l(()=>[a(ue,{locale:"de"},{default:l(()=>[a(T,{modelValue:he.value,"onUpdate:modelValue":t[2]||(t[2]=o=>he.value=o),"return-value":M.value,"close-on-content-click":!1},{activator:l(({props:o})=>[a(b,i({label:"Erster Schulungstag*",class:"tw-cursor-pointer","model-value":oe.value,"error-messages":y.value.first_date,"prepend-icon":"mdi-calendar",readonly:"",clearable:""},o,{disabled:g.value}),null,16,["model-value","error-messages","disabled"])]),default:l(()=>[a(_,{"onUpdate:modelValue":[t[0]||(t[0]=o=>he.value=!1),t[1]||(t[1]=o=>M.value=o)],modelValue:M.value},null,8,["modelValue"])]),_:2},1032,["modelValue","return-value"])]),_:2},1024)]),_:2},1024),a(m,{cols:"12",sm:"4"},{default:l(()=>[a(ue,{locale:"de"},{default:l(()=>[a(T,{modelValue:we.value,"onUpdate:modelValue":t[5]||(t[5]=o=>we.value=o),"return-value":Z.value,"close-on-content-click":!1},{activator:l(({props:o})=>[a(b,i({label:"Zweiter Schulungstag*",class:"tw-cursor-pointer","model-value":ne.value,"error-messages":y.value.second_date,"prepend-icon":"mdi-calendar",readonly:"",clearable:""},o,{disabled:g.value}),null,16,["model-value","error-messages","disabled"])]),default:l(()=>[a(_,{"onUpdate:modelValue":[t[3]||(t[3]=o=>we.value=!1),t[4]||(t[4]=o=>Z.value=o)],modelValue:Z.value},null,8,["modelValue"])]),_:2},1032,["modelValue","return-value"])]),_:2},1024)]),_:2},1024),a(m,{cols:"12",sm:"4"},{default:l(()=>[a(b,{type:"number",modelValue:r(d).participant_count,"onUpdate:modelValue":t[6]||(t[6]=o=>r(d).participant_count=o),"error-messages":y.value.participant_count,label:"Teilnehmerzahl*",disabled:g.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:2},1024),a(U,null,{default:l(()=>[a(m,{cols:"12",sm:"4"},{default:l(()=>[a(b,{modelValue:r(d).street,"onUpdate:modelValue":t[7]||(t[7]=o=>r(d).street=o),"error-messages":y.value.street,label:"Straße*",disabled:g.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),a(m,{cols:"12",sm:"4"},{default:l(()=>[a(b,{modelValue:r(d).house_number,"onUpdate:modelValue":t[8]||(t[8]=o=>r(d).house_number=o),"error-messages":y.value.house_number,label:"Hausnummer*",disabled:g.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),a(m,{cols:"12",sm:"4"},{default:l(()=>[a(b,{modelValue:r(d).zip_code,"onUpdate:modelValue":t[9]||(t[9]=o=>r(d).zip_code=o),"error-messages":y.value.zip_code,label:"Postleitzahl*",disabled:g.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:1}),a(U,null,{default:l(()=>[a(m,{cols:"12",sm:"6"},{default:l(()=>[a(b,{modelValue:r(d).district,"onUpdate:modelValue":t[10]||(t[10]=o=>r(d).district=o),"error-messages":y.value.district,label:"Bezirk",disabled:g.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),a(m,{cols:"12",sm:"6"},{default:l(()=>[a(b,{modelValue:r(d).city,"onUpdate:modelValue":t[11]||(t[11]=o=>r(d).city=o),"error-messages":y.value.city,label:"Stadt*",disabled:g.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:1}),a(U,null,{default:l(()=>[a(m,{cols:"12",sm:"6"},{default:l(()=>[a(Ee,{modelValue:r(d).location,"onUpdate:modelValue":t[12]||(t[12]=o=>r(d).location=o),"error-messages":y.value.location,label:"Ort*",disabled:g.value,required:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),a(m,{cols:"12",sm:"6"},{default:l(()=>[a(Ee,{modelValue:r(d).notes,"onUpdate:modelValue":t[13]||(t[13]=o=>r(d).notes=o),"error-messages":y.value.notes,label:"Notizen",disabled:g.value,required:""},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:1})]),_:2},1024)]),_:2},1024),a(de,null,{default:l(()=>[a(z,null,{default:l(({isHovering:o,props:H})=>[a(Q,i({onClick:We},H,{color:o?"accent":"primary"}),{default:l(()=>[p("Zurücksetzen")]),_:2},1040,["color"])]),_:2},1024),a(ie),a(z,null,{default:l(({isHovering:o,props:H})=>[a(R,i({onClick:A},H,{color:o?"accent":"primary"}),{default:l(()=>[p("Stornieren")]),_:2},1040,["color"])]),_:2},1024),a(z,null,{default:l(({isHovering:o,props:H})=>[a(Q,i({onClick:Xe},H,{color:o?"accent":"primary"}),{default:l(()=>[p("Speichern")]),_:2},1040,["color"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1040,["color"])]),_:1})):V("",!0)]),s.$page.props.auth.user.is_super_admin||s.$page.props.auth.user.is_admin?(f(),P(pe,{key:0,modelValue:ke.value,"onUpdate:modelValue":t[15]||(t[15]=e=>ke.value=e),width:"20vw"},{default:l(()=>[a(ce,{height:"30vh"},{default:l(()=>[a(re,null,{default:l(()=>[a(J,null,{default:l(()=>[a(U,null,{default:l(()=>[a(m,{cols:"12"},{default:l(()=>[ul]),_:1})]),_:1})]),_:1})]),_:1}),a(de,null,{default:l(()=>[a(ie),a(z,null,{default:l(({isHovering:e,props:c})=>[a(R,i({onClick:A},c,{color:e?"accent":"primary"}),{default:l(()=>[p("Abbrechen")]),_:2},1040,["color"])]),_:1}),a(z,null,{default:l(({isHovering:e,props:c})=>[a(Q,i({onClick:Qe},c,{color:e?"accent":"primary"}),{default:l(()=>[p("Löschen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):V("",!0)]),default:l(()=>[n("div",rl,[s.$page.props.auth.user.is_super_admin||s.$page.props.auth.user.is_admin?(f(),j("div",il,[n("div",dl,[a(U,null,{default:l(()=>[a(m,{cols:"12",sm:"4"},{default:l(()=>[a(ue,{locale:"de"},{default:l(()=>[a(T,{modelValue:ge.value,"onUpdate:modelValue":t[18]||(t[18]=e=>ge.value=e),"return-value":D.value,"close-on-content-click":!1},{activator:l(({props:e})=>[a(b,i({label:"Erster Schulungstag",class:"tw-cursor-pointer","model-value":te.value,"prepend-icon":"mdi-calendar",readonly:"",clearable:""},e,{"onClick:clear":qe}),null,16,["model-value"])]),default:l(()=>[a(_,{"onUpdate:modelValue":[t[16]||(t[16]=e=>ge.value=!1),t[17]||(t[17]=e=>D.value=e)],modelValue:D.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1}),a(m,{cols:"12",sm:"4"},{default:l(()=>[a(ue,{locale:"de"},{default:l(()=>[a(T,{modelValue:be.value,"onUpdate:modelValue":t[21]||(t[21]=e=>be.value=e),"return-value":F.value,"close-on-content-click":!1},{activator:l(({props:e})=>[a(b,i({label:"Zweiter Schulungstag",class:"tw-cursor-pointer","model-value":se.value,"prepend-icon":"mdi-calendar",readonly:"",clearable:""},e,{"onClick:clear":Ge}),null,16,["model-value"])]),default:l(()=>[a(_,{modelValue:F.value,"onUpdate:modelValue":[t[19]||(t[19]=e=>F.value=e),t[20]||(t[20]=e=>be.value=!1)]},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1}),a(m,{cols:"12",sm:"4"},{default:l(()=>[a(b,{modelValue:I.value,"onUpdate:modelValue":t[22]||(t[22]=e=>I.value=e),label:"Ort",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),a(U,null,{default:l(()=>[a(m,{cols:"12",sm:"3"},{default:l(()=>[a(b,{type:"number",modelValue:N.value,"onUpdate:modelValue":t[23]||(t[23]=e=>N.value=e),label:"Teilnehmerzahl",clearable:""},null,8,["modelValue"])]),_:1}),a(m,{cols:"12",sm:"3"},{default:l(()=>[a(Te,{modelValue:x.value,"onUpdate:modelValue":t[24]||(t[24]=e=>x.value=e),items:X.statuses,"item-title":"title","item-value":"value",label:"Status",multiple:"",disabled:g.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1}),a(m,{cols:"12",sm:"3"},{default:l(()=>[s.$page.props.auth.user.is_super_admin||s.$page.props.auth.user.is_admin?(f(),P(Te,{key:0,modelValue:B.value,"onUpdate:modelValue":t[25]||(t[25]=e=>B.value=e),items:X.multipliers,"item-title":"full_name","item-value":"id",label:"Multiplikator",multiple:"",disabled:g.value,clearable:""},null,8,["modelValue","items","disabled"])):V("",!0)]),_:1}),a(m,{cols:"12",sm:"3"},{default:l(()=>[s.$page.props.auth.user.is_super_admin||s.$page.props.auth.user.is_admin?(f(),P(Te,{key:0,modelValue:K.value,"onUpdate:modelValue":t[26]||(t[26]=e=>K.value=e),items:X.kitas,"item-title":"name","item-value":"id",label:"KiTa",multiple:"",disabled:g.value,clearable:""},null,8,["modelValue","items","disabled"])):V("",!0)]),_:1})]),_:1})])])):V("",!0),s.$page.props.auth.user.is_user_multiplier?(f(),j("div",cl,vl)):V("",!0),a(Oe,{"items-per-page":L.value,"onUpdate:itemsPerPage":t[28]||(t[28]=e=>L.value=e),"items-per-page-options":[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],"items-per-page-text":"Objekte pro Seite:",headers:Me,page:Y.value,"items-length":Fe.value,items:He.value,search:fe.value,loading:g.value,class:"data-table-container elevation-1","item-value":"name","onUpdate:options":Ve},{item:l(({item:e})=>{var c;return[n("tr",{"data-id":e.id,"data-order":e.order},[n("td",null,h(!e.first_date||e.first_date==="-"?e.first_date:r(me)(e.first_date,"de-DE")),1),n("td",null,h(!e.second_date||e.second_date==="-"?e.second_date:r(me)(e.second_date,"de-DE")),1),n("td",null,h(e.formatted_location),1),n("td",null,h(e.participant_count),1),n("td",null,h(e!=null&&e.kitas_list&&(e!=null&&e.kitas_list.length)?e==null?void 0:e.kitas_list.join(","):"-"),1),n("td",null,[a(O,{location:"top"},{activator:l(({props:o})=>[n("span",ml,[a(E,i(o,{size:"small",class:"tw-me-2"}),{default:l(()=>[p(h(r(je)(e.status)),1)]),_:2},1040)])]),default:l(()=>[n("span",null,h(e.formatted_status),1)]),_:2},1024)]),n("td",null,h(e!=null&&e.multiplier?(c=e==null?void 0:e.multiplier)==null?void 0:c.full_name:"-"),1),n("td",null,h(!e.updated_at||e.updated_at==="-"?e.updated_at:r(Ie)(e.updated_at,"de-DE")),1),n("td",fl,[s.$page.props.auth.user.is_super_admin||s.$page.props.auth.user.is_admin?(f(),j(W,{key:0},[(e==null?void 0:e.kitas_users_emails.length)>0?(f(),P(O,{key:0,location:"top"},{activator:l(({props:o})=>[n("a",i({href:`mailto:?bcc=${e==null?void 0:e.kitas_users_emails.join(",")}`},o),[a(E,i(o,{size:"small",class:"tw-me-2"}),{default:l(()=>[p("mdi-email")]),_:2},1040)],16,gl)]),default:l(()=>[bl]),_:2},1024)):V("",!0)],64)):V("",!0),e.status==="open"&&s.$page.props.auth.user.is_user_multiplier?(f(),P(O,{key:1,location:"top"},{activator:l(({props:o})=>[n("span",{class:"tw-cursor-pointer",onClick:H=>Se(e,"reserved")},[a(E,i(o,{size:"small",class:"tw-me-2"}),{default:l(()=>[p("mdi-plus-circle-outline")]),_:2},1040)],8,hl)]),default:l(()=>[wl]),_:2},1024)):V("",!0),e.status==="reserved"&&s.$page.props.auth.user.is_user_multiplier?(f(),P(O,{key:2,location:"top"},{activator:l(({props:o})=>[n("span",{class:"tw-cursor-pointer",onClick:H=>Se(e,"open")},[a(E,i(o,{size:"small",class:"tw-me-2"}),{default:l(()=>[p("mdi-minus-circle-outline")]),_:2},1040)],8,kl)]),default:l(()=>[yl]),_:2},1024)):V("",!0),s.$page.props.auth.user.is_super_admin||s.$page.props.auth.user.is_admin?(f(),P(O,{key:3,location:"top"},{activator:l(({props:o})=>[a(r(Ae),{href:s.route("training_proposals.show",{id:e.id})},{default:l(()=>[a(E,i(o,{size:"small",class:"tw-me-2"}),{default:l(()=>[p("mdi-pencil")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[Vl]),_:2},1024)):V("",!0),s.$page.props.auth.user.is_super_admin||s.$page.props.auth.user.is_admin?(f(),P(O,{key:4,location:"top"},{activator:l(({props:o})=>[a(E,i(o,{size:"small",class:"tw-me-2",onClick:H=>Je(e)}),{default:l(()=>[p("mdi-delete")]),_:2},1040,["onClick"])]),default:l(()=>[Sl]),_:2},1024)):V("",!0)])],8,_l)]}),"no-data":l(()=>[n("div",Tl,[ye.value?(f(),j("h3",Pl,"Die Tabelle ist leer.")):(f(),j(W,{key:1},[Dl,a(R,{color:"primary",onClick:t[27]||(t[27]=e=>Ve({page:1,itemsPerPage:L.value,clearFilters:!0}))},{default:l(()=>[p("Reset")]),_:1})],64))])]),_:1},8,["items-per-page","items-per-page-options","page","items-length","items","search","loading"]),s.$page.props.auth.user.is_user_multiplier?(f(),j(W,{key:2},[Fl,$l,a(Oe,{"items-per-page-options":[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],"items-per-page-text":"Objekte pro Seite:",headers:Ze,items:Re.value,search:fe.value,loading:g.value,class:"data-table-container elevation-1","item-value":"name"},{item:l(({item:e})=>[n("tr",{"data-id":e.id,"data-order":e.order},[n("td",null,h(!e.first_date||e.first_date==="-"?"item.first_date":r(me)(e.first_date,"de-DE")),1),n("td",null,h(!e.second_date||e.second_date==="-"?"item.second_date":r(me)(e.second_date,"de-DE")),1),n("td",null,h(e.formatted_location),1),n("td",null,h(e.participant_count),1),n("td",null,h(e!=null&&e.kitas_list&&(e!=null&&e.kitas_list.length)?e==null?void 0:e.kitas_list.join(","):"-"),1),n("td",null,[a(O,{location:"top"},{activator:l(({props:c})=>[n("span",Ul,[a(E,i(c,{size:"small",class:"tw-me-2"}),{default:l(()=>[p(h(r(je)(e.status)),1)]),_:2},1040)])]),default:l(()=>[n("span",null,h(e.formatted_status),1)]),_:2},1024)]),n("td",null,h(!e.updated_at||e.updated_at==="-"?e.updated_at:r(Ie)(e.updated_at,"de-DE")),1),n("td",zl,[(e==null?void 0:e.kitas_users_emails.length)>0?(f(),P(O,{key:0,location:"top"},{activator:l(({props:c})=>[n("a",i({href:`mailto:?bcc=${e==null?void 0:e.kitas_users_emails.join(",")}`},c),[a(E,i(c,{size:"small",class:"tw-me-2"}),{default:l(()=>[p("mdi-email")]),_:2},1040)],16,El)]),default:l(()=>[Ol]),_:2},1024)):V("",!0),e.status==="reserved"&&s.$page.props.auth.user.is_user_multiplier?(f(),P(O,{key:1,location:"top"},{activator:l(({props:c})=>[n("span",{class:"tw-cursor-pointer",onClick:o=>Se(e,"open")},[a(E,i(c,{size:"small",class:"tw-me-2"}),{default:l(()=>[p("mdi-minus-circle-outline")]),_:2},1040)],8,Al)]),default:l(()=>[jl]),_:2},1024)):V("",!0),a(O,{location:"top"},{activator:l(({props:c})=>[a(r(Ae),{href:s.route("training_proposals.show",{id:e.id})},{default:l(()=>[a(E,i(c,{size:"small",class:"tw-me-2"}),{default:l(()=>[p("mdi-pencil")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[Il]),_:2},1024)])],8,Cl)]),bottom:l(()=>[]),"no-data":l(()=>[n("div",Nl,[ye.value?(f(),j("h3",Bl,"Die Tabelle ist leer.")):(f(),j(W,{key:1},[xl,a(R,{color:"primary",onClick:t[29]||(t[29]=e=>Ve({page:1,itemsPerPage:L.value,clearFilters:!0}))},{default:l(()=>[p("Reset")]),_:1})],64))])]),_:1},8,["items-per-page-options","items","search","loading"])],64)):V("",!0),a(J,null,{default:l(()=>[a(U,null,{default:l(()=>[a(pe,{modelValue:le.value,"onUpdate:modelValue":t[30]||(t[30]=e=>le.value=e),width:"20vw"},{default:l(()=>[a(ce,{height:"30vh"},{default:l(()=>[a(re,null,{default:l(()=>[a(J,null,{default:l(()=>[a(U,null,{default:l(()=>[a(m,{cols:"12"},{default:l(()=>[Kl]),_:1})]),_:1})]),_:1})]),_:1}),a(de,null,{default:l(()=>[a(ie),a(z,null,{default:l(({isHovering:e,props:c})=>[a(R,i({onClick:A},c,{color:e?"accent":"primary"}),{default:l(()=>[p("Abbrechen")]),_:2},1040,["color"])]),_:1}),a(z,null,{default:l(({isHovering:e,props:c})=>[a(Q,i({onClick:o=>ze("reserved",s.$page.props.auth.user.id)},c,{color:e?"accent":"primary"}),{default:l(()=>[p("Einreichen")]),_:2},1040,["onClick","color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(pe,{modelValue:ae.value,"onUpdate:modelValue":t[32]||(t[32]=e=>ae.value=e),width:"20vw"},{default:l(()=>[a(ce,{height:"30vh"},{default:l(()=>[a(re,null,{default:l(()=>[a(J,null,{default:l(()=>[a(U,null,{default:l(()=>[a(m,{cols:"12"},{default:l(()=>[Ml]),_:1})]),_:1})]),_:1})]),_:1}),a(de,null,{default:l(()=>[a(ie),a(z,null,{default:l(({isHovering:e,props:c})=>[a(R,i({onClick:A},c,{color:e?"accent":"primary"}),{default:l(()=>[p("Abbrechen")]),_:2},1040,["color"])]),_:1}),a(z,null,{default:l(({isHovering:e,props:c})=>[a(Q,i({onClick:t[31]||(t[31]=o=>ze("open",null))},c,{color:e?"accent":"primary"}),{default:l(()=>[p("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["errors"])],64)}}};export{Gl as default};
