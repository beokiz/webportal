import{d as z}from"./index-04ee3d7f.js";import{K as B,k as s,T as E,r,o as j,f as A,a as o,u as y,w as t,F as P,Z as $,b as u,p as b,d as D,N as U}from"./app-3347aea7.js";import{_ as I}from"./AuthenticatedLayout-34716e2c.js";import{a as L}from"./common-326e1711.js";import{v as M}from"./v4-4a60fe23.js";import"./ApplicationLogo-b9f0ffd9.js";const R=u("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Übersicht Screenings",-1),K={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},Z={class:"tw-bg-white tw-flex tw-justify-between tw-px-6 tw-py-6"},q={class:"tw-w-full"},G={class:"tw-ml-6"},ee={__name:"Export",props:{token:String,errors:Object},setup(T){const C=T;z.Inertia.on("success",a=>{a.detail.page.props,a.detail.page.component}),B().props.auth.user;const i=s(C.errors||{}),c=s(),p=s(),g=s(null),V=s(null),x=s(null),_=s(!1),f=s(!1),F=[{domain_name:"Fitsy",domain_id:1},{domain_name:"Second",domain_id:2},{domain_name:"Test",domain_id:3},{domain_name:"Tst2",domain_id:4}];E({});const N=async()=>{U.start();try{const a=await axios.post(route("export.make"),{},{responseType:"blob"}),e=a.headers["content-disposition"],d=e.indexOf("filename=");let m;d!==-1?m=e.slice(d+9).replace(/['"]/g,""):m=M();const v=new Blob([a.data],{type:a.headers["content-type"]}),n=document.createElement("a");n.href=window.URL.createObjectURL(v),n.download=m,n.click()}catch(a){console.error(a)}U.done()};return(a,e)=>{const d=r("v-text-field"),m=r("v-date-picker"),v=r("v-menu"),n=r("v-col"),w=r("v-row"),k=r("v-select"),O=r("v-btn"),S=r("v-hover");return j(),A(P,null,[o(y($),{title:"Übersicht Screenings"}),o(I,{errors:i.value},{header:t(()=>[R]),default:t(()=>[u("div",K,[u("div",Z,[u("div",q,[o(w,null,{default:t(()=>[o(n,{cols:"12",sm:"6"},{default:t(()=>[o(v,{modelValue:_.value,"onUpdate:modelValue":e[2]||(e[2]=l=>_.value=l),"return-value":c.value,"close-on-content-click":!1},{activator:t(({props:l})=>[o(d,b({label:"Abgegeben ab",class:"tw-cursor-pointer","model-value":c.value,"prepend-icon":"mdi-calendar",readonly:""},l),null,16,["model-value"])]),default:t(()=>[o(m,{"onUpdate:modelValue":[e[0]||(e[0]=l=>_.value=!1),e[1]||(e[1]=l=>c.value=l)],modelValue:c.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1}),o(n,{cols:"12",sm:"6"},{default:t(()=>[o(v,{modelValue:f.value,"onUpdate:modelValue":e[5]||(e[5]=l=>f.value=l),"return-value":p.value,"close-on-content-click":!1},{activator:t(({props:l})=>[o(d,b({label:"Abgegeben bis",class:"tw-cursor-pointer","model-value":p.value,"prepend-icon":"mdi-calendar",readonly:""},l),null,16,["model-value"])]),default:t(()=>[o(m,{"onUpdate:modelValue":[e[3]||(e[3]=l=>f.value=!1),e[4]||(e[4]=l=>p.value=l)],modelValue:p.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1}),o(w,null,{default:t(()=>[o(n,{cols:"12",sm:"4"},{default:t(()=>[o(k,{modelValue:x.value,"onUpdate:modelValue":e[6]||(e[6]=l=>x.value=l),items:F,"error-messages":i.value.domain,"item-title":"domain_name","item-value":"domain_id",label:"Domanen"},null,8,["modelValue","error-messages"])]),_:1}),o(n,{cols:"12",sm:"4"},{default:t(()=>[o(k,{modelValue:g.value,"onUpdate:modelValue":e[7]||(e[7]=l=>g.value=l),items:y(L),"error-messages":i.value.age,"item-title":"age_name","item-value":"age_number",label:"Altersgruppe"},null,8,["modelValue","items","error-messages"])]),_:1}),o(n,{cols:"12",sm:"4"},{default:t(()=>[o(d,{modelValue:V.value,"onUpdate:modelValue":e[8]||(e[8]=l=>V.value=l),type:"number","error-messages":i.value.zipCode,label:"Postleitzahl"},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),u("div",G,[o(S,null,{default:t(({isHovering:l,props:h})=>[o(O,b({class:"tw-mt-2"},h,{color:l?"accent":"primary",onClick:N,dark:""}),{default:t(()=>[D("Suche")]),_:2},1040,["color"])]),_:1})])])])]),_:1},8,["errors"])],64)}}};export{ee as default};
