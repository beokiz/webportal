import{d as ul}from"./index-031c0217.js";import{K as nl,h as s,j as ye,k as F,A as Ue,T as $e,r as m,o as w,f as X,a as e,u as i,w as l,F as we,Z as ol,b as r,c as P,m as f,d as g,g as A,t as T,i as sl,l as Ae,O as rl}from"./app-5d24da7c.js";import{_ as dl}from"./AuthenticatedLayout-f7686879.js";import{s as Ne}from"./VueTimepikcer.esm-39fbc775.js";import{c as Y,f as je,b as Le}from"./common-b6d82cb9.js";import"./ApplicationLogo-77de888d.js";const il=r("h2",{class:"tw-font-semibold tw-text-xl tw-text-gray-800 tw-leading-tight"},"Schulungen",-1),cl={class:"tw-flex tw-items-center tw-justify-end"},ml=r("span",{class:"tw-text-h5"},"Verwalte Schulungen",-1),vl=r("p",null,"Sind Sie sicher, dass Sie die ausgewählte Schulung löschen möchten?",-1),pl={class:"tw-table-block tw-max-w-full tw-mx-auto tw-py-6 tw-px-4 sm:tw-px-6 lg:tw-px-8"},_l={key:0,class:"tw-bg-white tw-flex tw-justify-between tw-px-6 tw-py-6"},fl={class:"tw-w-full"},gl=["data-id","data-order"],bl={class:"text-center"},hl=["onClick"],Vl=r("span",null,"Schulungstermin bestätigen",-1),yl=["onClick"],wl=r("span",null,"Training abschließen und Einrichtungen zulassen",-1),kl=["onClick"],Sl=r("span",null,"Training abbrechen",-1),Fl=r("span",null,"Schulung bearbeiten",-1),Tl=r("span",null,"Schulung löschen",-1),Cl={class:"tw-py-6"},Dl={key:0,class:"tw-mb-4"},Ul=r("h3",{class:"tw-mb-4"},"Die Tabelle ist leer. Bitte setzen Sie die Suchfilter zurück.",-1),$l=r("span",{class:"tw-text-h5"},"Schulung gegenüber den Kitas bestätigen?",-1),El={class:"tw-font-bold tw-font-italic"},xl=r("p",{class:"mb-4"},"Sind Sie sich sicher, dass Sie die Termine gegenüber den folgenden Kitas bestätigen wollen? Im Folgenden gibt es individuelle E-Mail-Vorschläge für jede Kita.",-1),Pl=r("p",null,"Bitte klicken Sie auf den Namen der Kita, um diesen zu erhalten.",-1),zl=r("p",null,"Möchten Sie die ausgewählte Ausbildung wirklich absolvieren?",-1),Ol=r("p",null,"Sind Sie sicher, dass Sie die ausgewählte Schulung stornieren möchten?",-1),Kl={__name:"Trainings",props:{items:Array,currentPage:Number,perPage:Number,lastPage:Number,total:Number,paging:Boolean,orderBy:String,sort:String,filters:Object,errors:Object,multipliers:Array,kitas:Array,statuses:Array,types:Array},setup(G){const k=G;ul.Inertia.on("success",u=>{let t=u.detail.page.props;u.detail.page.component==="Trainings/Trainings"&&t&&(ie.value=t.currentPage,ee.value=t.perPage,Be.value=t.orderBy,Ie.value=t.sort,Ee.value=t.total,Ke.value=t.lastPage)}),nl().props.auth.user;const ie=s(k.currentPage),ee=s(k.perPage),Be=s(k.orderBy),Ie=s(k.sort),Ee=s(k.total),Ke=s(k.lastPage),N=s(k.filters.location??null),j=s(k.filters.participant_count??null),L=s(k.filters.max_participant_count??null),B=s(k.filters.type??null),I=s(k.filters.multi_id??null),K=s(k.filters.status??null),Z=s(k.filters.with_kitas??null),xe=s(""),y=s(k.errors||{}),ke=s(!1),Se=s(!1),Fe=s(!1),Te=s(!1),v=s(!1),ce=s(!1),me=s(!1),ve=s(!1),pe=s(!1),_e=s(!1),Ze=s(null),fe=s(null),ge=s(null),$=s(null),E=s(null),be=s(null),he=s(null),M=s(null),H=s(null),D=s(null),le=s([]),Ve=s([]),Me=[{title:"Erster Schulungstag",key:"first_date",width:"4%",sortable:!0},{title:"Zweiter Schulungstag",key:"second_date",width:"4%",sortable:!0},{title:"Ort",key:"location",width:"10%",sortable:!0},{title:"Teilnehmer ",key:"prepared_participant_count",width:"5%",sortable:!0},{title:"Kita",key:"kitas_list",width:"17%",sortable:!1},{title:"Typ",key:"type",width:"7%",sortable:!0},{title:"Status",key:"status",width:"7%",sortable:!0},{title:"Multiplikator",key:"multi_id",width:"7%",sortable:!0},{title:"Notizen",key:"notes",width:"15%",sortable:!0},{title:"Erstellt am",key:"created_at",width:"7%",sortable:!0},{title:"Geändert am",key:"updated_at",width:"7%",sortable:!0},{title:"Aktion",key:"actions",width:"10%",sortable:!1,align:"center"}],He=ye(()=>k.items.map(u=>{const t={...u};for(const h in t)(t[h]===null||t[h]===void 0)&&(t[h]="-");return t})),Pe=ye(()=>$.value===null&&E.value===null&&N.value===null&&j.value===null&&L.value===null&&B.value===null&&I.value===null&&K.value===null&&Z.value===null),qe=ye(()=>$.value!==null||E.value!==null||N.value!==null||j.value!==null||L.value!==null||B.value!==null||I.value!==null||K.value!==null||Z.value!==null),Ge=ye(()=>{var u,t,h,_,c,V,S;return[{label:"Erster Schukungstag",value:`${Y((u=D.value)==null?void 0:u.first_date)} ${(t=D.value)==null?void 0:t.first_date_start_and_end_time}`},{label:"Zweiter Schulungstag",value:`${Y((h=D.value)==null?void 0:h.second_date)} ${(_=D.value)==null?void 0:_.second_date_start_and_end_time}`},{label:"Ort",value:(c=D.value)==null?void 0:c.location},{label:"Typ",value:(V=D.value)==null?void 0:V.type},{label:"Teinhemheranzahl",value:(S=D.value)==null?void 0:S.participant_count}]});F(ce,u=>{u||x()}),F($,u=>{fe.value=u?Y(u):null,U()}),F(E,u=>{ge.value=u?Y(u):null,U()}),F(fe,u=>{U()}),F(ge,u=>{U()}),F(N,Ue.debounce(u=>{U()},500)),F(j,Ue.debounce(u=>{U()},500)),F(L,Ue.debounce(u=>{U()},500)),F(B,u=>{U()}),F(I,u=>{U()}),F(K,u=>{U()}),F(M,u=>{be.value=Y(u)}),F(H,u=>{he.value=Y(u)}),F(Z,u=>{U()});const U=()=>{v.value=!0,xe.value=String(Date.now())},Re=()=>{$.value=null,fe.value=null},Je=()=>{E.value=null,ge.value=null},ze=async({page:u,itemsPerPage:t,sortBy:h,clearFilters:_})=>{if(_&&($.value=null,E.value=null,N.value=null,j.value=null,L.value=null,B.value=null,I.value=null,K.value=null,Z.value=null),u===ie.value&&_||Pe||qe){v.value=!0;let c={page:u,per_page:t};h&&h.length>0?(c.order_by=h[0].key,c.sort=h[0].order):(c.order_by=null,c.sort=null),$.value&&(c.first_date=$.value.toLocaleString()),E.value&&(c.second_date=E.value.toLocaleString()),N.value&&(c.location=N.value),j.value&&(c.participant_count=j.value),L.value&&(c.max_participant_count=L.value),B.value&&(c.type=B.value),I.value&&(c.with_multipliers=I.value),K.value&&(c.status=K.value),Z.value&&(c.with_kitas=Z.value),await rl.get(route(route().current()),c,{preserveScroll:!0,preserveState:!0,onCancelToken:V=>{},onCancel:()=>{},onBefore:V=>{v.value=!0},onStart:V=>{},onProgress:V=>{},onSuccess:V=>{ie.value=c.page,ee.value=c.per_page},onError:V=>{console.log(V)},onFinish:V=>{v.value=!1}})}},Qe=u=>{Ze.value=u.name,ae.id=u.id,_e.value=!0},ae=$e({id:null}),We=async()=>{ae.processing=!0;let u={onSuccess:t=>{x()},onError:t=>{x(),y.value=t},onFinish:()=>{ae.processing=!1}};ae.delete(route("trainings.destroy",{id:ae.id}),u)},x=()=>{ce.value=!1,_e.value=!1,me.value=!1,ve.value=!1,pe.value=!1,d.reset(),d.clearErrors(),z.reset(),z.clearErrors(),be.value=null,he.value=null,M.value=null,H.value=null,D.value=null,le.value=null,y.value={}},Xe=()=>{d.reset(),d.clearErrors(),be.value=null,he.value=null,M.value=null,H.value=null},d=$e({multi_id:null,first_date:null,first_date_start_and_end_time:"12:00",second_date:null,second_date_start_and_end_time:"12:00",location:null,max_participant_count:null,type:null,street:null,house_number:null,zip_code:null,city:null,notes:null}),Ye=async()=>{d.processing=!0,d.first_date=M.value?new Date(M.value).toLocaleString():null,d.second_date=H.value?new Date(H.value).toLocaleString():null,d.post(route("trainings.store"),{onSuccess:u=>{x()},onError:u=>{y.value=u},onFinish:()=>{d.processing=!1}})},Ce=(u,t)=>{switch(t){case"confirmed":me.value=!0;break;case"completed":ve.value=!0;break;case"cancelled":pe.value=!0;break}z.id=u==null?void 0:u.id,z.status=t,D.value=u,le.value=u==null?void 0:u.kitas},z=$e({id:null,status:null}),De=async u=>{z.processing=!0,z.status=u,z.put(route("trainings.update",{training:z.id}),{onSuccess:t=>{var h,_,c,V;if(u==="confirmed"){let S=[];if(Ve.value.map(o=>{o==null||o.users_emails.map(q=>{S.push(q)})}),S=S.filter((o,q,b)=>b.indexOf(o)===q),S&&S.length){const o=document.createElement("a"),q=(_=(h=D.value)==null?void 0:h.email_messages[u])==null?void 0:_.subject,b=(V=(c=D.value)==null?void 0:c.email_messages[u])==null?void 0:V.body;o.href=`mailto:?bcc=${S.join(",")}&subject=${q}&body=${b}`,document.body.appendChild(o),o.click(),document.body.removeChild(o)}Ve.value=[]}x()},onError:t=>{y.value=t},onFinish:()=>{z.processing=!1}})};return(u,t)=>{const h=m("v-card-title"),_=m("v-text-field"),c=m("v-date-picker"),V=m("v-menu"),S=m("v-locale-provider"),o=m("v-col"),q=m("v-label"),b=m("v-row"),J=m("v-select"),Oe=m("v-textarea"),Q=m("v-container"),te=m("v-card-text"),W=m("v-btn-primary"),C=m("v-hover"),ue=m("v-spacer"),R=m("v-btn"),ne=m("v-card-actions"),oe=m("v-card"),se=m("v-dialog"),re=m("v-icon"),de=m("v-tooltip"),el=m("v-data-table-server"),ll=m("v-checkbox"),al=m("v-list-item"),tl=m("v-list");return w(),X(we,null,[e(i(ol),{title:"Schulungen"}),e(dl,{errors:y.value},{header:l(()=>[il,r("div",cl,[u.$page.props.auth.user.is_super_admin||u.$page.props.auth.user.is_admin?(w(),P(C,{key:0},{default:l(({isHovering:a,props:p})=>[e(R,f(p,{color:a?"accent":"primary",dark:""}),{default:l(()=>[g(" Anlegen "),e(se,{modelValue:ce.value,"onUpdate:modelValue":t[17]||(t[17]=n=>ce.value=n),activator:"parent",width:"80vw"},{default:l(()=>[e(oe,{height:"80vh"},{default:l(()=>[e(h,null,{default:l(()=>[ml]),_:1}),e(te,null,{default:l(()=>[e(Q,null,{default:l(()=>[e(b,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(S,{locale:"de"},{default:l(()=>[e(V,{modelValue:Fe.value,"onUpdate:modelValue":t[2]||(t[2]=n=>Fe.value=n),"return-value":M.value,"close-on-content-click":!1},{activator:l(({props:n})=>[e(_,f({label:"Erster Schulungstag*",class:"tw-cursor-pointer","model-value":be.value,"error-messages":y.value.first_date,"prepend-icon":"mdi-calendar",readonly:"",clearable:""},n,{disabled:v.value}),null,16,["model-value","error-messages","disabled"])]),default:l(()=>[e(c,{"onUpdate:modelValue":[t[0]||(t[0]=n=>Fe.value=!1),t[1]||(t[1]=n=>M.value=n)],modelValue:M.value},null,8,["modelValue"])]),_:2},1032,["modelValue","return-value"])]),_:2},1024)]),_:2},1024),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(q,{class:"tw-mt-6 tw-mr-2"},{default:l(()=>[g("Zeitraum erster Schulungstag*")]),_:1}),e(i(Ne),{modelValue:i(d).first_date_start_and_end_time,"onUpdate:modelValue":t[3]||(t[3]=n=>i(d).first_date_start_and_end_time=n),hideClearButton:!0,format:"HH:mm",hourLabel:"Std.",minuteLabel:"Protokoll",disabled:v.value},null,8,["modelValue","hourLabel","disabled"])]),_:1})]),_:2},1024),e(b,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(S,{locale:"de"},{default:l(()=>[e(V,{modelValue:Te.value,"onUpdate:modelValue":t[6]||(t[6]=n=>Te.value=n),"return-value":H.value,"close-on-content-click":!1},{activator:l(({props:n})=>[e(_,f({label:"Zweiter Schulungstag*",class:"tw-cursor-pointer","model-value":he.value,"error-messages":y.value.second_date,"prepend-icon":"mdi-calendar",readonly:"",clearable:""},n,{disabled:v.value}),null,16,["model-value","error-messages","disabled"])]),default:l(()=>[e(c,{"onUpdate:modelValue":[t[4]||(t[4]=n=>Te.value=!1),t[5]||(t[5]=n=>H.value=n)],modelValue:H.value},null,8,["modelValue"])]),_:2},1032,["modelValue","return-value"])]),_:2},1024)]),_:2},1024),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(q,{class:"tw-mt-6 tw-mr-2"},{default:l(()=>[g("Zeitraum zweiter Schulungstag*")]),_:1}),e(i(Ne),{modelValue:i(d).second_date_start_and_end_time,"onUpdate:modelValue":t[7]||(t[7]=n=>i(d).second_date_start_and_end_time=n),hideClearButton:!0,format:"HH:mm",hourLabel:"Std.",minuteLabel:"Protokoll",disabled:v.value},null,8,["modelValue","hourLabel","disabled"])]),_:1})]),_:2},1024),e(b,null,{default:l(()=>[e(o,{cols:"12",sm:"4"},{default:l(()=>[e(_,{type:"number",modelValue:i(d).max_participant_count,"onUpdate:modelValue":t[8]||(t[8]=n=>i(d).max_participant_count=n),"error-messages":y.value.max_participant_count,label:"Max. Teilnehmerzahl*",disabled:v.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(J,{modelValue:i(d).type,"onUpdate:modelValue":t[9]||(t[9]=n=>i(d).type=n),"error-messages":y.value.type,items:G.types,"item-title":"title","item-value":"value",label:"Typ*",disabled:v.value,clearable:""},null,8,["modelValue","error-messages","items","disabled"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(J,{modelValue:i(d).multi_id,"onUpdate:modelValue":t[10]||(t[10]=n=>i(d).multi_id=n),"error-messages":y.value.multi_id,items:G.multipliers,"item-title":"full_name","item-value":"id",label:"Multiplikator*",disabled:v.value,clearable:""},null,8,["modelValue","error-messages","items","disabled"])]),_:1})]),_:1}),e(b,null,{default:l(()=>[e(o,{cols:"12",sm:"3"},{default:l(()=>[e(_,{modelValue:i(d).street,"onUpdate:modelValue":t[11]||(t[11]=n=>i(d).street=n),"error-messages":y.value.street,label:"Straße*",disabled:v.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(o,{cols:"12",sm:"3"},{default:l(()=>[e(_,{modelValue:i(d).house_number,"onUpdate:modelValue":t[12]||(t[12]=n=>i(d).house_number=n),"error-messages":y.value.house_number,label:"Hausnummer*",disabled:v.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(o,{cols:"12",sm:"3"},{default:l(()=>[e(_,{modelValue:i(d).zip_code,"onUpdate:modelValue":t[13]||(t[13]=n=>i(d).zip_code=n),"error-messages":y.value.zip_code,label:"Postleitzahl*",disabled:v.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(o,{cols:"12",sm:"3"},{default:l(()=>[e(_,{modelValue:i(d).city,"onUpdate:modelValue":t[14]||(t[14]=n=>i(d).city=n),"error-messages":y.value.city,label:"Stadt*",disabled:v.value,clearable:""},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:1}),e(b,null,{default:l(()=>[e(o,{cols:"12",sm:"6"},{default:l(()=>[e(Oe,{modelValue:i(d).location,"onUpdate:modelValue":t[15]||(t[15]=n=>i(d).location=n),"error-messages":y.value.location,label:"Ort*",disabled:v.value,required:""},null,8,["modelValue","error-messages","disabled"])]),_:1}),e(o,{cols:"12",sm:"6"},{default:l(()=>[e(Oe,{modelValue:i(d).notes,"onUpdate:modelValue":t[16]||(t[16]=n=>i(d).notes=n),"error-messages":y.value.notes,label:"Notizen",disabled:v.value,required:""},null,8,["modelValue","error-messages","disabled"])]),_:1})]),_:1})]),_:2},1024)]),_:2},1024),e(ne,null,{default:l(()=>[e(C,null,{default:l(({isHovering:n,props:O})=>[e(W,f({onClick:Xe},O,{color:n?"accent":"primary"}),{default:l(()=>[g("Zurücksetzen")]),_:2},1040,["color"])]),_:2},1024),e(ue),e(C,null,{default:l(({isHovering:n,props:O})=>[e(R,f({onClick:x},O,{color:n?"accent":"primary"}),{default:l(()=>[g("Stornieren")]),_:2},1040,["color"])]),_:2},1024),e(C,null,{default:l(({isHovering:n,props:O})=>[e(W,f({onClick:Ye},O,{color:n?"accent":"primary"}),{default:l(()=>[g("Speichern")]),_:2},1040,["color"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1040,["color"])]),_:1})):A("",!0)]),u.$page.props.auth.user.is_super_admin||u.$page.props.auth.user.is_admin?(w(),P(se,{key:0,modelValue:_e.value,"onUpdate:modelValue":t[18]||(t[18]=a=>_e.value=a),width:"20vw"},{default:l(()=>[e(oe,{height:"30vh"},{default:l(()=>[e(te,null,{default:l(()=>[e(Q,null,{default:l(()=>[e(b,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[vl]),_:1})]),_:1})]),_:1})]),_:1}),e(ne,null,{default:l(()=>[e(ue),e(C,null,{default:l(({isHovering:a,props:p})=>[e(R,f({onClick:x},p,{color:a?"accent":"primary"}),{default:l(()=>[g("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(C,null,{default:l(({isHovering:a,props:p})=>[e(W,f({onClick:We},p,{color:a?"accent":"primary"}),{default:l(()=>[g("Löschen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):A("",!0)]),default:l(()=>[r("div",pl,[u.$page.props.auth.user.is_super_admin||u.$page.props.auth.user.is_admin?(w(),X("div",_l,[r("div",fl,[e(b,null,{default:l(()=>[e(o,{cols:"12",sm:"4"},{default:l(()=>[e(S,{locale:"de"},{default:l(()=>[e(V,{modelValue:ke.value,"onUpdate:modelValue":t[21]||(t[21]=a=>ke.value=a),"return-value":$.value,"close-on-content-click":!1},{activator:l(({props:a})=>[e(_,f({label:"Erster Schulungstag",class:"tw-cursor-pointer","model-value":fe.value,"prepend-icon":"mdi-calendar",readonly:"",clearable:""},a,{"onClick:clear":Re}),null,16,["model-value"])]),default:l(()=>[e(c,{"onUpdate:modelValue":[t[19]||(t[19]=a=>ke.value=!1),t[20]||(t[20]=a=>$.value=a)],modelValue:$.value},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(S,{locale:"de"},{default:l(()=>[e(V,{modelValue:Se.value,"onUpdate:modelValue":t[24]||(t[24]=a=>Se.value=a),"return-value":E.value,"close-on-content-click":!1},{activator:l(({props:a})=>[e(_,f({label:"Zweiter Schulungstag",class:"tw-cursor-pointer","model-value":ge.value,"prepend-icon":"mdi-calendar",readonly:"",clearable:""},a,{"onClick:clear":Je}),null,16,["model-value"])]),default:l(()=>[e(c,{modelValue:E.value,"onUpdate:modelValue":[t[22]||(t[22]=a=>E.value=a),t[23]||(t[23]=a=>Se.value=!1)]},null,8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1})]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(_,{modelValue:N.value,"onUpdate:modelValue":t[25]||(t[25]=a=>N.value=a),label:"Ort",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(b,null,{default:l(()=>[e(o,{cols:"12",sm:"4"},{default:l(()=>[e(_,{type:"number",modelValue:j.value,"onUpdate:modelValue":t[26]||(t[26]=a=>j.value=a),label:"Teilnehmerzahl",clearable:""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(_,{type:"number",modelValue:L.value,"onUpdate:modelValue":t[27]||(t[27]=a=>L.value=a),label:"Max. Teilnehmerzahl",clearable:""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(J,{modelValue:B.value,"onUpdate:modelValue":t[28]||(t[28]=a=>B.value=a),items:G.types,"item-title":"title","item-value":"value",label:"Typ",multiple:"",disabled:v.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1}),e(b,null,{default:l(()=>[e(o,{cols:"12",sm:"4"},{default:l(()=>[e(J,{modelValue:K.value,"onUpdate:modelValue":t[29]||(t[29]=a=>K.value=a),items:G.statuses,"item-title":"title","item-value":"value",label:"Status",multiple:"",disabled:v.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[u.$page.props.auth.user.is_super_admin||u.$page.props.auth.user.is_admin?(w(),P(J,{key:0,modelValue:I.value,"onUpdate:modelValue":t[30]||(t[30]=a=>I.value=a),items:G.multipliers,"item-title":"full_name","item-value":"id",label:"Multiplikator",multiple:"",disabled:v.value,clearable:""},null,8,["modelValue","items","disabled"])):A("",!0)]),_:1}),e(o,{cols:"12",sm:"4"},{default:l(()=>[e(J,{modelValue:Z.value,"onUpdate:modelValue":t[31]||(t[31]=a=>Z.value=a),items:G.kitas,"item-title":"name","item-value":"id",label:"Kita",multiple:"",disabled:v.value,clearable:""},null,8,["modelValue","items","disabled"])]),_:1})]),_:1})])])):A("",!0),e(el,{"items-per-page":ee.value,"onUpdate:itemsPerPage":t[33]||(t[33]=a=>ee.value=a),"items-per-page-options":[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],"items-per-page-text":"Objekte pro Seite:",headers:Me,page:ie.value,"items-length":Ee.value,items:He.value,search:xe.value,loading:v.value,class:"data-table-container elevation-1","item-value":"name","onUpdate:options":ze},{item:l(({item:a})=>{var p;return[r("tr",{"data-id":a.id,"data-order":a.order},[r("td",null,T(!a.first_date||a.first_date==="-"?a.first_date:i(je)(a.first_date,"de-DE")),1),r("td",null,T(!a.second_date||a.second_date==="-"?a.second_date:i(je)(a.second_date,"de-DE")),1),r("td",null,T(a.formatted_location),1),r("td",null,T(a.prepared_participant_count),1),r("td",null,T(a!=null&&a.kitas_list&&(a!=null&&a.kitas_list.length)?a==null?void 0:a.kitas_list.join(","):"-"),1),r("td",null,T(a.formatted_type),1),r("td",null,T(a.formatted_status),1),r("td",null,T(a!=null&&a.multiplier?(p=a==null?void 0:a.multiplier)==null?void 0:p.full_name:"-"),1),r("td",null,T(a.notes),1),r("td",null,T(!a.created_at||a.created_at==="-"?a.created_at:i(Le)(a.created_at,"de-DE")),1),r("td",null,T(!a.updated_at||a.updated_at==="-"?a.updated_at:i(Le)(a.updated_at,"de-DE")),1),r("td",bl,[a.status==="planned"?(w(),P(de,{key:0,location:"top"},{activator:l(({props:n})=>[r("span",{class:"tw-cursor-pointer",onClick:O=>Ce(a,"confirmed")},[e(re,f(n,{size:"small",class:"tw-me-2"}),{default:l(()=>[g("mdi-progress-check")]),_:2},1040)],8,hl)]),default:l(()=>[Vl]),_:2},1024)):A("",!0),a.status==="confirmed"?(w(),P(de,{key:1,location:"top"},{activator:l(({props:n})=>[r("span",{class:"tw-cursor-pointer",onClick:O=>Ce(a,"completed")},[e(re,f(n,{size:"small",class:"tw-me-2"}),{default:l(()=>[g("mdi-check")]),_:2},1040)],8,yl)]),default:l(()=>[wl]),_:2},1024)):A("",!0),a.status!=="completed"&&a.status!=="cancelled"&&(u.$page.props.auth.user.is_super_admin||u.$page.props.auth.user.is_admin)?(w(),P(de,{key:2,location:"top"},{activator:l(({props:n})=>[r("span",{class:"tw-cursor-pointer",onClick:O=>Ce(a,"cancelled")},[e(re,f(n,{size:"small",class:"tw-me-2"}),{default:l(()=>[g("mdi-close")]),_:2},1040)],8,kl)]),default:l(()=>[Sl]),_:2},1024)):A("",!0),e(de,{location:"top"},{activator:l(({props:n})=>[e(i(sl),{href:u.route("trainings.show",{id:a.id})},{default:l(()=>[e(re,f(n,{size:"small",class:"tw-me-2"}),{default:l(()=>[g("mdi-pencil")]),_:2},1040)]),_:2},1032,["href"])]),default:l(()=>[Fl]),_:2},1024),u.$page.props.auth.user.is_super_admin||u.$page.props.auth.user.is_admin?(w(),P(de,{key:3,location:"top"},{activator:l(({props:n})=>[e(re,f(n,{size:"small",class:"tw-me-2",onClick:O=>Qe(a)}),{default:l(()=>[g("mdi-delete")]),_:2},1040,["onClick"])]),default:l(()=>[Tl]),_:2},1024)):A("",!0)])],8,gl)]}),"no-data":l(()=>[r("div",Cl,[Pe.value?(w(),X("h3",Dl,"Die Tabelle ist leer.")):(w(),X(we,{key:1},[Ul,e(R,{color:"primary",onClick:t[32]||(t[32]=a=>ze({page:1,itemsPerPage:ee.value,clearFilters:!0}))},{default:l(()=>[g("Reset")]),_:1})],64))])]),_:1},8,["items-per-page","items-per-page-options","page","items-length","items","search","loading"]),e(Q,null,{default:l(()=>[e(b,null,{default:l(()=>[e(se,{modelValue:me.value,"onUpdate:modelValue":t[36]||(t[36]=a=>me.value=a),width:"80vw"},{default:l(()=>[e(oe,{height:"80vw"},{default:l(()=>[e(h,null,{default:l(()=>[$l]),_:1}),e(te,null,{default:l(()=>[e(Q,null,{default:l(()=>[e(b,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[(w(!0),X(we,null,Ae(Ge.value,a=>(w(),P(b,null,{default:l(()=>[e(o,{cols:"12",sm:"2"},{default:l(()=>[r("span",El,T(a==null?void 0:a.label)+":",1)]),_:2},1024),e(o,{cols:"12",sm:"10"},{default:l(()=>[r("span",null,T(a==null?void 0:a.value),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),le.value&&le.value.length?(w(),P(b,{key:0},{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[xl,Pl]),_:1}),e(o,{cols:"12",class:"tw--mt-6"},{default:l(()=>[e(tl,null,{default:l(()=>[(w(!0),X(we,null,Ae(le.value,a=>(w(),P(al,{class:"hide-details",key:a.id},{default:l(()=>[e(ll,{class:"!tw-font-bold !tw-font-italic !tw-text-black",label:a.name,value:a,modelValue:Ve.value,"onUpdate:modelValue":t[34]||(t[34]=p=>Ve.value=p)},null,8,["label","value","modelValue"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):A("",!0)]),_:1})]),_:1}),e(ne,null,{default:l(()=>[e(ue),e(C,null,{default:l(({isHovering:a,props:p})=>[e(R,f({onClick:x},p,{color:a?"accent":"primary"}),{default:l(()=>[g("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(C,null,{default:l(({isHovering:a,props:p})=>[e(W,f({onClick:t[35]||(t[35]=n=>De("confirmed"))},p,{color:a?"accent":"primary"}),{default:l(()=>[g("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(se,{modelValue:ve.value,"onUpdate:modelValue":t[38]||(t[38]=a=>ve.value=a),width:"20vw"},{default:l(()=>[e(oe,{height:"30vh"},{default:l(()=>[e(te,null,{default:l(()=>[e(Q,null,{default:l(()=>[e(b,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[zl]),_:1})]),_:1})]),_:1})]),_:1}),e(ne,null,{default:l(()=>[e(ue),e(C,null,{default:l(({isHovering:a,props:p})=>[e(R,f({onClick:x},p,{color:a?"accent":"primary"}),{default:l(()=>[g("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(C,null,{default:l(({isHovering:a,props:p})=>[e(W,f({onClick:t[37]||(t[37]=n=>De("completed"))},p,{color:a?"accent":"primary"}),{default:l(()=>[g("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(se,{modelValue:pe.value,"onUpdate:modelValue":t[40]||(t[40]=a=>pe.value=a),width:"20vw"},{default:l(()=>[e(oe,{height:"30vh"},{default:l(()=>[e(te,null,{default:l(()=>[e(Q,null,{default:l(()=>[e(b,null,{default:l(()=>[e(o,{cols:"12"},{default:l(()=>[Ol]),_:1})]),_:1})]),_:1})]),_:1}),e(ne,null,{default:l(()=>[e(ue),e(C,null,{default:l(({isHovering:a,props:p})=>[e(R,f({onClick:x},p,{color:a?"accent":"primary"}),{default:l(()=>[g("Abbrechen")]),_:2},1040,["color"])]),_:1}),e(C,null,{default:l(({isHovering:a,props:p})=>[e(W,f({onClick:t[39]||(t[39]=n=>De("cancelled"))},p,{color:a?"accent":"primary"}),{default:l(()=>[g("Einreichen")]),_:2},1040,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["errors"])],64)}}};export{Kl as default};
